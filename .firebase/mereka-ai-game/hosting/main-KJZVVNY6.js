var bA=Object.defineProperty,EA=Object.defineProperties;var CA=Object.getOwnPropertyDescriptors;var nw=Object.getOwnPropertySymbols;var DA=Object.prototype.hasOwnProperty,TA=Object.prototype.propertyIsEnumerable;var rw=(n,e,t)=>e in n?bA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})DA.call(e,t)&&rw(n,t,e[t]);if(nw)for(var t of nw(e))TA.call(e,t)&&rw(n,t,e[t]);return n},pe=(n,e)=>EA(n,CA(e));var C=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var iw=null;var Df=1,Tf=Symbol("SIGNAL");function Me(n){let e=iw;return iw=n,e}var ow={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function SA(n){if(!(Af(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Df)){if(!n.producerMustRecompute(n)&&!Sf(n)){n.dirty=!1,n.lastCleanEpoch=Df;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Df}}function sw(n){return n&&(n.nextProducerIndex=0),Me(n)}function aw(n,e){if(Me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Af(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)xf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Sf(n){yu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(SA(t),r!==t.version))return!0}return!1}function cw(n){if(yu(n),Af(n))for(let e=0;e<n.producerNode.length;e++)xf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function xf(n,e){if(xA(n),yu(n),n.liveConsumerNode.length===1)for(let r=0;r<n.producerNode.length;r++)xf(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];yu(i),i.producerIndexOfThis[r]=e}}function Af(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function yu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function xA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function AA(){throw new Error}var MA=AA;function uw(n){MA=n}function le(n){return typeof n=="function"}function Br(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var vu=Br(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Di(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var et=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){e=o instanceof vu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{lw(o)}catch(s){e=e??[],s instanceof vu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)lw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Di(t,e)}remove(e){let{_finalizers:t}=this;t&&Di(t,e),e instanceof n&&e._removeParent(this)}};et.EMPTY=(()=>{let n=new et;return n.closed=!0,n})();var Mf=et.EMPTY;function _u(n){return n instanceof et||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function lw(n){le(n)?n():n.unsubscribe()}var Dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _o={setTimeout(n,e,...t){let{delegate:r}=_o;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=_o;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function wu(n){_o.setTimeout(()=>{let{onUnhandledError:e}=Dn;if(e)e(n);else throw n})}function da(){}var dw=Rf("C",void 0,void 0);function hw(n){return Rf("E",void 0,n)}function fw(n){return Rf("N",n,void 0)}function Rf(n,e,t){return{kind:n,value:e,error:t}}var Ti=null;function wo(n){if(Dn.useDeprecatedSynchronousErrorHandling){let e=!Ti;if(e&&(Ti={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ti;if(Ti=null,t)throw r}}else n()}function pw(n){Dn.useDeprecatedSynchronousErrorHandling&&Ti&&(Ti.errorThrown=!0,Ti.error=n)}var Si=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_u(e)&&e.add(this)):this.destination=NA}static create(e,t,r){return new Io(e,t,r)}next(e){this.isStopped?Nf(fw(e),this):this._next(e)}error(e){this.isStopped?Nf(hw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Nf(dw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},RA=Function.prototype.bind;function Pf(n,e){return RA.call(n,e)}var Of=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Iu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Iu(r)}else Iu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Iu(t)}}},Io=class extends Si{constructor(e,t,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Dn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pf(e.next,o),error:e.error&&Pf(e.error,o),complete:e.complete&&Pf(e.complete,o)}):i=e}this.destination=new Of(i)}};function Iu(n){Dn.useDeprecatedSynchronousErrorHandling?pw(n):wu(n)}function PA(n){throw n}function Nf(n,e){let{onStoppedNotification:t}=Dn;t&&_o.setTimeout(()=>t(n,e))}var NA={closed:!0,next:da,error:PA,complete:da};var bo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ft(n){return n}function kf(...n){return Ff(n)}function Ff(n){return n.length===0?Ft:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var we=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=kA(t)?t:new Io(t,r,i);return wo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=mw(r),new r((i,o)=>{let s=new Io({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[bo](){return this}pipe(...t){return Ff(t)(this)}toPromise(t){return t=mw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function mw(n){var e;return(e=n??Dn.Promise)!==null&&e!==void 0?e:Promise}function OA(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}function kA(n){return n&&n instanceof Si||OA(n)&&_u(n)}function Lf(n){return le(n?.lift)}function Ie(n){return e=>{if(Lf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,r,i){return new Vf(n,e,t,r,i)}var Vf=class extends Si{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Eo(){return Ie((n,e)=>{let t=null;n._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Co=class extends we{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Lf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return Eo()(this)}};var gw=Br(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var bt=(()=>{class n extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new bu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new gw}next(t){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Mf:(this.currentObservers=null,o.push(t),new et(()=>{this.currentObservers=null,Di(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new we;return t.source=this,t}}return n.create=(e,t)=>new bu(e,t),n})(),bu=class extends bt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Mf}};var ut=class extends bt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var jf={now(){return(jf.delegate||Date).now()},delegate:void 0};var Eu=class extends et{constructor(e,t){super()}schedule(e,t=0){return this}};var ha={setInterval(n,e,...t){let{delegate:r}=ha;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ha;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Do=class extends Eu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ha.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ha.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Di(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var To=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};To.now=jf.now;var So=class extends To{constructor(e,t=To.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var xo=new So(Do),Uf=xo;var Cu=class extends Do{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Du=class extends So{};var Bf=new Du(Cu);var Qt=new we(n=>n.complete());function Tu(n){return n&&le(n.schedule)}function yw(n){return n[n.length-1]}function Su(n){return le(yw(n))?n.pop():void 0}function $r(n){return Tu(yw(n))?n.pop():void 0}function $f(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function _w(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(g){s(g)}}function u(h){try{l(r.throw(h))}catch(g){s(g)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function vw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xi(n){return this instanceof xi?(this.v=n,this):new xi(n)}function ww(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(I){return function(R){return Promise.resolve(R).then(I,g)}}function a(I,R){r[I]&&(i[I]=function(N){return new Promise(function(O,H){o.push([I,N,O,H])>1||u(I,N)})},R&&(i[I]=R(i[I])))}function u(I,R){try{l(r[I](R))}catch(N){_(o[0][3],N)}}function l(I){I.value instanceof xi?Promise.resolve(I.value.v).then(h,g):_(o[0][2],I)}function h(I){u("next",I)}function g(I){u("throw",I)}function _(I,R){I(R),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Iw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vw=="function"?vw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var xu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Au(n){return le(n?.then)}function Mu(n){return le(n[bo])}function Ru(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function Pu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nu=FA();function Ou(n){return le(n?.[Nu])}function ku(n){return ww(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield xi(t.read());if(i)return yield xi(void 0);yield yield xi(r)}}finally{t.releaseLock()}})}function Fu(n){return le(n?.getReader)}function Ge(n){if(n instanceof we)return n;if(n!=null){if(Mu(n))return LA(n);if(xu(n))return VA(n);if(Au(n))return jA(n);if(Ru(n))return bw(n);if(Ou(n))return UA(n);if(Fu(n))return BA(n)}throw Pu(n)}function LA(n){return new we(e=>{let t=n[bo]();if(le(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VA(n){return new we(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function jA(n){return new we(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,wu)})}function UA(n){return new we(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function bw(n){return new we(e=>{$A(n,e).catch(t=>e.error(t))})}function BA(n){return bw(ku(n))}function $A(n,e){var t,r,i,o;return _w(this,void 0,void 0,function*(){try{for(t=Iw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Et(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function qr(n,e=0){return Ie((t,r)=>{t.subscribe(me(r,i=>Et(r,n,()=>r.next(i),e),()=>Et(r,n,()=>r.complete(),e),i=>Et(r,n,()=>r.error(i),e)))})}function Hr(n,e=0){return Ie((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ew(n,e){return Ge(n).pipe(Hr(e),qr(e))}function Cw(n,e){return Ge(n).pipe(Hr(e),qr(e))}function Dw(n,e){return new we(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Tw(n,e){return new we(t=>{let r;return Et(t,e,()=>{r=n[Nu](),Et(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function Lu(n,e){if(!n)throw new Error("Iterable cannot be null");return new we(t=>{Et(t,e,()=>{let r=n[Symbol.asyncIterator]();Et(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Sw(n,e){return Lu(ku(n),e)}function xw(n,e){if(n!=null){if(Mu(n))return Ew(n,e);if(xu(n))return Dw(n,e);if(Au(n))return Cw(n,e);if(Ru(n))return Lu(n,e);if(Ou(n))return Tw(n,e);if(Fu(n))return Sw(n,e)}throw Pu(n)}function ke(n,e){return e?xw(n,e):Ge(n)}function Z(...n){let e=$r(n);return ke(n,e)}function jn(n,e){let t=le(n)?n:()=>n,r=i=>i.error(t());return new we(e?i=>e.schedule(r,0,i):r)}function qf(n){return!!n&&(n instanceof we||le(n.lift)&&le(n.subscribe))}var hr=Br(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Vu(n){return n instanceof Date&&!isNaN(n)}var qA=Br(n=>function(t=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function fa(n,e){let{first:t,each:r,with:i=HA,scheduler:o=e??xo,meta:s=null}=Vu(n)?{first:n}:typeof n=="number"?{each:n}:n;if(t==null&&r==null)throw new TypeError("No timeout provided.");return Ie((a,u)=>{let l,h,g=null,_=0,I=R=>{h=Et(u,o,()=>{try{l.unsubscribe(),Ge(i({meta:s,lastValue:g,seen:_})).subscribe(u)}catch(N){u.error(N)}},R)};l=a.subscribe(me(u,R=>{h?.unsubscribe(),_++,u.next(g=R),r>0&&I(r)},void 0,void 0,()=>{h?.closed||h?.unsubscribe(),g=null})),!_&&I(t!=null?typeof t=="number"?t:+t-o.now():r)})}function HA(n){throw new qA(n)}function ge(n,e){return Ie((t,r)=>{let i=0;t.subscribe(me(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:zA}=Array;function GA(n,e){return zA(e)?n(...e):n(e)}function ju(n){return ge(e=>GA(n,e))}var{isArray:WA}=Array,{getPrototypeOf:KA,prototype:QA,keys:YA}=Object;function Uu(n){if(n.length===1){let e=n[0];if(WA(e))return{args:e,keys:null};if(JA(e)){let t=YA(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function JA(n){return n&&typeof n=="object"&&KA(n)===QA}function Bu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function pa(...n){let e=$r(n),t=Su(n),{args:r,keys:i}=Uu(n);if(r.length===0)return ke([],e);let o=new we(XA(r,e,i?s=>Bu(i,s):Ft));return t?o.pipe(ju(t)):o}function XA(n,e,t=Ft){return r=>{Aw(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Aw(e,()=>{let l=ke(n[u],e),h=!1;l.subscribe(me(r,g=>{o[u]=g,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Aw(n,e,t){n?Et(t,n,e):e()}function Mw(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,g=!1,_=()=>{g&&!u.length&&!l&&e.complete()},I=N=>l<r?R(N):u.push(N),R=N=>{o&&e.next(N),l++;let O=!1;Ge(t(N,h++)).subscribe(me(e,H=>{i?.(H),o?I(H):e.next(H)},()=>{O=!0},void 0,()=>{if(O)try{for(l--;u.length&&l<r;){let H=u.shift();s?Et(e,s,()=>R(H)):R(H)}_()}catch(H){e.error(H)}}))};return n.subscribe(me(e,I,()=>{g=!0,_()})),()=>{a?.()}}function nt(n,e,t=1/0){return le(e)?nt((r,i)=>ge((o,s)=>e(r,o,i,s))(Ge(n(r,i))),t):(typeof e=="number"&&(t=e),Ie((r,i)=>Mw(r,i,n,t)))}function Ao(n=1/0){return nt(Ft,n)}function Rw(){return Ao(1)}function Mo(...n){return Rw()(ke(n,$r(n)))}function $u(n){return new we(e=>{Ge(n()).subscribe(e)})}function Hf(...n){let e=Su(n),{args:t,keys:r}=Uu(n),i=new we(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let g=!1;Ge(t[h]).subscribe(me(o,_=>{g||(g=!0,l--),a[h]=_},()=>u--,void 0,()=>{(!u||!g)&&(l||o.next(r?Bu(r,a):a),o.complete())}))}});return e?i.pipe(ju(e)):i}function Pw(n=0,e,t=Uf){let r=-1;return e!=null&&(Tu(e)?t=e:r=e),new we(i=>{let o=Vu(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function qt(n,e){return Ie((t,r)=>{let i=0;t.subscribe(me(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ln(n){return Ie((e,t)=>{let r=null,i=!1,o;r=e.subscribe(me(t,void 0,void 0,s=>{o=Ge(n(s,ln(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Nw(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(me(s,h=>{let g=l++;u=a?n(u,h,g):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function fr(n,e){return le(e)?nt(n,e,1):nt(n,1)}function zr(n){return Ie((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function pr(n){return n<=0?()=>Qt:Ie((e,t)=>{let r=0;e.subscribe(me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function zf(n){return ge(()=>n)}function qu(n=ZA){return Ie((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ZA(){return new hr}function Ai(n){return Ie((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Un(n,e){let t=arguments.length>=2;return r=>r.pipe(n?qt((i,o)=>n(i,o,r)):Ft,pr(1),t?zr(e):qu(()=>new hr))}function Ro(n){return n<=0?()=>Qt:Ie((e,t)=>{let r=[];e.subscribe(me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Gf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?qt((i,o)=>n(i,o,r)):Ft,Ro(1),t?zr(e):qu(()=>new hr))}function ma(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?Ft:Ie((o,s)=>{let a=0,u,l=()=>{let h=!1;u=o.subscribe(me(s,g=>{i&&(a=0),s.next(g)},void 0,g=>{if(a++<t){let _=()=>{u?(u.unsubscribe(),u=null,l()):h=!0};if(r!=null){let I=typeof r=="number"?Pw(r):Ge(r(g,a)),R=me(s,()=>{R.unsubscribe(),_()},()=>{s.complete()});I.subscribe(R)}else _()}else s.error(g)})),h&&(u.unsubscribe(),u=null,l())};l()})}function Wf(n,e){return Ie(Nw(n,e,arguments.length>=2,!0))}function Kf(...n){let e=$r(n);return Ie((t,r)=>{(e?Mo(n,t,e):Mo(n,t)).subscribe(r)})}function pt(n,e){return Ie((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(me(r,u=>{i?.unsubscribe();let l=0,h=o++;Ge(n(u,h)).subscribe(i=me(r,g=>r.next(e?e(u,g,h,l++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qf(n){return Ie((e,t)=>{Ge(n).subscribe(me(t,()=>t.complete(),da)),!t.closed&&e.subscribe(t)})}function rt(n,e,t){let r=le(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(me(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ft}var mI="https://g.co/ng/security#xss",J=class extends Error{constructor(e,t){super(Il(e,t)),this.code=e}};function Il(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Sa(n){return{toString:n}.toString()}var Hu="__parameters__";function e1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function gI(n,e,t){return Sa(()=>{let r=e1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let g=u.hasOwnProperty(Hu)?u[Hu]:Object.defineProperty(u,Hu,{value:[]})[Hu];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Mi=globalThis;function Ve(n){for(let e in n)if(n[e]===Ve)return e;throw Error("Could not find renamed property on target object.")}function t1(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Vt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Vt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function dp(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var n1=Ve({__forward_ref__:Ve});function Pn(n){return n.__forward_ref__=Pn,n.toString=function(){return Vt(this())},n}function Lt(n){return yI(n)?n():n}function yI(n){return typeof n=="function"&&n.hasOwnProperty(n1)&&n.__forward_ref__===Pn}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Yt(n){return{providers:n.providers||[],imports:n.imports||[]}}function bl(n){return Ow(n,_I)||Ow(n,wI)}function vI(n){return bl(n)!==null}function Ow(n,e){return n.hasOwnProperty(e)?n[e]:null}function r1(n){let e=n&&(n[_I]||n[wI]);return e||null}function kw(n){return n&&(n.hasOwnProperty(Fw)||n.hasOwnProperty(i1))?n[Fw]:null}var _I=Ve({\u0275prov:Ve}),Fw=Ve({\u0275inj:Ve}),wI=Ve({ngInjectableDef:Ve}),i1=Ve({ngInjectorDef:Ve}),X=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function II(n){return n&&!!n.\u0275providers}var o1=Ve({\u0275cmp:Ve}),s1=Ve({\u0275dir:Ve}),a1=Ve({\u0275pipe:Ve}),c1=Ve({\u0275mod:Ve}),Zu=Ve({\u0275fac:Ve}),ga=Ve({__NG_ELEMENT_ID__:Ve}),Lw=Ve({__NG_ENV_ID__:Ve});function Vo(n){return typeof n=="string"?n:n==null?"":String(n)}function u1(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Vo(n)}function l1(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new J(-200,n)}function Zp(n,e){throw new J(-201,!1)}var be=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(be||{}),hp;function bI(){return hp}function Ht(n){let e=hp;return hp=n,e}function EI(n,e,t){let r=bl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&be.Optional)return null;if(e!==void 0)return e;Zp(n,"Injector")}var d1={},ya=d1,fp="__NG_DI_FLAG__",el="ngTempTokenPath",h1="ngTokenPath",f1=/\n/gm,p1="\u0275",Vw="__source",Fo;function m1(){return Fo}function Gr(n){let e=Fo;return Fo=n,e}function g1(n,e=be.Default){if(Fo===void 0)throw new J(-203,!1);return Fo===null?EI(n,void 0,e):Fo.get(n,e&be.Optional?null:void 0,e)}function F(n,e=be.Default){return(bI()||g1)(Lt(n),e)}function U(n,e=be.Default){return F(n,El(e))}function El(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pp(n){let e=[];for(let t=0;t<n.length;t++){let r=Lt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new J(900,!1);let i,o=be.Default;for(let s=0;s<r.length;s++){let a=r[s],u=y1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(F(i,o))}else e.push(F(r))}return e}function CI(n,e){return n[fp]=e,n.prototype[fp]=e,n}function y1(n){return n[fp]}function v1(n,e,t,r){let i=n[el];throw e[Vw]&&i.unshift(e[Vw]),n.message=_1(`
`+n.message,i,t,r),n[h1]=i,n[el]=null,n}function _1(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==p1?n.slice(2):n;let i=Vt(e);if(Array.isArray(e))i=e.map(Vt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Vt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(f1,`
  `)}`}var hn=CI(gI("Optional"),8);var em=CI(gI("SkipSelf"),4);function Ni(n,e){let t=n.hasOwnProperty(Zu);return t?n[Zu]:null}function tm(n,e){n.forEach(t=>Array.isArray(t)?tm(t,e):e(t))}function DI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function tl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function w1(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function nm(n,e,t){let r=xa(n,e);return r>=0?n[r|1]=t:(r=~r,w1(n,r,e,t)),r}function Yf(n,e){let t=xa(n,e);if(t>=0)return n[t|1]}function xa(n,e){return I1(n,e,1)}function I1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var jo={},zt=[],Uo=new X(""),TI=new X("",-1),SI=new X(""),nl=class{get(e,t=ya){if(t===ya){let r=new Error(`NullInjectorError: No provider for ${Vt(e)}!`);throw r.name="NullInjectorError",r}return t}},xI=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(xI||{}),qn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(qn||{}),Ct=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ct||{});function b1(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function mp(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];E1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function AI(n){return n===3||n===4||n===6}function E1(n){return n.charCodeAt(0)===64}function va(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?jw(n,t,i,null,e[++r]):jw(n,t,i,null,null))}}return n}function jw(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var MI="ng-template";function C1(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&b1(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(rm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function rm(n){return n.type===4&&n.value!==MI}function D1(n,e,t){let r=n.type===4&&!t?MI:n.value;return e===r}function T1(n,e,t){let r=4,i=n.attrs,o=i!==null?A1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Tn(r)&&!Tn(u))return!1;if(s&&Tn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!D1(n,u,t)||u===""&&e.length===1){if(Tn(r))return!1;s=!0}}else if(r&8){if(i===null||!C1(n,i,u,t)){if(Tn(r))return!1;s=!0}}else{let l=e[++a],h=S1(u,i,rm(n),t);if(h===-1){if(Tn(r))return!1;s=!0;continue}if(l!==""){let g;if(h>o?g="":g=i[h+1].toLowerCase(),r&2&&l!==g){if(Tn(r))return!1;s=!0}}}}return Tn(r)||s}function Tn(n){return(n&1)===0}function S1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return M1(e,n)}function x1(n,e,t=!1){for(let r=0;r<e.length;r++)if(T1(n,e[r],t))return!0;return!1}function A1(n){for(let e=0;e<n.length;e++){let t=n[e];if(AI(t))return e}return n.length}function M1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Uw(n,e){return n?":not("+e.trim()+")":e}function R1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Tn(s)&&(e+=Uw(o,i),i=""),r=s,o=o||!Tn(r);t++}return i!==""&&(e+=Uw(o,i)),e}function P1(n){return n.map(R1).join(",")}function N1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Tn(i))break;i=o}r++}return{attrs:e,classes:t}}function te(n){return Sa(()=>{let e=FI(n),t=pe(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===xI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||qn.Emulated,styles:n.styles||zt,_:null,schemas:n.schemas||null,tView:null,id:""});LI(t);let r=n.dependencies;return t.directiveDefs=$w(r,!1),t.pipeDefs=$w(r,!0),t.id=F1(t),t})}function O1(n){return Kr(n)||PI(n)}function k1(n){return n!==null}function Jt(n){return Sa(()=>({type:n.type,bootstrap:n.bootstrap||zt,declarations:n.declarations||zt,imports:n.imports||zt,exports:n.exports||zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Bw(n,e){if(n==null)return jo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Ct.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Ct.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Ke(n){return Sa(()=>{let e=FI(n);return LI(e),e})}function RI(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Kr(n){return n[o1]||null}function PI(n){return n[s1]||null}function NI(n){return n[a1]||null}function OI(n){let e=Kr(n)||PI(n)||NI(n);return e!==null?e.standalone:!1}function kI(n,e){let t=n[c1]||null;if(!t&&e===!0)throw new Error(`Type ${Vt(n)} does not have '\u0275mod' property.`);return t}function FI(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||jo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||zt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bw(n.inputs,e),outputs:Bw(n.outputs),debugInfo:null}}function LI(n){n.features?.forEach(e=>e(n))}function $w(n,e){if(!n)return null;let t=e?NI:O1;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(k1)}function F1(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ko(n){return{\u0275providers:n}}function im(...n){return{\u0275providers:VI(!0,n),\u0275fromNgModule:!0}}function VI(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return tm(e,s=>{let a=s;gp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&jI(i,o),t}function jI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];om(i,o=>{e(o,r)})}}function gp(n,e,t,r){if(n=Lt(n),!n)return!1;let i=null,o=kw(n),s=!o&&Kr(n);if(!o&&!s){let u=n.ngModule;if(o=kw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)gp(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{tm(o.imports,h=>{gp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&jI(l,e)}if(!a){let l=Ni(i)||(()=>new i);e({provide:i,useFactory:l,deps:zt},i),e({provide:SI,useValue:i,multi:!0},i),e({provide:Uo,useValue:()=>F(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;om(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function om(n,e){for(let t of n)II(t)&&(t=t.\u0275providers),Array.isArray(t)?om(t,e):e(t)}var L1=Ve({provide:String,useValue:Ve});function UI(n){return n!==null&&typeof n=="object"&&L1 in n}function V1(n){return!!(n&&n.useExisting)}function j1(n){return!!(n&&n.useFactory)}function Bo(n){return typeof n=="function"}function U1(n){return!!n.useClass}var Cl=new X(""),Ku={},B1={},Jf;function sm(){return Jf===void 0&&(Jf=new nl),Jf}var Dt=class{},_a=class extends Dt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vp(e,s=>this.processProvider(s)),this.records.set(TI,Po(void 0,this)),i.has("environment")&&this.records.set(Dt,Po(void 0,this));let o=this.records.get(Cl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(SI,zt,be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Gr(this),r=Ht(void 0),i;try{return e()}finally{Gr(t),Ht(r)}}get(e,t=ya,r=be.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Lw))return e[Lw](this);r=El(r);let i,o=Gr(this),s=Ht(void 0);try{if(!(r&be.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=G1(e)&&bl(e);l&&this.injectableDefInScope(l)?u=Po(yp(e),Ku):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&be.Self?sm():this.parent;return t=r&be.Optional&&t===ya?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[el]=a[el]||[]).unshift(Vt(e)),o)throw a;return v1(a,e,"R3InjectorError",this.source)}else throw a}finally{Ht(s),Gr(o)}}resolveInjectorInitializers(){let e=Me(null),t=Gr(this),r=Ht(void 0),i;try{let o=this.get(Uo,zt,be.Self);for(let s of o)s()}finally{Gr(t),Ht(r),Me(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(e){e=Lt(e);let t=Bo(e)?e:Lt(e&&e.provide),r=q1(e);if(!Bo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Po(void 0,Ku,!0),i.factory=()=>pp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Me(null);try{return t.value===Ku&&(t.value=B1,t.value=t.factory()),typeof t.value=="object"&&t.value&&z1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Lt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function yp(n){let e=bl(n),t=e!==null?e.factory:Ni(n);if(t!==null)return t;if(n instanceof X)throw new J(204,!1);if(n instanceof Function)return $1(n);throw new J(204,!1)}function $1(n){if(n.length>0)throw new J(204,!1);let t=r1(n);return t!==null?()=>t.factory(n):()=>new n}function q1(n){if(UI(n))return Po(void 0,n.useValue);{let e=BI(n);return Po(e,Ku)}}function BI(n,e,t){let r;if(Bo(n)){let i=Lt(n);return Ni(i)||yp(i)}else if(UI(n))r=()=>Lt(n.useValue);else if(j1(n))r=()=>n.useFactory(...pp(n.deps||[]));else if(V1(n))r=()=>F(Lt(n.useExisting));else{let i=Lt(n&&(n.useClass||n.provide));if(H1(n))r=()=>new i(...pp(n.deps));else return Ni(i)||yp(i)}return r}function Po(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function H1(n){return!!n.deps}function z1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function G1(n){return typeof n=="function"||typeof n=="object"&&n instanceof X}function vp(n,e){for(let t of n)Array.isArray(t)?vp(t,e):t&&II(t)?vp(t.\u0275providers,e):e(t)}function Nn(n,e){n instanceof _a&&n.assertNotDestroyed();let t,r=Gr(n),i=Ht(void 0);try{return e()}finally{Gr(r),Ht(i)}}function $I(){return bI()!==void 0||m1()!=null}function W1(n){if(!$I())throw new J(-203,!1)}function K1(n){return typeof n=="function"}var vr=0,Ee=1,se=2,Tt=3,xn=4,On=5,rl=6,wa=7,An=8,$o=9,Mn=10,tt=11,Ia=12,qw=13,Qo=14,Hn=15,Dl=16,No=17,qo=18,Tl=19,qI=20,Wr=21,Xf=22,Oi=23,Rn=25,HI=1;var ki=7,il=8,ol=9,dn=10,am=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(am||{});function Ri(n){return Array.isArray(n)&&typeof n[HI]=="object"}function _r(n){return Array.isArray(n)&&n[HI]===!0}function cm(n){return(n.flags&4)!==0}function Sl(n){return n.componentOffset>-1}function xl(n){return(n.flags&1)===1}function Qr(n){return!!n.template}function Q1(n){return(n[se]&512)!==0}var _p=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function zI(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Xr(){return GI}function GI(n){return n.type.prototype.ngOnChanges&&(n.setInput=J1),Y1}Xr.ngInherit=!0;function Y1(){let n=KI(this),e=n?.current;if(e){let t=n.previous;if(t===jo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function J1(n,e,t,r,i){let o=this.declaredInputs[r],s=KI(n)||X1(n,{previous:jo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new _p(l&&l.currentValue,t,u===jo),zI(n,e,i,t)}var WI="__ngSimpleChanges__";function KI(n){return n[WI]||null}function X1(n,e){return n[WI]=e}var Hw=null;var Bn=function(n,e,t){Hw?.(n,e,t)},QI="svg",Z1="math",eM=!1;function tM(){return eM}function zn(n){for(;Array.isArray(n);)n=n[vr];return n}function YI(n,e){return zn(e[n])}function fn(n,e){return zn(e[n.index])}function JI(n,e){return n.data[e]}function nM(n,e){return n[e]}function Zr(n,e){let t=e[n];return Ri(t)?t:t[vr]}function um(n){return(n[se]&128)===128}function rM(n){return _r(n[Tt])}function Ho(n,e){return e==null?null:n[e]}function XI(n){n[No]=0}function iM(n){n[se]&1024||(n[se]|=1024,um(n)&&ba(n))}function oM(n,e){for(;n>0;)e=e[Qo],n--;return e}function lm(n){return!!(n[se]&9216||n[Oi]?.dirty)}function wp(n){n[Mn].changeDetectionScheduler?.notify(1),lm(n)?ba(n):n[se]&64&&(tM()?(n[se]|=1024,ba(n)):n[Mn].changeDetectionScheduler?.notify())}function ba(n){n[Mn].changeDetectionScheduler?.notify();let e=Ea(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!um(e)));)e=Ea(e)}function ZI(n,e){if((n[se]&256)===256)throw new J(911,!1);n[Wr]===null&&(n[Wr]=[]),n[Wr].push(e)}function sM(n,e){if(n[Wr]===null)return;let t=n[Wr].indexOf(e);t!==-1&&n[Wr].splice(t,1)}function Ea(n){let e=n[Tt];return _r(e)?e[Tt]:e}var ve={lFrame:ab(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function aM(){return ve.lFrame.elementDepthCount}function cM(){ve.lFrame.elementDepthCount++}function uM(){ve.lFrame.elementDepthCount--}function eb(){return ve.bindingsEnabled}function lM(){return ve.skipHydrationRootTNode!==null}function dM(n){return ve.skipHydrationRootTNode===n}function hM(){ve.skipHydrationRootTNode=null}function Re(){return ve.lFrame.lView}function mt(){return ve.lFrame.tView}function Xt(n){return ve.lFrame.contextLView=n,n[An]}function Zt(n){return ve.lFrame.contextLView=null,n}function jt(){let n=tb();for(;n!==null&&n.type===64;)n=n.parent;return n}function tb(){return ve.lFrame.currentTNode}function fM(){let n=ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ui(n,e){let t=ve.lFrame;t.currentTNode=n,t.isParent=e}function dm(){return ve.lFrame.isParent}function nb(){ve.lFrame.isParent=!1}function rb(){let n=ve.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function pM(){return ve.lFrame.bindingIndex}function mM(n){return ve.lFrame.bindingIndex=n}function Al(){return ve.lFrame.bindingIndex++}function hm(n){let e=ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function gM(){return ve.lFrame.inI18n}function yM(n,e){let t=ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ip(e)}function vM(){return ve.lFrame.currentDirectiveIndex}function Ip(n){ve.lFrame.currentDirectiveIndex=n}function _M(n){let e=ve.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function ib(n){ve.lFrame.currentQueryIndex=n}function wM(n){let e=n[Ee];return e.type===2?e.declTNode:e.type===1?n[On]:null}function ob(n,e,t){if(t&be.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&be.Host);)if(i=wM(o),i===null||(o=o[Qo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ve.lFrame=sb();return r.currentTNode=e,r.lView=n,!0}function fm(n){let e=sb(),t=n[Ee];ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sb(){let n=ve.lFrame,e=n===null?null:n.child;return e===null?ab(n):e}function ab(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function cb(){let n=ve.lFrame;return ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ub=cb;function pm(){let n=cb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function IM(n){return(ve.lFrame.contextLView=oM(n,ve.lFrame.contextLView))[An]}function ei(){return ve.lFrame.selectedIndex}function Fi(n){ve.lFrame.selectedIndex=n}function mm(){let n=ve.lFrame;return JI(n.tView,n.selectedIndex)}function Aa(){ve.lFrame.currentNamespace=QI}function Ma(){bM()}function bM(){ve.lFrame.currentNamespace=null}function EM(){return ve.lFrame.currentNamespace}var lb=!0;function Ml(){return lb}function Rl(n){lb=n}function CM(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=GI(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Pl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Qu(n,e,t){db(n,e,3,t)}function Yu(n,e,t,r){(n[se]&3)===t&&db(n,e,t,r)}function Zf(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function db(n,e,t,r){let i=r!==void 0?n[No]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[No]+=65536),(a<o||o==-1)&&(DM(n,t,e,u),n[No]=(n[No]&4294901760)+u+2),u++}function zw(n,e){Bn(4,n,e);let t=Me(null);try{e.call(n)}finally{Me(t),Bn(5,n,e)}}function DM(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[se]>>14<n[No]>>16&&(n[se]&3)===e&&(n[se]+=16384,zw(a,o)):zw(a,o)}var Lo=-1,Li=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function TM(n){return n instanceof Li}function SM(n){return(n.flags&8)!==0}function xM(n){return(n.flags&16)!==0}function hb(n){return n!==Lo}function sl(n){return n&32767}function AM(n){return n>>16}function al(n,e){let t=AM(n),r=e;for(;t>0;)r=r[Qo],t--;return r}var bp=!0;function cl(n){let e=bp;return bp=n,e}var MM=256,fb=MM-1,pb=5,RM=0,$n={};function PM(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ga)&&(r=t[ga]),r==null&&(r=t[ga]=RM++);let i=r&fb,o=1<<i;e.data[n+(i>>pb)]|=o}function ul(n,e){let t=mb(n,e);if(t!==-1)return t;let r=e[Ee];r.firstCreatePass&&(n.injectorIndex=e.length,ep(r.data,n),ep(e,null),ep(r.blueprint,null));let i=gm(n,e),o=n.injectorIndex;if(hb(i)){let s=sl(i),a=al(i,e),u=a[Ee].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function ep(n,e){n.push(0,0,0,0,0,0,0,0,e)}function mb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function gm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=wb(i),r===null)return Lo;if(t++,i=i[Qo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Lo}function Ep(n,e,t){PM(n,e,t)}function NM(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(AI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function gb(n,e,t){if(t&be.Optional||n!==void 0)return n;Zp(e,"NodeInjector")}function yb(n,e,t,r){if(t&be.Optional&&r===void 0&&(r=null),!(t&(be.Self|be.Host))){let i=n[$o],o=Ht(void 0);try{return i?i.get(e,r,t&be.Optional):EI(e,r,t&be.Optional)}finally{Ht(o)}}return gb(r,e,t)}function vb(n,e,t,r=be.Default,i){if(n!==null){if(e[se]&2048&&!(r&be.Self)){let s=VM(n,e,t,r,$n);if(s!==$n)return s}let o=_b(n,e,t,r,$n);if(o!==$n)return o}return yb(e,t,r,i)}function _b(n,e,t,r,i){let o=FM(t);if(typeof o=="function"){if(!ob(e,n,r))return r&be.Host?gb(i,t,r):yb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&be.Optional))Zp(t);else return s}finally{ub()}}else if(typeof o=="number"){let s=null,a=mb(n,e),u=Lo,l=r&be.Host?e[Hn][On]:null;for((a===-1||r&be.SkipSelf)&&(u=a===-1?gm(n,e):e[a+8],u===Lo||!Ww(r,!1)?a=-1:(s=e[Ee],a=sl(u),e=al(u,e)));a!==-1;){let h=e[Ee];if(Gw(o,a,h.data)){let g=OM(a,e,t,s,r,l);if(g!==$n)return g}u=e[a+8],u!==Lo&&Ww(r,e[Ee].data[a+8]===l)&&Gw(o,a,e)?(s=h,a=sl(u),e=al(u,e)):a=-1}}return i}function OM(n,e,t,r,i,o){let s=e[Ee],a=s.data[n+8],u=r==null?Sl(a)&&bp:r!=s&&(a.type&3)!==0,l=i&be.Host&&o===a,h=kM(a,s,t,u,l);return h!==null?zo(e,s,h,a):$n}function kM(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,g=r?a:a+h,_=i?a+h:l;for(let I=g;I<_;I++){let R=s[I];if(I<u&&t===R||I>=u&&R.type===t)return I}if(i){let I=s[u];if(I&&Qr(I)&&I.type===t)return u}return null}function zo(n,e,t,r){let i=n[t],o=e.data;if(TM(i)){let s=i;s.resolving&&l1(u1(o[t]));let a=cl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ht(s.injectImpl):null,h=ob(n,r,be.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&CM(t,o[t],e)}finally{l!==null&&Ht(l),cl(a),s.resolving=!1,ub()}}return i}function FM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ga)?n[ga]:void 0;return typeof e=="number"?e>=0?e&fb:LM:e}function Gw(n,e,t){let r=1<<n;return!!(t[e+(n>>pb)]&r)}function Ww(n,e){return!(n&be.Self)&&!(n&be.Host&&e)}var Pi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return vb(this._tNode,this._lView,e,El(r),t)}};function LM(){return new Pi(jt(),Re())}function pn(n){return Sa(()=>{let e=n.prototype.constructor,t=e[Zu]||Cp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Zu]||Cp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Cp(n){return yI(n)?()=>{let e=Cp(Lt(n));return e&&e()}:Ni(n)}function VM(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!(s[se]&512);){let a=_b(o,s,t,r|be.Self,$n);if(a!==$n)return a;let u=o.parent;if(!u){let l=s[qI];if(l){let h=l.get(t,$n,r);if(h!==$n)return h}u=wb(s),s=s[Qo]}o=u}return i}function wb(n){let e=n[Ee],t=e.type;return t===2?e.declTNode:t===1?n[On]:null}function ym(n){return NM(jt(),n)}function Kw(n,e=null,t=null,r){let i=Ib(n,e,t,r);return i.resolveInjectorInitializers(),i}function Ib(n,e=null,t=null,r,i=new Set){let o=[t||zt,im(n)];return r=r||(typeof n=="object"?void 0:Vt(n)),new _a(o,e||sm(),r||null,i)}var en=(()=>{class n{static{this.THROW_IF_NOT_FOUND=ya}static{this.NULL=new nl}static create(t,r){if(Array.isArray(t))return Kw({name:""},r,t,"");{let i=t.name??"";return Kw({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=$({token:n,providedIn:"any",factory:()=>F(TI)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var jM="ngOriginalError";function tp(n){return n[jM]}var Gn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&tp(e);for(;t&&tp(t);)t=tp(t);return t||null}},bb=new X("",{providedIn:"root",factory:()=>U(Gn).handleError.bind(void 0)}),vm=(()=>{class n{static{this.__NG_ELEMENT_ID__=UM}static{this.__NG_ENV_ID__=t=>t}}return n})(),Dp=class extends vm{constructor(e){super(),this._lView=e}onDestroy(e){return ZI(this._lView,e),()=>sM(this._lView,e)}};function UM(){return new Dp(Re())}function BM(){return Nl(jt(),Re())}function Nl(n,e){return new Wn(fn(n,e))}var Wn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=BM}}return n})();var Tp=class extends bt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,$I()&&(this.destroyRef=U(vm,{optional:!0})??void 0)}emit(e){let t=Me(null);try{super.next(e)}finally{Me(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=np(o),i&&(i=np(i)),s&&(s=np(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof et&&e.add(a),a}};function np(n){return e=>{setTimeout(n,void 0,e)}}var it=Tp;function Eb(n){return(n.flags&128)===128}var Cb=new Map,$M=0;function qM(){return $M++}function HM(n){Cb.set(n[Tl],n)}function zM(n){Cb.delete(n[Tl])}var Qw="__ngContext__";function Yr(n,e){Ri(e)?(n[Qw]=e[Tl],HM(e)):n[Qw]=e}function Db(n){return Sb(n[Ia])}function Tb(n){return Sb(n[xn])}function Sb(n){for(;n!==null&&!_r(n);)n=n[xn];return n}var Sp;function xb(n){Sp=n}function GM(){if(Sp!==void 0)return Sp;if(typeof document<"u")return document;throw new J(210,!1)}var _m=new X("",{providedIn:"root",factory:()=>WM}),WM="ng",wm=new X(""),mn=new X("",{providedIn:"platform",factory:()=>"unknown"});var Im=new X("",{providedIn:"root",factory:()=>GM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var KM="h",QM="b";var YM=()=>null;function bm(n,e,t=!1){return YM(n,e,t)}var Ab=!1,JM=new X("",{providedIn:"root",factory:()=>Ab});var zu;function XM(){if(zu===void 0&&(zu=null,Mi.trustedTypes))try{zu=Mi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zu}function Yw(n){return XM()?.createScriptURL(n)||n}var ll=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mI})`}};function Yo(n){return n instanceof ll?n.changingThisBreaksApplicationSecurity:n}function Em(n,e){let t=ZM(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${mI})`)}return t===e}function ZM(n){return n instanceof ll&&n.getTypeName()||null}var eR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mb(n){return n=String(n),n.match(eR)?n:"unsafe:"+n}var Ol=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ol||{});function tR(n){let e=Pb();return e?e.sanitize(Ol.URL,n)||"":Em(n,"URL")?Yo(n):Mb(Vo(n))}function nR(n){let e=Pb();if(e)return Yw(e.sanitize(Ol.RESOURCE_URL,n)||"");if(Em(n,"ResourceURL"))return Yw(Yo(n));throw new J(904,!1)}function rR(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?nR:tR}function Rb(n,e,t){return rR(e,t)(n)}function Pb(){let n=Re();return n&&n[Mn].sanitizer}var iR=/^>|^->|<!--|-->|--!>|<!-$/g,oR=/(<|>)/g,sR="\u200B$1\u200B";function aR(n){return n.replace(iR,e=>e.replace(oR,sR))}function Nb(n){return n instanceof Function?n():n}function cR(n){return(n??U(en)).get(mn)==="browser"}var mr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(mr||{}),uR;function Cm(n,e){return uR(n,e)}function Oo(n,e,t,r,i){if(r!=null){let o,s=!1;_r(r)?o=r:Ri(r)&&(s=!0,r=r[vr]);let a=zn(r);n===0&&t!==null?i==null?Vb(e,t,a):dl(e,t,a,i||null,!0):n===1&&t!==null?dl(e,t,a,i||null,!0):n===2?SR(e,a,s):n===3&&e.destroyNode(a),o!=null&&AR(e,n,o,t,i)}}function lR(n,e){return n.createText(e)}function dR(n,e,t){n.setValue(e,t)}function hR(n,e){return n.createComment(aR(e))}function Ob(n,e,t){return n.createElement(e,t)}function fR(n,e){kb(n,e),e[vr]=null,e[On]=null}function pR(n,e,t,r,i,o){r[vr]=i,r[On]=e,Fl(n,r,t,1,i,o)}function kb(n,e){e[Mn].changeDetectionScheduler?.notify(1),Fl(n,e,e[tt],2,null,null)}function mR(n){let e=n[Ia];if(!e)return rp(n[Ee],n);for(;e;){let t=null;if(Ri(e))t=e[Ia];else{let r=e[dn];r&&(t=r)}if(!t){for(;e&&!e[xn]&&e!==n;)Ri(e)&&rp(e[Ee],e),e=e[Tt];e===null&&(e=n),Ri(e)&&rp(e[Ee],e),t=e&&e[xn]}e=t}}function gR(n,e,t,r){let i=dn+r,o=t.length;r>0&&(t[i-1][xn]=e),r<o-dn?(e[xn]=t[i],DI(t,dn+r,e)):(t.push(e),e[xn]=null),e[Tt]=t;let s=e[Dl];s!==null&&t!==s&&yR(s,e);let a=e[qo];a!==null&&a.insertView(n),wp(e),e[se]|=128}function yR(n,e){let t=n[ol],i=e[Tt][Tt][Hn];e[Hn]!==i&&(n[se]|=am.HasTransplantedViews),t===null?n[ol]=[e]:t.push(e)}function Fb(n,e){let t=n[ol],r=t.indexOf(e);t.splice(r,1)}function xp(n,e){if(n.length<=dn)return;let t=dn+e,r=n[t];if(r){let i=r[Dl];i!==null&&i!==n&&Fb(i,r),e>0&&(n[t-1][xn]=r[xn]);let o=tl(n,dn+e);fR(r[Ee],r);let s=o[qo];s!==null&&s.detachView(o[Ee]),r[Tt]=null,r[xn]=null,r[se]&=-129}return r}function Lb(n,e){if(!(e[se]&256)){let t=e[tt];t.destroyNode&&Fl(n,e,t,3,null,null),mR(e)}}function rp(n,e){if(e[se]&256)return;let t=Me(null);try{e[se]&=-129,e[se]|=256,e[Oi]&&cw(e[Oi]),_R(n,e),vR(n,e),e[Ee].type===1&&e[tt].destroy();let r=e[Dl];if(r!==null&&_r(e[Tt])){r!==e[Tt]&&Fb(r,e);let i=e[qo];i!==null&&i.detachView(n)}zM(e)}finally{Me(t)}}function vR(n,e){let t=n.cleanup,r=e[wa];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[wa]=null);let i=e[Wr];if(i!==null){e[Wr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function _R(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Li)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Bn(4,a,u);try{u.call(a)}finally{Bn(5,a,u)}}else{Bn(4,i,o);try{o.call(i)}finally{Bn(5,i,o)}}}}}function wR(n,e,t){return IR(n,e.parent,t)}function IR(n,e,t){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return t[vr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===qn.None||o===qn.Emulated)return null}return fn(r,t)}}function dl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Vb(n,e,t){n.appendChild(e,t)}function Jw(n,e,t,r,i){r!==null?dl(n,e,t,r,i):Vb(n,e,t)}function bR(n,e,t,r){n.removeChild(e,t,r)}function Dm(n,e){return n.parentNode(e)}function ER(n,e){return n.nextSibling(e)}function CR(n,e,t){return TR(n,e,t)}function DR(n,e,t){return n.type&40?fn(n,t):null}var TR=DR,Xw;function kl(n,e,t,r){let i=wR(n,r,e),o=e[tt],s=r.parent||e[On],a=CR(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Jw(o,i,t[u],a,!1);else Jw(o,i,t,a,!1);Xw!==void 0&&Xw(o,r,e,t,i)}function Ju(n,e){if(e!==null){let t=e.type;if(t&3)return fn(e,n);if(t&4)return Ap(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ju(n,r);{let i=n[e.index];return _r(i)?Ap(-1,i):zn(i)}}else{if(t&32)return Cm(e,n)()||zn(n[e.index]);{let r=jb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ea(n[Hn]);return Ju(i,r)}else return Ju(n,e.next)}}}return null}function jb(n,e){if(e!==null){let r=n[Hn][On],i=e.projection;return r.projection[i]}return null}function Ap(n,e){let t=dn+n+1;if(t<e.length){let r=e[t],i=r[Ee].firstChild;if(i!==null)return Ju(r,i)}return e[ki]}function SR(n,e,t){let r=Dm(n,e);r&&bR(n,r,e,t)}function Tm(n,e,t,r,i,o,s){for(;t!=null;){let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Yr(zn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Tm(n,e,t.child,r,i,o,!1),Oo(e,n,i,a,o);else if(u&32){let l=Cm(t,r),h;for(;h=l();)Oo(e,n,i,h,o);Oo(e,n,i,a,o)}else u&16?xR(n,e,r,t,i,o):Oo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Fl(n,e,t,r,i,o){Tm(t,r,n.firstChild,e,i,o,!1)}function xR(n,e,t,r,i,o){let s=t[Hn],u=s[On].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Oo(e,n,i,h,o)}else{let l=u,h=s[Tt];Eb(r)&&(l.flags|=128),Tm(n,e,l,h,i,o,!0)}}function AR(n,e,t,r,i){let o=t[ki],s=zn(t);o!==s&&Oo(e,n,r,o,i);for(let a=dn;a<t.length;a++){let u=t[a];Fl(u[Ee],u,n,e,r,o)}}function MR(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:mr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=mr.Important),n.setStyle(t,r,i,o))}}function RR(n,e,t){n.setAttribute(e,"style",t)}function Ub(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Bb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&mp(n,e,r),i!==null&&Ub(n,e,i),o!==null&&RR(n,e,o)}var gn={};function D(n=1){$b(mt(),Re(),ei()+n,!1)}function $b(n,e,t,r){if(!r)if((e[se]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Qu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Yu(e,o,0,t)}Fi(t)}function B(n,e=be.Default){let t=Re();if(t===null)return F(n,e);let r=jt();return vb(r,t,Lt(n),e)}function qb(){let n="invalid";throw new Error(n)}function Hb(n,e,t,r,i,o){let s=Me(null);try{let a=null;i&Ct.SignalBased&&(a=e[r][Tf]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ct.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):zI(e,a,r,o)}finally{Me(s)}}function PR(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Fi(~i);else{let o=i,s=t[++r],a=t[++r];yM(s,o);let u=e[o];a(2,u)}}}finally{Fi(-1)}}function Ll(n,e,t,r,i,o,s,a,u,l,h){let g=e.blueprint.slice();return g[vr]=i,g[se]=r|4|128|8|64,(l!==null||n&&n[se]&2048)&&(g[se]|=2048),XI(g),g[Tt]=g[Qo]=n,g[An]=t,g[Mn]=s||n&&n[Mn],g[tt]=a||n&&n[tt],g[$o]=u||n&&n[$o]||null,g[On]=o,g[Tl]=qM(),g[rl]=h,g[qI]=l,g[Hn]=e.type==2?n[Hn]:g,g}function Ra(n,e,t,r,i){let o=n.data[e];if(o===null)o=NR(n,e,t,r,i),gM()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=fM();o.injectorIndex=s===null?-1:s.injectorIndex}return Ui(o,!0),o}function NR(n,e,t,r,i){let o=tb(),s=dm(),a=s?o:o&&o.parent,u=n.data[e]=VR(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function zb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Gb(n,e,t,r,i){let o=ei(),s=r&2;try{Fi(-1),s&&e.length>Rn&&$b(n,e,Rn,!1),Bn(s?2:0,i),t(r,i)}finally{Fi(o),Bn(s?3:1,i)}}function Sm(n,e,t){if(cm(e)){let r=Me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Me(r)}}}function xm(n,e,t){eb()&&(HR(n,e,t,fn(t,e)),(t.flags&64)===64&&Yb(n,e,t))}function Am(n,e,t=fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Wb(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Mm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Mm(n,e,t,r,i,o,s,a,u,l,h){let g=Rn+r,_=g+i,I=OR(g,_),R=typeof l=="function"?l():l;return I[Ee]={type:n,blueprint:I,template:t,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:R,incompleteFirstPass:!1,ssrId:h}}function OR(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:gn);return t}function kR(n,e,t,r){let o=r.get(JM,Ab)||t===qn.ShadowDom,s=n.selectRootElement(e,o);return FR(s),s}function FR(n){LR(n)}var LR=()=>null;function VR(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return lM()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Zw(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Ct.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?eI(r,t,l,a,u):eI(r,t,l,a)}return r}function eI(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function jR(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let g=o[h],_=t?t.get(g):null,I=_?_.inputs:null,R=_?_.outputs:null;u=Zw(0,g.inputs,h,u,I),l=Zw(1,g.outputs,h,l,R);let N=u!==null&&s!==null&&!rm(e)?tP(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function UR(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Kb(n,e,t,r,i,o,s,a){let u=fn(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Pm(n,t,h,r,i),Sl(e)&&BR(t,e.index)):e.type&3?(r=UR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function BR(n,e){let t=Zr(e,n);t[se]&16||(t[se]|=64)}function Rm(n,e,t,r){if(eb()){let i=r===null?null:{"":-1},o=GR(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Qb(n,e,t,s,i,a),i&&WR(t,r,i)}t.mergedAttrs=va(t.mergedAttrs,t.attrs)}function Qb(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Ep(ul(t,e),n,r[l].type);QR(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=zb(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=va(t.mergedAttrs,h.hostAttrs),YR(n,t,e,u,h),KR(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let g=h.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}jR(n,t,o)}function $R(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;qR(s)!=a&&s.push(a),s.push(t,r,o)}}function qR(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function HR(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Sl(t)&&JR(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ul(t,e),Yr(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=zo(e,n,a,t);if(Yr(l,e),s!==null&&eP(e,a-i,l,u,t,s),Qr(u)){let h=Zr(t.index,e);h[An]=zo(e,n,a,t)}}}function Yb(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=vM();try{Fi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Ip(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&zR(u,l)}}finally{Fi(-1),Ip(s)}}function zR(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function GR(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(x1(e,s.selectors,!1))if(r||(r=[]),Qr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Mp(n,e,u)}else r.unshift(s),Mp(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Mp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function WR(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new J(-301,!1);r.push(e[i],o)}}}function KR(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Qr(e)&&(t[""]=n)}}function QR(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function YR(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ni(i.type,!0)),s=new Li(o,Qr(i),B);n.blueprint[r]=s,t[r]=s,$R(n,e,r,zb(n,t,i.hostVars,gn),i)}function JR(n,e,t){let r=fn(e,n),i=Wb(t),o=n[Mn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Vl(n,Ll(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function XR(n,e,t,r,i,o){let s=fn(n,e);ZR(e[tt],s,o,n.value,t,r,i)}function ZR(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Vo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function eP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],g=s[a++];Hb(r,t,u,l,h,g)}}function tP(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function Jb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Xb(n,e){let t=n.contentQueries;if(t!==null){let r=Me(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];ib(o),a.contentQueries(2,e[s],s)}}}finally{Me(r)}}}function Vl(n,e){return n[Ia]?n[qw][xn]=e:n[Ia]=e,n[qw]=e,e}function Rp(n,e,t){ib(0);let r=Me(null);try{e(n,t)}finally{Me(r)}}function nP(n){return n[wa]||(n[wa]=[])}function rP(n){return n.cleanup||(n.cleanup=[])}function Zb(n,e){let t=n[$o],r=t?t.get(Gn,null):null;r&&r.handleError(e)}function Pm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];Hb(h,l,r,a,u,i)}}function eE(n,e,t){let r=YI(e,n);dR(n[tt],r,t)}function iP(n,e){let t=Zr(e,n),r=t[Ee];oP(r,t);let i=t[vr];i!==null&&t[rl]===null&&(t[rl]=bm(i,t[$o])),Nm(r,t,t[An])}function oP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Nm(n,e,t){fm(e);try{let r=n.viewQuery;r!==null&&Rp(1,r,t);let i=n.template;i!==null&&Gb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[qo]?.finishViewCreation(n),n.staticContentQueries&&Xb(n,e),n.staticViewQueries&&Rp(2,n.viewQuery,t);let o=n.components;o!==null&&sP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,pm()}}function sP(n,e){for(let t=0;t<e.length;t++)iP(n,e[t])}function aP(n,e,t,r){let i=Me(null);try{let o=e.tView,a=n[se]&4096?4096:16,u=Ll(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Dl]=l;let h=n[qo];return h!==null&&(u[qo]=h.createEmbeddedView(o)),Nm(o,u,t),u}finally{Me(i)}}function tI(n,e){return!e||e.firstChild===null||Eb(n)}function cP(n,e,t,r=!0){let i=e[Ee];if(gR(i,e,n,t),r){let s=Ap(t,n),a=e[tt],u=Dm(a,n[ki]);u!==null&&pR(i,n[On],a,e,u,s)}let o=e[rl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function hl(n,e,t,r,i=!1){for(;t!==null;){let o=e[t.index];o!==null&&r.push(zn(o)),_r(o)&&uP(o,r);let s=t.type;if(s&8)hl(n,e,t.child,r);else if(s&32){let a=Cm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=jb(e,t);if(Array.isArray(a))r.push(...a);else{let u=Ea(e[Hn]);hl(u[Ee],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function uP(n,e){for(let t=dn;t<n.length;t++){let r=n[t],i=r[Ee].firstChild;i!==null&&hl(r[Ee],r,i,e)}n[ki]!==n[vr]&&e.push(n[ki])}var tE=[];function lP(n){return n[Oi]??dP(n)}function dP(n){let e=tE.pop()??Object.create(fP);return e.lView=n,e}function hP(n){n.lView[Oi]!==n&&(n.lView=null,tE.push(n))}var fP=pe(V({},ow),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ba(n.lView)},consumerOnSignalRead(){this.lView[Oi]=this}}),nE=100;function rE(n,e=!0,t=0){let r=n[Mn],i=r.rendererFactory,o=!1;o||i.begin?.();try{pP(n,t)}catch(s){throw e&&Zb(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function pP(n,e){Pp(n,e);let t=0;for(;lm(n);){if(t===nE)throw new J(103,!1);t++,Pp(n,1)}}function mP(n,e,t,r){let i=e[se];if((i&256)===256)return;let o=!1;!o&&e[Mn].inlineEffectRunner?.flush(),fm(e);let s=null,a=null;!o&&gP(n)&&(a=lP(e),s=sw(a));try{XI(e),mM(n.bindingStartIndex),t!==null&&Gb(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&Qu(e,g,null)}else{let g=n.preOrderHooks;g!==null&&Yu(e,g,0,null),Zf(e,0)}if(yP(e),iE(e,0),n.contentQueries!==null&&Xb(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&Qu(e,g)}else{let g=n.contentHooks;g!==null&&Yu(e,g,1),Zf(e,1)}PR(n,e);let l=n.components;l!==null&&sE(e,l,0);let h=n.viewQuery;if(h!==null&&Rp(2,h,r),!o)if(u){let g=n.viewCheckHooks;g!==null&&Qu(e,g)}else{let g=n.viewHooks;g!==null&&Yu(e,g,2),Zf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Xf]){for(let g of e[Xf])g();e[Xf]=null}o||(e[se]&=-73)}catch(u){throw ba(e),u}finally{a!==null&&(aw(a,s),hP(a)),pm()}}function gP(n){return n.type!==2}function iE(n,e){for(let t=Db(n);t!==null;t=Tb(t))for(let r=dn;r<t.length;r++){let i=t[r];oE(i,e)}}function yP(n){for(let e=Db(n);e!==null;e=Tb(e)){if(!(e[se]&am.HasTransplantedViews))continue;let t=e[ol];for(let r=0;r<t.length;r++){let i=t[r],o=i[Tt];iM(i)}}}function vP(n,e,t){let r=Zr(e,n);oE(r,t)}function oE(n,e){um(n)&&Pp(n,e)}function Pp(n,e){let r=n[Ee],i=n[se],o=n[Oi],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Sf(o)),o&&(o.dirty=!1),n[se]&=-9217,s)mP(r,n,r.template,n[An]);else if(i&8192){iE(n,1);let a=r.components;a!==null&&sE(n,a,1)}}function sE(n,e,t){for(let r=0;r<e.length;r++)vP(n,e[r],t)}function Om(n){for(n[Mn].changeDetectionScheduler?.notify();n;){n[se]|=64;let e=Ea(n);if(Q1(n)&&!e)return n;n=e}return null}var Vi=class{get rootNodes(){let e=this._lView,t=e[Ee];return hl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[An]}set context(e){this._lView[An]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Tt];if(_r(e)){let t=e[il],r=t?t.indexOf(this):-1;r>-1&&(xp(e,r),tl(t,r))}this._attachedToViewContainer=!1}Lb(this._lView[Ee],this._lView)}onDestroy(e){ZI(this._lView,e)}markForCheck(){Om(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){wp(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,rE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,kb(this._lView[Ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e,wp(this._lView)}},jl=(()=>{class n{static{this.__NG_ELEMENT_ID__=IP}}return n})(),_P=jl,wP=class extends _P{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=aP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Vi(i)}};function IP(){return bP(jt(),Re())}function bP(n,e){return n.type&4?new wP(e,n,Nl(n,e)):null}var R9=new RegExp(`^(\\d+)*(${QM}|${KM})*(.*)`);var EP=()=>null;function nI(n,e){return EP(n,e)}var fl=class{},Np=class{},pl=class{};function CP(n){let e=Error(`No component factory found for ${Vt(n)}.`);return e[DP]=n,e}var DP="ngComponent";var Op=class{resolveComponentFactory(e){throw CP(e)}},Ul=(()=>{class n{static{this.NULL=new Op}}return n})(),Ca=class{},wr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>TP()}}return n})();function TP(){let n=Re(),e=jt(),t=Zr(e.index,n);return(Ri(t)?t:n)[tt]}var SP=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>null})}}return n})(),ip={};var rI=new Set;function Bl(n){rI.has(n)||(rI.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function iI(...n){}function xP(){let n=typeof Mi.requestAnimationFrame=="function",e=Mi[n?"requestAnimationFrame":"setTimeout"],t=Mi[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var Ne=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=xP().nativeRequestAnimationFrame,RP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new J(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,AP,iI,iI);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},AP={};function km(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function MP(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,kp(n),n.isCheckStableRunning=!0,km(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),kp(n))}function RP(n){let e=()=>{MP(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(PP(a))return t.invokeTask(i,o,s,a);try{return oI(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),sI(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return oI(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),sI(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,kp(n),km(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function kp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function oI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sI(n){n._nesting--,km(n)}function PP(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var ko=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ko||{}),NP={destroy(){}};function $l(n,e){!e&&W1($l);let t=e?.injector??U(en);if(!cR(t))return NP;Bl("NgAfterNextRender");let r=t.get(Fm),i=r.handler??=new Lp,o=e?.phase??ko.MixedReadWrite,s=()=>{i.unregister(u),a()},a=t.get(vm).onDestroy(s),u=Nn(t,()=>new Fp(o,()=>{s(),n()}));return i.register(u),{destroy:s}}var Fp=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=U(Ne),this.errorHandler=U(Gn,{optional:!0}),U(fl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Lp=class{constructor(){this.executingCallbacks=!1,this.buckets={[ko.EarlyRead]:new Set,[ko.Write]:new Set,[ko.MixedReadWrite]:new Set,[ko.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Fm=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}}return n})();function ml(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=dp(i,a);else if(o==2){let u=a,l=e[++s];r=dp(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var gl=class extends Ul{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Kr(e);return new Go(t,this.ngModule)}};function aI(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let r=n[t];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}function OP(n){let e=n.toLowerCase();return e==="svg"?QI:e==="math"?Z1:null}var Vp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=El(r);let i=this.injector.get(e,ip,r);return i!==ip||t===ip?i:this.parentInjector.get(e,t,r)}},Go=class extends pl{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=aI(e.inputs);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return aI(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=P1(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Me(null);try{i=i||this.ngModule;let s=i instanceof Dt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Vp(e,s):e,u=a.get(Ca,null);if(u===null)throw new J(407,!1);let l=a.get(SP,null),h=a.get(Fm,null),g=a.get(fl,null),_={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:g},I=u.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",N=r?kR(I,r,this.componentDef.encapsulation,a):Ob(I,R,OP(R)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let H=null;N!==null&&(H=bm(N,a,!0));let oe=Mm(0,null,null,1,0,null,null,null,null,null,null),W=Ll(null,oe,null,O,null,null,_,I,a,null,H);fm(W);let _e,ze;try{let ue=this.componentDef,S,w=null;ue.findHostDirectiveDefs?(S=[],w=new Map,ue.findHostDirectiveDefs(ue,S,w),S.push(ue)):S=[ue];let b=kP(W,N),T=FP(b,N,ue,S,W,_,I);ze=JI(oe,Rn),N&&jP(I,ue,N,r),t!==void 0&&UP(ze,this.ngContentSelectors,t),_e=VP(T,ue,S,w,W,[BP]),Nm(oe,W,null)}finally{pm()}return new jp(this.componentType,_e,Nl(ze,W),W,ze)}finally{Me(o)}}},jp=class extends Np{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Vi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Pm(o[Ee],o,i,e,t),this.previousInputValues.set(e,t);let s=Zr(this._tNode.index,o);Om(s)}}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kP(n,e){let t=n[Ee],r=Rn;return n[r]=e,Ra(t,r,2,"#host",null)}function FP(n,e,t,r,i,o,s){let a=i[Ee];LP(r,n,e,s);let u=null;e!==null&&(u=bm(e,i[$o]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let g=Ll(i,Wb(t),null,h,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&Mp(a,n,r.length-1),Vl(i,g),i[n.index]=g}function LP(n,e,t,r){for(let i of n)e.mergedAttrs=va(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ml(e,e.mergedAttrs,!0),t!==null&&Bb(r,t,e))}function VP(n,e,t,r,i,o){let s=jt(),a=i[Ee],u=fn(s,i);Qb(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let g=s.directiveStart+h,_=zo(i,a,g,s);Yr(_,i)}Yb(a,i,s),u&&Yr(u,i);let l=zo(i,a,s.directiveStart+s.componentOffset,s);if(n[An]=i[An]=l,o!==null)for(let h of o)h(l,e);return Sm(a,s,i),l}function jP(n,e,t,r){if(r)mp(n,t,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=N1(e.selectors[0]);i&&mp(n,t,i),o&&o.length>0&&Ub(n,t,o.join(" "))}}function UP(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function BP(){let n=jt();Pl(Re()[Ee],n)}var Jo=(()=>{class n{static{this.__NG_ELEMENT_ID__=$P}}return n})();function $P(){let n=jt();return HP(n,Re())}var qP=Jo,aE=class extends qP{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Nl(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){let e=gm(this._hostTNode,this._hostLView);if(hb(e)){let t=al(e,this._hostLView),r=sl(e),i=t[Ee].data[r+8];return new Pi(i,t)}else return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=cI(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-dn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=nI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,tI(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!K1(e),a;if(s)a=t;else{let R=t||{};a=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef}let u=s?e:new Go(Kr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Dt,null);N&&(o=N)}let h=Kr(u.componentType??{}),g=nI(this._lContainer,h?.id??null),_=g?.firstChild??null,I=u.create(l,i,_,o);return this.insertImpl(I.hostView,a,tI(this._hostTNode,g)),I}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(rM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Tt],l=new aE(u,u[On],u[Tt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return cP(s,i,o,r),e.attachToViewContainerRef(),DI(op(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=cI(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=xp(this._lContainer,t);r&&(tl(op(this._lContainer),t),Lb(r[Ee],r))}detach(e){let t=this._adjustIndex(e,-1),r=xp(this._lContainer,t);return r&&tl(op(this._lContainer),t)!=null?new Vi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function cI(n){return n[il]}function op(n){return n[il]||(n[il]=[])}function HP(n,e){let t,r=e[n.index];return _r(r)?t=r:(t=Jb(r,e,null,n),e[n.index]=t,Vl(e,t)),GP(t,e,n,r),new aE(t,n,e)}function zP(n,e){let t=n[tt],r=t.createComment(""),i=fn(e,n),o=Dm(t,i);return dl(t,o,r,ER(t,i),!1),r}var GP=QP,WP=()=>!1;function KP(n,e,t){return WP(n,e,t)}function QP(n,e,t,r){if(n[ki])return;let i;t.type&8?i=zn(r):i=zP(e,t),n[ki]=i}function YP(n){return typeof n=="function"&&n[Tf]!==void 0}function cE(n){return YP(n)&&typeof n.set=="function"}function JP(n){return Object.getPrototypeOf(n.prototype).constructor}function tn(n){let e=JP(n.type),t=!0,r=[n];for(;e;){let i;if(Qr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new J(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Gu(n.inputs),s.inputTransforms=Gu(n.inputTransforms),s.declaredInputs=Gu(n.declaredInputs),s.outputs=Gu(n.outputs);let a=i.hostBindings;a&&nN(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&eN(n,u),l&&tN(n,l),XP(n,i),t1(n.outputs,i.outputs),Qr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===tn&&(t=!1)}}e=Object.getPrototypeOf(e)}ZP(r)}function XP(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function ZP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=va(i.hostAttrs,t=va(t,i.hostAttrs))}}function Gu(n){return n===jo?{}:n===zt?[]:n}function eN(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function tN(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function nN(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Lm(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Jr=class{},Da=class{};var Up=class extends Jr{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gl(this);let i=kI(e);this._bootstrapComponents=Nb(i.bootstrap),this._r3Injector=Ib(e,t,[{provide:Jr,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver},...r],Vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bp=class extends Da{constructor(e){super(),this.moduleType=e}create(e){return new Up(this.moduleType,e,[])}};var yl=class extends Jr{constructor(e){super(),this.componentFactoryResolver=new gl(this),this.instance=null;let t=new _a([...e.providers,{provide:Jr,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver}],e.parent||sm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ql(n,e,t=null){return new yl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Xo=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function uE(n){return iN(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function rN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function iN(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function lE(n,e,t){return n[e]=t}function oN(n,e){return n[e]}function gr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function sN(n,e,t,r){let i=gr(n,e,t);return gr(n,e+1,r)||i}function aN(n){return(n.flags&32)===32}function cN(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Ra(e,n,4,s||null,Ho(l,a));Rm(e,t,h,Ho(l,u)),Pl(e,h);let g=h.tView=Mm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}function Y(n,e,t,r,i,o,s,a){let u=Re(),l=mt(),h=n+Rn,g=l.firstCreatePass?cN(h,l,u,e,t,r,i,o,s):l.data[h];Ui(g,!1);let _=uN(l,u,g,n);Ml()&&kl(l,u,_,g),Yr(_,u);let I=Jb(_,u,_,g);return u[h]=I,Vl(u,I),KP(I,g,u),xl(g)&&xm(l,u,g),s!=null&&Am(u,g,a),Y}var uN=lN;function lN(n,e,t,r){return Rl(!0),e[tt].createComment("")}function ti(n,e,t,r){let i=Re(),o=Al();if(gr(i,o,e)){let s=mt(),a=mm();XR(a,i,n,e,t,r)}return ti}function dN(n,e,t,r){return gr(n,Al(),t)?e+Vo(t)+r:gn}function hN(n,e,t,r,i,o){let s=pM(),a=sN(n,s,t,i);return hm(2),a?e+Vo(t)+r+Vo(i)+o:gn}function Wu(n,e){return n<<17|e<<2}function ji(n){return n>>17&32767}function fN(n){return(n&2)==2}function pN(n,e){return n&131071|e<<17}function $p(n){return n|2}function Wo(n){return(n&131068)>>2}function sp(n,e){return n&-131069|e<<2}function mN(n){return(n&1)===1}function qp(n){return n|1}function gN(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ji(s),u=Wo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let g=t;h=g[1],(h===null||xa(g,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let _=ji(n[a+1]);n[r+1]=Wu(_,a),_!==0&&(n[_+1]=sp(n[_+1],r)),n[a+1]=pN(n[a+1],r)}else n[r+1]=Wu(a,0),a!==0&&(n[a+1]=sp(n[a+1],r)),a=r;else n[r+1]=Wu(u,0),a===0?a=r:n[u+1]=sp(n[u+1],r),u=r;l&&(n[r+1]=$p(n[r+1])),uI(n,h,r,!0),uI(n,h,r,!1),yN(e,h,n,r,o),s=Wu(a,u),o?e.classBindings=s:e.styleBindings=s}function yN(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&xa(o,e)>=0&&(t[r+1]=qp(t[r+1]))}function uI(n,e,t,r){let i=n[t+1],o=e===null,s=r?ji(i):Wo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];vN(u,e)&&(a=!0,n[s+1]=r?qp(l):$p(l)),s=r?ji(l):Wo(l)}a&&(n[t+1]=r?$p(i):qp(i))}function vN(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?xa(n,e)>=0:!1}var Sn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _N(n){return n.substring(Sn.key,Sn.keyEnd)}function wN(n){return IN(n),dE(n,hE(n,0,Sn.textEnd))}function dE(n,e){let t=Sn.textEnd;return t===e?-1:(e=Sn.keyEnd=bN(n,Sn.key=e,t),hE(n,e,t))}function IN(n){Sn.key=0,Sn.keyEnd=0,Sn.value=0,Sn.valueEnd=0,Sn.textEnd=n.length}function hE(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function bN(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function q(n,e,t){let r=Re(),i=Al();if(gr(r,i,e)){let o=mt(),s=mm();Kb(o,s,r,n,e,r[tt],t,!1)}return q}function Hp(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Pm(n,t,o[s],s,r)}function Ir(n,e,t){return fE(n,e,t,!1),Ir}function br(n,e){return fE(n,e,null,!0),br}function Er(n){CN(MN,EN,n,!0)}function EN(n,e){for(let t=wN(e);t>=0;t=dE(e,t))nm(n,_N(e),!0)}function fE(n,e,t,r){let i=Re(),o=mt(),s=hm(2);if(o.firstUpdatePass&&mE(o,n,s,r),e!==gn&&gr(i,s,e)){let a=o.data[ei()];gE(o,a,i,i[tt],n,i[s+1]=PN(e,t),r,s)}}function CN(n,e,t,r){let i=mt(),o=hm(2);i.firstUpdatePass&&mE(i,null,o,r);let s=Re();if(t!==gn&&gr(s,o,t)){let a=i.data[ei()];if(yE(a,r)&&!pE(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(t=dp(u,t||"")),Hp(i,a,s,t,r)}else RN(i,a,s,s[tt],s[o+1],s[o+1]=AN(n,e,t),r,o)}}function pE(n,e){return e>=n.expandoStartIndex}function mE(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ei()],s=pE(n,t);yE(o,r)&&e===null&&!s&&(e=!1),e=DN(i,o,e,r),gN(i,o,e,t,s,r)}}function DN(n,e,t,r){let i=_M(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ap(null,n,e,t,r),t=Ta(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=ap(i,n,e,t,r),o===null){let u=TN(n,e,r);u!==void 0&&Array.isArray(u)&&(u=ap(null,n,e,u[1],r),u=Ta(u,e.attrs,r),SN(n,e,r,u))}else o=xN(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function TN(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Wo(r)!==0)return n[ji(r)]}function SN(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ji(i)]=r}function xN(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ta(r,s,t)}return Ta(r,e.attrs,t)}function ap(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ta(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ta(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),nm(n,s,t?!0:e[++o]))}return n===void 0?null:n}function AN(n,e,t){if(t==null||t==="")return zt;let r=[],i=Yo(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function MN(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&nm(n,r,t)}function RN(n,e,t,r,i,o,s,a){i===gn&&(i=zt);let u=0,l=0,h=0<i.length?i[0]:null,g=0<o.length?o[0]:null;for(;h!==null||g!==null;){let _=u<i.length?i[u+1]:void 0,I=l<o.length?o[l+1]:void 0,R=null,N;h===g?(u+=2,l+=2,_!==I&&(R=g,N=I)):g===null||h!==null&&h<g?(u+=2,R=h):(l+=2,R=g,N=I),R!==null&&gE(n,e,t,r,R,N,s,a),h=u<i.length?i[u]:null,g=l<o.length?o[l]:null}}function gE(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=mN(l)?lI(u,e,t,i,Wo(l),s):void 0;if(!vl(h)){vl(o)||fN(l)&&(o=lI(u,null,t,i,a,s));let g=YI(ei(),t);MR(r,s,g,i,o)}}function lI(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,g=h===null,_=t[i+1];_===gn&&(_=g?zt:void 0);let I=g?Yf(_,r):h===r?_:void 0;if(l&&!vl(I)&&(I=Yf(u,r)),vl(I)&&(a=I,s))return a;let R=n[i+1];i=s?ji(R):Wo(R)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Yf(u,r))}return a}function vl(n){return n!==void 0}function PN(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Vt(Yo(n)))),n}function yE(n,e){return(n.flags&(e?8:16))!==0}function NN(n,e,t,r,i,o){let s=e.consts,a=Ho(s,i),u=Ra(e,n,2,r,a);return Rm(e,t,u,Ho(s,o)),u.attrs!==null&&ml(u,u.attrs,!1),u.mergedAttrs!==null&&ml(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function p(n,e,t,r){let i=Re(),o=mt(),s=Rn+n,a=i[tt],u=o.firstCreatePass?NN(s,o,i,e,t,r):o.data[s],l=ON(o,i,u,a,e,n);i[s]=l;let h=xl(u);return Ui(u,!0),Bb(a,l,u),!aN(u)&&Ml()&&kl(o,i,l,u),aM()===0&&Yr(l,i),cM(),h&&(xm(o,i,u),Sm(o,u,i)),r!==null&&Am(i,u),p}function m(){let n=jt();dm()?nb():(n=n.parent,Ui(n,!1));let e=n;dM(e)&&hM(),uM();let t=mt();return t.firstCreatePass&&(Pl(t,n),cm(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&SM(e)&&Hp(t,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xM(e)&&Hp(t,e,Re(),e.stylesWithoutHost,!1),m}function de(n,e,t,r){return p(n,e,t,r),m(),de}var ON=(n,e,t,r,i,o)=>(Rl(!0),Ob(r,i,EM()));function kN(n,e,t,r,i){let o=e.consts,s=Ho(o,r),a=Ra(e,n,8,"ng-container",s);s!==null&&ml(a,s,!0);let u=Ho(o,i);return Rm(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function Kn(n,e,t){let r=Re(),i=mt(),o=n+Rn,s=i.firstCreatePass?kN(o,i,r,e,t):i.data[o];Ui(s,!0);let a=FN(i,r,s,n);return r[o]=a,Ml()&&kl(i,r,a,s),Yr(a,r),xl(s)&&(xm(i,r,s),Sm(i,s,r)),t!=null&&Am(r,s),Kn}function Qn(){let n=jt(),e=mt();return dm()?nb():(n=n.parent,Ui(n,!1)),e.firstCreatePass&&(Pl(e,n),cm(n)&&e.queries.elementEnd(n)),Qn}var FN=(n,e,t,r)=>(Rl(!0),hR(e[tt],""));function yn(){return Re()}var _l="en-US";var LN=_l;function VN(n){typeof n=="string"&&(LN=n.toLowerCase().replace(/_/g,"-"))}function ne(n,e,t,r){let i=Re(),o=mt(),s=jt();return vE(o,i,i[tt],s,n,e,r),ne}function jN(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[wa],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function vE(n,e,t,r,i,o,s){let a=xl(r),l=n.firstCreatePass&&rP(n),h=e[An],g=nP(e),_=!0;if(r.type&3||s){let N=fn(r,e),O=s?s(N):N,H=g.length,oe=s?_e=>s(zn(_e[r.index])):r.index,W=null;if(!s&&a&&(W=jN(n,e,i,r.index)),W!==null){let _e=W.__ngLastListenerFn__||W;_e.__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,_=!1}else{o=hI(r,e,h,o,!1);let _e=t.listen(O,i,o);g.push(o,_e),l&&l.push(i,oe,H,H+1)}}else o=hI(r,e,h,o,!1);let I=r.outputs,R;if(_&&I!==null&&(R=I[i])){let N=R.length;if(N)for(let O=0;O<N;O+=2){let H=R[O],oe=R[O+1],ze=e[H][oe].subscribe(o),ue=g.length;g.push(o,ze),l&&l.push(i,r.index,ue,-(ue+1))}}}function dI(n,e,t,r){let i=Me(null);try{return Bn(6,e,t),t(r)!==!1}catch(o){return Zb(n,o),!1}finally{Bn(7,e,t),Me(i)}}function hI(n,e,t,r,i){return function o(s){if(s===Function)return r;let a=n.componentOffset>-1?Zr(n.index,e):e;Om(a);let u=dI(e,t,r,s),l=o.__ngNextListenerFn__;for(;l;)u=dI(e,t,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Se(n=1){return IM(n)}function UN(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function y(n,e=""){let t=Re(),r=mt(),i=n+Rn,o=r.firstCreatePass?Ra(r,i,1,e,null):r.data[i],s=BN(r,t,o,e,n);t[i]=s,Ml()&&kl(r,t,s,o),Ui(o,!1)}var BN=(n,e,t,r,i)=>(Rl(!0),lR(e[tt],r));function Q(n){return G("",n,""),Q}function G(n,e,t){let r=Re(),i=dN(r,n,e,t);return i!==gn&&eE(r,ei(),i),G}function Bi(n,e,t,r,i){let o=Re(),s=hN(o,n,e,t,r,i);return s!==gn&&eE(o,ei(),s),Bi}function Ue(n,e,t){cE(e)&&(e=e());let r=Re(),i=Al();if(gr(r,i,e)){let o=mt(),s=mm();Kb(o,s,r,n,e,r[tt],t,!1)}return Ue}function He(n,e){let t=cE(n);return t&&n.set(e),t}function Be(n,e){let t=Re(),r=mt(),i=jt();return vE(r,t,t[tt],i,n,e),Be}function $N(n,e,t){let r=mt();if(r.firstCreatePass){let i=Qr(n);zp(t,r.data,r.blueprint,i,!0),zp(e,r.data,r.blueprint,i,!1)}}function zp(n,e,t,r,i){if(n=Lt(n),Array.isArray(n))for(let o=0;o<n.length;o++)zp(n[o],e,t,r,i);else{let o=mt(),s=Re(),a=jt(),u=Bo(n)?n:Lt(n.provide),l=BI(n),h=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if(Bo(n)||!n.multi){let I=new Li(l,i,B),R=up(u,e,i?h:h+_,g);R===-1?(Ep(ul(a,s),o,u),cp(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(I),s.push(I)):(t[R]=I,s[R]=I)}else{let I=up(u,e,h+_,g),R=up(u,e,h,h+_),N=I>=0&&t[I],O=R>=0&&t[R];if(i&&!O||!i&&!N){Ep(ul(a,s),o,u);let H=zN(i?HN:qN,t.length,i,r,l);!i&&O&&(t[R].providerFactory=H),cp(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(H),s.push(H)}else{let H=_E(t[i?R:I],l,!i&&r);cp(o,n,I>-1?I:R,H)}!i&&r&&O&&t[R].componentProviders++}}}function cp(n,e,t,r){let i=Bo(e),o=U1(e);if(i||o){let u=(o?Lt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function _E(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function up(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function qN(n,e,t,r){return Gp(this.multi,[])}function HN(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=zo(t,t[Ee],this.providerFactory.index,r);o=a.slice(0,s),Gp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Gp(i,o);return o}function Gp(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function zN(n,e,t,r,i){let o=new Li(n,t,B);return o.multi=[],o.index=e,o.componentProviders=0,_E(o,i,r&&!t),o}function Cr(n,e=[]){return t=>{t.providersResolver=(r,i)=>$N(r,i?i(n):n,e)}}var GN=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=VI(!1,t.type),i=r.length>0?ql([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(F(Dt))})}}return n})();function re(n){Bl("NgStandalone"),n.getStandaloneInjector=e=>e.get(GN).getOrCreateStandaloneInjector(n)}function Vm(n,e,t){let r=rb()+n,i=Re();return i[r]===gn?lE(i,r,t?e.call(t):e()):oN(i,r)}function WN(n,e){let t=n[e];return t===gn?void 0:t}function KN(n,e,t,r,i,o){let s=e+t;return gr(n,s,i)?lE(n,s+1,o?r.call(o,i):r(i)):WN(n,s+1)}function jm(n,e){let t=mt(),r,i=n+Rn;t.firstCreatePass?(r=QN(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ni(r.type,!0)),s,a=Ht(B);try{let u=cl(!1),l=o();return cl(u),UN(t,Re(),i,l),l}finally{Ht(a)}}function QN(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Um(n,e,t){let r=n+Rn,i=Re(),o=nM(i,r);return YN(i,r)?KN(i,rb(),e,o.transform,t,o):o.transform(t)}function YN(n,e){return n[Ee].data[e].pure}var yr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},wE=new yr("17.3.12"),Hl=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var IE=new X("");function $i(n){return!!n&&typeof n.then=="function"}function bE(n){return!!n&&typeof n.subscribe=="function"}var zl=new X(""),EE=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=U(zl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if($i(o))t.push(o);else if(bE(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pa=new X("");function JN(){uw(()=>{throw new J(600,!1)})}function XN(n){return n.isBoundToModule}function ZN(n,e,t){try{let r=t();return $i(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Zo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=U(bb),this.afterRenderEffectManager=U(Fm),this.externalTestViews=new Set,this.beforeRender=new bt,this.afterTick=new bt,this.componentTypes=[],this.components=[],this.isStable=U(Xo).hasPendingTasks.pipe(ge(t=>!t)),this._injector=U(Dt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof pl;if(!this._injector.get(EE).done){let _=!i&&OI(t),I=!1;throw new J(405,I)}let s;i?s=t:s=this._injector.get(Ul).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=XN(s)?void 0:this._injector.get(Jr),u=r||s.selector,l=s.create(en.NULL,[],u,a),h=l.location.nativeElement,g=l.injector.get(IE,null);return g?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),lp(this.components,l),g?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new J(101,!1);let r=Me(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,Me(r)}}detectChangesInAttachedViews(t){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===nE)throw new J(103,!1);if(t){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)eO(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Wp(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Wp(o))))break}}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;lp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Pa,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>lp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new J(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function lp(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function eO(n,e,t){!e&&!Wp(n)||tO(n,t,e)}function Wp(n){return lm(n)}function tO(n,e,t){let r;t?(r=0,n[se]|=1024):n[se]&64?r=0:r=1,rE(n,e,r)}var Kp=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Gl=(()=>{class n{compileModuleSync(t){return new Bp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=kI(t),o=Nb(i.declarations).reduce((s,a)=>{let u=Kr(a);return u&&s.push(new Go(u)),s},[]);return new Kp(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var nO=(()=>{class n{constructor(){this.zone=U(Ne),this.applicationRef=U(Zo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function rO(n){return[{provide:Ne,useFactory:n},{provide:Uo,multi:!0,useFactory:()=>{let e=U(nO,{optional:!0});return()=>e.initialize()}},{provide:Uo,multi:!0,useFactory:()=>{let e=U(sO);return()=>{e.initialize()}}},{provide:bb,useFactory:iO}]}function iO(){let n=U(Ne),e=U(Gn);return t=>n.runOutsideAngular(()=>e.handleError(t))}function Bm(n){let e=rO(()=>new Ne(oO(n)));return Ko([[],e])}function oO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var sO=(()=>{class n{constructor(){this.subscription=new et,this.initialized=!1,this.zone=U(Ne),this.pendingTasks=U(Xo)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function aO(){return typeof $localize<"u"&&$localize.locale||_l}var $m=new X("",{providedIn:"root",factory:()=>U($m,be.Optional|be.SkipSelf)||aO()});var CE=new X("");var Xu=null;function cO(n=[],e){return en.create({name:e,providers:[{provide:Cl,useValue:"platform"},{provide:CE,useValue:new Set([()=>Xu=null])},...n]})}function uO(n=[]){if(Xu)return Xu;let e=cO(n);return Xu=e,JN(),lO(e),e}function lO(n){n.get(wm,null)?.forEach(t=>t())}var qi=(()=>{class n{static{this.__NG_ELEMENT_ID__=dO}}return n})();function dO(n){return hO(jt(),Re(),(n&16)===16)}function hO(n,e,t){if(Sl(n)&&!t){let r=Zr(n.index,e);return new Vi(r,r)}else if(n.type&47){let r=e[Hn];return new Vi(r,e)}return null}var Qp=class{constructor(){}supports(e){return uE(e)}create(e){return new Yp(e)}},fO=(n,e)=>e,Yp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fO}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<fI(r,i,o)?t:r,a=fI(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let _=0;_<l;_++){let I=_<o.length?o[_]:o[_]=0,R=I+_;h<=R&&R<l&&(o[_]=I+1)}let g=s.previousIndex;o[g]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!uE(e))throw new J(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,rN(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Jp(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new wl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Jp=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Xp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},wl=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Xp,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fI(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function pI(){return new qm([new Qp])}var qm=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:pI})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||pI()),deps:[[n,new em,new hn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new J(901,!1)}}return n})();function DE(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=uO(r),o=[Bm(),...t||[]],a=new yl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ne);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Gn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:I=>{l.handleError(I)}})});let g=()=>a.destroy(),_=i.get(CE);return _.add(g),a.onDestroy(()=>{h.unsubscribe(),_.delete(g)}),ZN(l,u,()=>{let I=a.get(EE);return I.runInitializers(),I.donePromise.then(()=>{let R=a.get($m,_l);VN(R||_l);let N=a.get(Zo);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function ni(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function TE(n){let e=Kr(n);if(!e)return null;let t=new Go(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var RE=null;function Tr(){return RE}function PE(n){RE??=n}var Wl=class{};var St=new X(""),Km=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>U(pO),providedIn:"platform"})}}return n})(),NE=new X(""),pO=(()=>{class n extends Km{constructor(){super(),this._doc=U(St),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tr().getBaseHref(this._doc)}onPopState(t){let r=Tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Qm(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function SE(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Dr(n){return n&&n[0]!=="?"?"?"+n:n}var Sr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>U(Ym),providedIn:"root"})}}return n})(),OE=new X(""),Ym=(()=>{class n extends Sr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??U(St).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Qm(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Dr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(F(Km),F(OE,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kE=(()=>{class n extends Sr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Qm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(F(Km),F(OE,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),ts=(()=>{class n{constructor(t){this._subject=new it,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=yO(SE(xE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Dr(r))}normalize(t){return n.stripTrailingSlash(gO(this._basePath,xE(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Dr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Dr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Dr}static{this.joinWithSlash=Qm}static{this.stripTrailingSlash=SE}static{this.\u0275fac=function(r){return new(r||n)(F(Sr))}}static{this.\u0275prov=$({token:n,factory:()=>mO(),providedIn:"root"})}}return n})();function mO(){return new ts(F(Sr))}function gO(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function xE(n){return n.replace(/\/index.html$/,"")}function yO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Kl(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Hm=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Je=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Hm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),AE(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);AE(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(B(Jo),B(jl),B(qm))}}static{this.\u0275dir=Ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function AE(n,e){n.context.$implicit=e.item}var xt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new zm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ME("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ME("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(B(Jo),B(jl))}}static{this.\u0275dir=Ke({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),zm=class{constructor(){this.$implicit=null,this.ngIf=null}};function ME(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Vt(e)}'.`)}function vO(n,e){return new J(2100,!1)}var _O=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,FE=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw vO(n,t);return t.replace(_O,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=RI({name:"titlecase",type:n,pure:!0,standalone:!0})}}return n})();var ae=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jt({type:n})}static{this.\u0275inj=Yt({})}}return n})(),Jm="browser",wO="server";function IO(n){return n===Jm}function Ql(n){return n===wO}var LE=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>IO(U(mn))?new Gm(U(St),window):new Wm})}}return n})(),Gm=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=bO(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function bO(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Wm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},es=class{};var Oa=class{},Jl=class{},Hi=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Zm=class{encodeKey(e){return VE(e)}encodeValue(e){return VE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function DO(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var TO=/%(\d[a-f0-9])/gi,SO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function VE(n){return encodeURIComponent(n).replace(TO,(e,t)=>SO[t]??e)}function Yl(n){return`${n}`}var ri=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Zm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=DO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Yl):[Yl(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Yl(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Yl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var eg=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function xO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function UE(n){return typeof Blob<"u"&&n instanceof Blob}function BE(n){return typeof FormData<"u"&&n instanceof FormData}function AO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Na=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(xO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Hi,this.context??=new eg,!this.params)this.params=new ri,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jE(this.body)||UE(this.body)||BE(this.body)||AO(this.body)?this.body:this.body instanceof ri?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||BE(this.body)?null:UE(this.body)?this.body.type||null:jE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ri?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((_,I)=>_.set(I,e.setHeaders[I]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((_,I)=>_.set(I,e.setParams[I]),h)),new n(t,r,s,{params:h,headers:l,context:g,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},ns=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ns||{}),ka=class{constructor(e,t=ed.Ok,r="OK"){this.headers=e.headers||new Hi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},tg=class n extends ka{constructor(e={}){super(e),this.type=ns.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Xl=class n extends ka{constructor(e={}){super(e),this.type=ns.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Zl=class extends ka{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ed=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(ed||{});function Xm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var xr=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Na)o=t;else{let u;i.headers instanceof Hi?u=i.headers:u=new Hi(i.headers);let l;i.params&&(i.params instanceof ri?l=i.params:l=new ri({fromObject:i.params})),o=new Na(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Z(o).pipe(fr(u=>this.handler.handle(u)));if(t instanceof Na||i.observe==="events")return s;let a=s.pipe(qt(u=>u instanceof Xl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ge(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ge(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ge(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ge(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ri().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Xm(i,r))}post(t,r,i={}){return this.request("POST",t,Xm(i,r))}put(t,r,i={}){return this.request("PUT",t,Xm(i,r))}static{this.\u0275fac=function(r){return new(r||n)(F(Oa))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function MO(n,e){return e(n)}function RO(n,e,t){return(r,i)=>Nn(t,()=>e(r,o=>n(o,i)))}var HE=new X(""),PO=new X(""),NO=new X("");var $E=(()=>{class n extends Oa{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=U(Xo);let i=U(NO,{optional:!0});this.backend=i??t}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(HE),...this.injector.get(PO,[])]));this.chain=i.reduceRight((o,s)=>RO(o,s,this.injector),MO)}let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ai(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(F(Jl),F(Dt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();var OO=/^\)\]\}',?\n/;function kO(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var qE=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new J(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ke(r.\u0275loadImpl()):Z(null)).pipe(pt(()=>new we(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,O)=>s.setRequestHeader(N,O.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader("Content-Type",N)}if(t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",O=new Hi(s.getAllResponseHeaders()),H=kO(s)||t.url;return u=new tg({headers:O,status:s.status,statusText:N,url:H}),u},h=()=>{let{headers:N,status:O,statusText:H,url:oe}=l(),W=null;O!==ed.NoContent&&(W=typeof s.response>"u"?s.responseText:s.response),O===0&&(O=W?ed.Ok:0);let _e=O>=200&&O<300;if(t.responseType==="json"&&typeof W=="string"){let ze=W;W=W.replace(OO,"");try{W=W!==""?JSON.parse(W):null}catch(ue){W=ze,_e&&(_e=!1,W={error:ue,text:W})}}_e?(o.next(new Xl({body:W,headers:N,status:O,statusText:H,url:oe||void 0})),o.complete()):o.error(new Zl({error:W,headers:N,status:O,statusText:H,url:oe||void 0}))},g=N=>{let{url:O}=l(),H=new Zl({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:O||void 0});o.error(H)},_=!1,I=N=>{_||(o.next(l()),_=!0);let O={type:ns.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(O.total=N.total),t.responseType==="text"&&s.responseText&&(O.partialText=s.responseText),o.next(O)},R=N=>{let O={type:ns.UploadProgress,loaded:N.loaded};N.lengthComputable&&(O.total=N.total),o.next(O)};return s.addEventListener("load",h),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),t.reportProgress&&(s.addEventListener("progress",I),a!==null&&s.upload&&s.upload.addEventListener("progress",R)),s.send(a),o.next({type:ns.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",h),s.removeEventListener("timeout",g),t.reportProgress&&(s.removeEventListener("progress",I),a!==null&&s.upload&&s.upload.removeEventListener("progress",R)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(F(es))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),zE=new X(""),FO="XSRF-TOKEN",LO=new X("",{providedIn:"root",factory:()=>FO}),VO="X-XSRF-TOKEN",jO=new X("",{providedIn:"root",factory:()=>VO}),td=class{},UO=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(F(St),F(mn),F(LO))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function BO(n,e){let t=n.url.toLowerCase();if(!U(zE)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=U(td).getToken(),i=U(jO);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function GE(...n){let e=[xr,qE,$E,{provide:Oa,useExisting:$E},{provide:Jl,useExisting:qE},{provide:HE,useValue:BO,multi:!0},{provide:zE,useValue:!0},{provide:td,useClass:UO}];for(let t of n)e.push(...t.\u0275providers);return Ko(e)}var ig=class extends Wl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},og=class n extends ig{static makeCurrent(){PE(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=$O();return t==null?null:qO(t)}resetBaseElement(){Fa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Kl(document.cookie,e)}},Fa=null;function $O(){return Fa=Fa||document.querySelector("base"),Fa?Fa.getAttribute("href"):null}function qO(n){return new URL(n,document.baseURI).pathname}var HO=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),sg=new X(""),YE=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new J(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(F(sg),F(Ne))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),rd=class{constructor(e){this._doc=e}},ng="ng-app-id",JE=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ql(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${ng}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(ng),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(ng,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(F(St),F(_m),F(Im,8),F(mn))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),rg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cg=/%COMP%/g,XE="%COMP%",zO=`_nghost-${XE}`,GO=`_ngcontent-${XE}`,WO=!0,KO=new X("",{providedIn:"root",factory:()=>WO});function QO(n){return GO.replace(cg,n)}function YO(n){return zO.replace(cg,n)}function ZE(n,e){return e.map(t=>t.replace(cg,n))}var WE=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ql(a),this.defaultRenderer=new La(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qn.ShadowDom&&(r=pe(V({},r),{encapsulation:qn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof id?i.applyToHost(t):i instanceof Va&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case qn.Emulated:o=new id(u,l,r,this.appId,h,s,a,g);break;case qn.ShadowDom:return new ag(u,l,t,r,s,a,this.nonce,g);default:o=new Va(u,l,r,h,s,a,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(F(YE),F(JE),F(_m),F(KO),F(St),F(mn),F(Ne),F(Im))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),La=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(rg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(KE(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(KE(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new J(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=rg[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=rg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(mr.DashCase|mr.Important)?e.style.setProperty(t,r,i&mr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&mr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Tr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function KE(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ag=class extends La{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ZE(i.id,i.styles);for(let h of l){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Va=class extends La{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?ZE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},id=class extends Va{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=QO(l),this.hostAttr=YO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},JO=(()=>{class n extends rd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(F(St))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),QE=["alt","control","meta","shift"],XO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},ek=(()=>{class n extends rd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),QE.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=XO[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),QE.forEach(s=>{if(s!==i){let a=ZO[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(F(St))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function eC(n,e){return DE(V({rootComponent:n},tk(e)))}function tk(n){return{appProviders:[...sk,...n?.providers??[]],platformProviders:ok}}function nk(){og.makeCurrent()}function rk(){return new Gn}function ik(){return xb(document),document}var ok=[{provide:mn,useValue:Jm},{provide:wm,useValue:nk,multi:!0},{provide:St,useFactory:ik,deps:[]}];var sk=[{provide:Cl,useValue:"root"},{provide:Gn,useFactory:rk,deps:[]},{provide:sg,useClass:JO,multi:!0,deps:[St,Ne,mn]},{provide:sg,useClass:ek,multi:!0,deps:[St]},WE,JE,YE,{provide:Ca,useExisting:WE},{provide:es,useClass:HO,deps:[]},[]];var tC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(F(St))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ye="primary",ec=Symbol("RouteTitle"),fg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function as(n){return new fg(n)}function ck(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function uk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yn(n[t],e[t]))return!1;return!0}function Yn(n,e){let t=n?pg(n):void 0,r=e?pg(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!lC(n[i],e[i]))return!1;return!0}function pg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function lC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function dC(n){return n.length>0?n[n.length-1]:null}function ai(n){return qf(n)?n:$i(n)?ke(Promise.resolve(n)):Z(n)}var lk={exact:fC,subset:pC},hC={exact:dk,subset:hk,ignored:()=>!0};function nC(n,e,t){return lk[t.paths](n.root,e.root,t.matrixParams)&&hC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function dk(n,e){return Yn(n,e)}function fC(n,e,t){if(!Gi(n.segments,e.segments)||!ad(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!fC(n.children[r],e.children[r],t))return!1;return!0}function hk(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lC(n[t],e[t]))}function pC(n,e,t){return mC(n,e,e.segments,t)}function mC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Gi(i,t)||e.hasChildren()||!ad(i,t,r))}else if(n.segments.length===t.length){if(!Gi(n.segments,t)||!ad(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!pC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Gi(n.segments,i)||!ad(n.segments,i,r)||!n.children[ye]?!1:mC(n.children[ye],e,o,r)}}function ad(n,e,t){return e.every((r,i)=>hC[t](n[i].parameters,r.parameters))}var ii=class{constructor(e=new Oe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=as(this.queryParams),this._queryParamMap}toString(){return mk.serialize(this)}},Oe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cd(this)}},zi=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=as(this.parameters),this._parameterMap}toString(){return yC(this)}};function fk(n,e){return Gi(n,e)&&n.every((t,r)=>Yn(t.parameters,e[r].parameters))}function Gi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function pk(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ye&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ye&&(t=t.concat(e(i,r)))}),t}var tc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>new za,providedIn:"root"})}}return n})(),za=class{parse(e){let t=new gg(e);return new ii(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ja(e.root,!0)}`,r=vk(e.queryParams),i=typeof e.fragment=="string"?`#${gk(e.fragment)}`:"";return`${t}${r}${i}`}},mk=new za;function cd(n){return n.segments.map(e=>yC(e)).join("/")}function ja(n,e){if(!n.hasChildren())return cd(n);if(e){let t=n.children[ye]?ja(n.children[ye],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ye&&r.push(`${i}:${ja(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=pk(n,(r,i)=>i===ye?[ja(n.children[ye],!1)]:[`${i}:${ja(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ye]!=null?`${cd(n)}/${t[0]}`:`${cd(n)}/(${t.join("//")})`}}function gC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function od(n){return gC(n).replace(/%3B/gi,";")}function gk(n){return encodeURI(n)}function mg(n){return gC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ud(n){return decodeURIComponent(n)}function rC(n){return ud(n.replace(/\+/g,"%20"))}function yC(n){return`${mg(n.path)}${yk(n.parameters)}`}function yk(n){return Object.entries(n).map(([e,t])=>`;${mg(e)}=${mg(t)}`).join("")}function vk(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${od(t)}=${od(i)}`).join("&"):`${od(t)}=${od(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _k=/^[^\/()?;#]+/;function ug(n){let e=n.match(_k);return e?e[0]:""}var wk=/^[^\/()?;=#]+/;function Ik(n){let e=n.match(wk);return e?e[0]:""}var bk=/^[^=?&#]+/;function Ek(n){let e=n.match(bk);return e?e[0]:""}var Ck=/^[^&#]+/;function Dk(n){let e=n.match(Ck);return e?e[0]:""}var gg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ye]=new Oe(e,t)),r}parseSegment(){let e=ug(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(e),new zi(ud(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Ik(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ug(this.remaining);i&&(r=i,this.capture(r))}e[ud(t)]=ud(r)}parseQueryParam(e){let t=Ek(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Dk(this.remaining);s&&(r=s,this.capture(r))}let i=rC(t),o=rC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ug(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new J(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ye);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ye]:new Oe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new J(4011,!1)}};function vC(n){return n.segments.length>0?new Oe([],{[ye]:n}):n}function _C(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=_C(i);if(r===ye&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Oe(n.segments,e);return Tk(t)}function Tk(n){if(n.numberOfChildren===1&&n.children[ye]){let e=n.children[ye];return new Oe(n.segments.concat(e.segments),e.children)}return n}function cs(n){return n instanceof ii}function Sk(n,e,t=null,r=null){let i=wC(n);return IC(i,e,t,r)}function wC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Oe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=vC(r);return e??i}function IC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return lg(i,i,i,t,r);let o=xk(e);if(o.toRoot())return lg(i,i,new Oe([],{}),t,r);let s=Ak(o,i,n),a=s.processChildren?$a(s.segmentGroup,s.index,o.commands):EC(s.segmentGroup,s.index,o.commands);return lg(i,s.segmentGroup,a,t,r)}function ld(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ga(n){return typeof n=="object"&&n!=null&&n.outlets}function lg(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=bC(n,e,t);let a=vC(_C(s));return new ii(a,o,i)}function bC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=bC(o,e,t)}),new Oe(n.segments,r)}var dd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ld(r[0]))throw new J(4003,!1);let i=r.find(Ga);if(i&&i!==dC(r))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new dd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new dd(t,e,r)}var os=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Ak(n,e,t){if(n.isAbsolute)return new os(e,!0,0);if(!t)return new os(e,!1,NaN);if(t.parent===null)return new os(t,!0,0);let r=ld(n.commands[0])?0:1,i=t.segments.length-1+r;return Mk(t,i,n.numberOfDoubleDots)}function Mk(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new J(4005,!1);i=r.segments.length}return new os(r,!1,i-o)}function Rk(n){return Ga(n[0])?n[0].outlets:{[ye]:n}}function EC(n,e,t){if(n??=new Oe([],{}),n.segments.length===0&&n.hasChildren())return $a(n,e,t);let r=Pk(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Oe(n.segments.slice(0,r.pathIndex),{});return o.children[ye]=new Oe(n.segments.slice(r.pathIndex),n.children),$a(o,0,i)}else return r.match&&i.length===0?new Oe(n.segments,{}):r.match&&!n.hasChildren()?yg(n,e,t):r.match?$a(n,0,i):yg(n,e,t)}function $a(n,e,t){if(t.length===0)return new Oe(n.segments,{});{let r=Rk(t),i={};if(Object.keys(r).some(o=>o!==ye)&&n.children[ye]&&n.numberOfChildren===1&&n.children[ye].segments.length===0){let o=$a(n.children[ye],e,t);return new Oe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=EC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Oe(n.segments,i)}}function Pk(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ga(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!oC(u,l,s))return o;r+=2}else{if(!oC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function yg(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ga(o)){let u=Nk(o.outlets);return new Oe(r,u)}if(i===0&&ld(t[0])){let u=n.segments[e];r.push(new zi(u.path,iC(t[0]))),i++;continue}let s=Ga(o)?o.outlets[ye]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ld(a)?(r.push(new zi(s,iC(a))),i+=2):(r.push(new zi(s,{})),i++)}return new Oe(r,{})}function Nk(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=yg(new Oe([],{}),0,r))}),e}function iC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function oC(n,e,t){return n==t.path&&Yn(e,t.parameters)}var qa="imperative",lt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(lt||{}),vn=class{constructor(e,t){this.id=e,this.url=t}},us=class extends vn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=lt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jn=class extends vn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=lt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(rn||{}),hd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(hd||{}),oi=class extends vn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=lt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},si=class extends vn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=lt.NavigationSkipped}},Wa=class extends vn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=lt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fd=class extends vn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=lt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vg=class extends vn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=lt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_g=class extends vn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=lt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wg=class extends vn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ig=class extends vn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bg=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Eg=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cg=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dg=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tg=class{constructor(e){this.snapshot=e,this.type=lt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sg=class{constructor(e){this.snapshot=e,this.type=lt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=lt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ka=class{},Qa=class{constructor(e){this.url=e}};var xg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new nc,this.attachRef=null}},nc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xg,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),md=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ag(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ag(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Mg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Mg(e,this._root).map(t=>t.value)}};function Ag(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ag(n,t);if(r)return r}return null}function Mg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Mg(n,t);if(r.length)return r.unshift(e),r}return[]}var nn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function is(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var gd=class extends md{constructor(e,t){super(e),this.snapshot=t,Ug(this,e)}toString(){return this.snapshot.toString()}};function CC(n){let e=Ok(n),t=new ut([new zi("",{})]),r=new ut({}),i=new ut({}),o=new ut({}),s=new ut(""),a=new ot(t,r,o,s,i,ye,n,e.root);return a.snapshot=e.root,new gd(new nn(a,[]),e)}function Ok(n){let e={},t={},r={},i="",o=new Ya([],e,r,i,t,ye,n,null,{});return new yd("",new nn(o,[]))}var ot=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ge(l=>l[ec]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ge(e=>as(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ge(e=>as(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jg(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&TC(i)&&(r.resolve[ec]=i.title),r}var Ya=class{get title(){return this.data?.[ec]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=as(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=as(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},yd=class extends md{constructor(e,t){super(t),this.url=e,Ug(this,t)}toString(){return DC(this._root)}};function Ug(n,e){e.value._routerState=n,e.children.forEach(t=>Ug(n,t))}function DC(n){let e=n.children.length>0?` { ${n.children.map(DC).join(", ")} } `:"";return`${n.value}${e}`}function dg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Yn(e.params,t.params)||n.paramsSubject.next(t.params),uk(e.url,t.url)||n.urlSubject.next(t.url),Yn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Rg(n,e){let t=Yn(n.params,e.params)&&fk(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Rg(n.parent,e.parent))}function TC(n){return typeof n.title=="string"||n.title===null}var rc=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new it,this.deactivateEvents=new it,this.attachEvents=new it,this.detachEvents=new it,this.parentContexts=U(nc),this.location=U(Jo),this.changeDetector=U(qi),this.environmentInjector=U(Dt),this.inputBinder=U(Id,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Pg(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ke({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xr]})}}return n})(),Pg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ot?this.route:e===nc?this.childContexts:this.parent.get(e,t)}},Id=new X(""),sC=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=pa([r.queryParams,r.params,r.data]).pipe(pt(([o,s,a],u)=>(a=V(V(V({},o),s),a),u===0?Z(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=TE(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function kk(n,e,t){let r=Ja(n,e._root,t?t._root:void 0);return new gd(r,e)}function Ja(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Fk(n,e,t);return new nn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ja(n,a)),s}}let r=Lk(e.value),i=e.children.map(o=>Ja(n,o));return new nn(r,i)}}function Fk(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ja(n,r,i);return Ja(n,r)})}function Lk(n){return new ot(new ut(n.url),new ut(n.params),new ut(n.queryParams),new ut(n.fragment),new ut(n.data),n.outlet,n.component,n)}var SC="ngNavigationCancelingError";function xC(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=cs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=AC(!1,rn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function AC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[SC]=!0,t.cancellationCode=e,t}function Vk(n){return MC(n)&&cs(n.url)}function MC(n){return!!n&&n[SC]}var jk=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=te({type:n,selectors:[["ng-component"]],standalone:!0,features:[re],decls:1,vars:0,template:function(r,i){r&1&&de(0,"router-outlet")},dependencies:[rc],encapsulation:2})}}return n})();function Uk(n,e){return n.providers&&!n._injector&&(n._injector=ql(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Bg(n){let e=n.children&&n.children.map(Bg),t=e?pe(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=jk),t}function Xn(n){return n.outlet||ye}function Bk(n,e){let t=n.filter(r=>Xn(r)===e);return t.push(...n.filter(r=>Xn(r)!==e)),t}function ic(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var $k=(n,e,t,r)=>ge(i=>(new Ng(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Ng=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=is(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=is(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=is(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=is(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Sg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Dg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(dg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),dg(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=ic(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},vd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ss=class{constructor(e,t){this.component=e,this.route=t}};function qk(n,e,t){let r=n._root,i=e?e._root:null;return Ua(r,i,t,[r.value])}function Hk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ds(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!vI(n)?n:e.get(n):r}function Ua(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=is(e);return n.children.forEach(s=>{zk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ha(a,t.getContext(s),i)),i}function zk(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Gk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ua(n,e,a?a.children:null,r,i):Ua(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ss(a.outlet.component,s))}else s&&Ha(e,a,i),i.canActivateChecks.push(new vd(r)),o.component?Ua(n,null,a?a.children:null,r,i):Ua(n,null,t,r,i);return i}function Gk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Gi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gi(n.url,e.url)||!Yn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rg(n,e)||!Yn(n.queryParams,e.queryParams);case"paramsChange":default:return!Rg(n,e)}}function Ha(n,e,t){let r=is(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ha(s,e.children.getContext(o),t):Ha(s,null,t):Ha(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ss(e.outlet.component,i)):t.canDeactivateChecks.push(new ss(null,i)):t.canDeactivateChecks.push(new ss(null,i))}function oc(n){return typeof n=="function"}function Wk(n){return typeof n=="boolean"}function Kk(n){return n&&oc(n.canLoad)}function Qk(n){return n&&oc(n.canActivate)}function Yk(n){return n&&oc(n.canActivateChild)}function Jk(n){return n&&oc(n.canDeactivate)}function Xk(n){return n&&oc(n.canMatch)}function RC(n){return n instanceof hr||n?.name==="EmptyError"}var sd=Symbol("INITIAL_VALUE");function ls(){return pt(n=>pa(n.map(e=>e.pipe(pr(1),Kf(sd)))).pipe(ge(e=>{for(let t of e)if(t!==!0){if(t===sd)return sd;if(t===!1||t instanceof ii)return t}return!0}),qt(e=>e!==sd),pr(1)))}function Zk(n,e){return nt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Z(pe(V({},t),{guardsResult:!0})):eF(s,r,i,n).pipe(nt(a=>a&&Wk(a)?tF(r,o,n,e):Z(a)),ge(a=>pe(V({},t),{guardsResult:a})))})}function eF(n,e,t,r){return ke(n).pipe(nt(i=>sF(i.component,i.route,t,e,r)),Un(i=>i!==!0,!0))}function tF(n,e,t,r){return ke(e).pipe(fr(i=>Mo(rF(i.route.parent,r),nF(i.route,r),oF(n,i.path,t),iF(n,i.route,t))),Un(i=>i!==!0,!0))}function nF(n,e){return n!==null&&e&&e(new Tg(n)),Z(!0)}function rF(n,e){return n!==null&&e&&e(new Cg(n)),Z(!0)}function iF(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>$u(()=>{let s=ic(e)??t,a=ds(o,s),u=Qk(a)?a.canActivate(e,n):Nn(s,()=>a(e,n));return ai(u).pipe(Un())}));return Z(i).pipe(ls())}function oF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Hk(s)).filter(s=>s!==null).map(s=>$u(()=>{let a=s.guards.map(u=>{let l=ic(s.node)??t,h=ds(u,l),g=Yk(h)?h.canActivateChild(r,n):Nn(l,()=>h(r,n));return ai(g).pipe(Un())});return Z(a).pipe(ls())}));return Z(o).pipe(ls())}function sF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=ic(e)??i,l=ds(a,u),h=Jk(l)?l.canDeactivate(n,e,t,r):Nn(u,()=>l(n,e,t,r));return ai(h).pipe(Un())});return Z(s).pipe(ls())}function aF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=ds(s,n),u=Kk(a)?a.canLoad(e,t):Nn(n,()=>a(e,t));return ai(u)});return Z(o).pipe(ls(),PC(r))}function PC(n){return kf(rt(e=>{if(cs(e))throw xC(n,e)}),ge(e=>e===!0))}function cF(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=ds(s,n),u=Xk(a)?a.canMatch(e,t):Nn(n,()=>a(e,t));return ai(u)});return Z(o).pipe(ls(),PC(r))}var Xa=class{constructor(e){this.segmentGroup=e||null}},_d=class extends Error{constructor(e){super(),this.urlTree=e}};function rs(n){return jn(new Xa(n))}function uF(n){return jn(new J(4e3,!1))}function lF(n){return jn(AC(!1,rn.GuardRejected))}var Og=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[ye])return uF(e.redirectTo);i=i.children[ye]}}applyRedirectCommands(e,t,r){let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new _d(i);return i}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ii(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Oe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new J(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},kg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dF(n,e,t,r,i){let o=$g(n,e,t);return o.matched?(r=Uk(e,r),cF(r,e,t,i).pipe(ge(s=>s===!0?o:V({},kg)))):Z(o)}function $g(n,e,t){if(e.path==="**")return hF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},kg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ck)(t,n,e);if(!i)return V({},kg);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function hF(n){return{matched:!0,parameters:n.length>0?dC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function aC(n,e,t,r){return t.length>0&&mF(n,t,r)?{segmentGroup:new Oe(e,pF(r,new Oe(t,n.children))),slicedSegments:[]}:t.length===0&&gF(n,t,r)?{segmentGroup:new Oe(n.segments,fF(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Oe(n.segments,n.children),slicedSegments:t}}function fF(n,e,t,r){let i={};for(let o of t)if(bd(n,e,o)&&!r[Xn(o)]){let s=new Oe([],{});i[Xn(o)]=s}return V(V({},r),i)}function pF(n,e){let t={};t[ye]=e;for(let r of n)if(r.path===""&&Xn(r)!==ye){let i=new Oe([],{});t[Xn(r)]=i}return t}function mF(n,e,t){return t.some(r=>bd(n,e,r)&&Xn(r)!==ye)}function gF(n,e,t){return t.some(r=>bd(n,e,r))}function bd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function yF(n,e,t,r){return Xn(n)!==r&&(r===ye||!bd(e,t,n))?!1:$g(e,n,t).matched}function vF(n,e,t){return e.length===0&&!n.children[t]}var Fg=class{};function _F(n,e,t,r,i,o,s="emptyOnly"){return new Lg(n,e,t,r,i,s,o).recognize()}var wF=31,Lg=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Og(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new J(4002,`'${e.segmentGroup}'`)}recognize(){let e=aC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ge(t=>{let r=new Ya([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,{},ye,this.rootComponentType,null,{}),i=new nn(r,t),o=new yd("",i),s=Sk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ye).pipe(ln(r=>{if(r instanceof _d)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xa?this.noMatchError(r):r}))}inheritParamsAndData(e,t){let r=e.value,i=jg(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,t,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(ge(o=>o instanceof nn?[o]:[]))}processChildren(e,t,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return ke(i).pipe(fr(o=>{let s=r.children[o],a=Bk(t,o);return this.processSegmentGroup(e,a,s,o)}),Wf((o,s)=>(o.push(...s),o)),zr(null),Gf(),nt(o=>{if(o===null)return rs(r);let s=NC(o);return IF(s),Z(s)}))}processSegment(e,t,r,i,o,s){return ke(t).pipe(fr(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(ln(u=>{if(u instanceof Xa)return Z(null);throw u}))),Un(a=>!!a),ln(a=>{if(RC(a))return vF(r,i,o)?Z(new Fg):rs(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return yF(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):rs(i):rs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=$g(t,i,o);if(!a)return rs(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wF&&(this.allowRedirects=!1));let g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,g).pipe(nt(_=>this.processSegment(e,r,t,_.concat(h),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){let s=dF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(pt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:g,parameters:_}=a,I=new Ya(h,_,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,EF(r),Xn(r),r.component??r._loadedComponent??null,r,CF(r)),{segmentGroup:R,slicedSegments:N}=aC(t,h,g,u);if(N.length===0&&R.hasChildren())return this.processChildren(l,u,R).pipe(ge(H=>H===null?null:new nn(I,H)));if(u.length===0&&N.length===0)return Z(new nn(I,[]));let O=Xn(r)===o;return this.processSegment(l,u,R,N,O?ye:o,!0).pipe(ge(H=>new nn(I,H instanceof nn?[H]:[])))}))):rs(t)))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):aF(e,t,r,this.urlSerializer).pipe(nt(i=>i?this.configLoader.loadChildren(e,t).pipe(rt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):lF(t))):Z({routes:[],injector:e})}};function IF(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}function bF(n){let e=n.value.routeConfig;return e&&e.path===""}function NC(n){let e=[],t=new Set;for(let r of n){if(!bF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=NC(r.children);e.push(new nn(r.value,i))}return e.filter(r=>!t.has(r))}function EF(n){return n.data||{}}function CF(n){return n.resolve||{}}function DF(n,e,t,r,i,o){return nt(s=>_F(n,e,t,r,s.extractedUrl,i,o).pipe(ge(({state:a,tree:u})=>pe(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function TF(n,e){return nt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Z(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of OC(u))s.add(l);let a=0;return ke(s).pipe(fr(u=>o.has(u)?SF(u,r,n,e):(u.data=jg(u,u.parent,n).resolve,Z(void 0))),rt(()=>a++),Ro(1),nt(u=>a===s.size?Z(t):Qt))})}function OC(n){let e=n.children.map(t=>OC(t)).flat();return[n,...e]}function SF(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!TC(i)&&(o[ec]=i.title),xF(o,n,e,r).pipe(ge(s=>(n._resolvedData=s,n.data=jg(n,n.parent,t).resolve,null)))}function xF(n,e,t,r){let i=pg(n);if(i.length===0)return Z({});let o={};return ke(i).pipe(nt(s=>AF(n[s],e,t,r).pipe(Un(),rt(a=>{o[s]=a}))),Ro(1),zf(o),ln(s=>RC(s)?Qt:jn(s)))}function AF(n,e,t,r){let i=ic(e)??r,o=ds(n,i),s=o.resolve?o.resolve(e,t):Nn(i,()=>o(e,t));return ai(s)}function hg(n){return pt(e=>{let t=n(e);return t?ke(t).pipe(ge(()=>e)):Z(e)})}var kC=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ye);return r}getResolvedTitleForRoute(t){return t.data[ec]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>U(MF),providedIn:"root"})}}return n})(),MF=(()=>{class n extends kC{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(F(tC))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sc=new X("",{providedIn:"root",factory:()=>({})}),Za=new X(""),qg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=U(Gl)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ai(t.loadComponent()).pipe(ge(FC),rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ai(()=>{this.componentLoaders.delete(t)})),i=new Co(r,()=>new bt).pipe(Eo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=RF(r,this.compiler,t,this.onLoadEndListener).pipe(Ai(()=>{this.childrenLoaders.delete(r)})),s=new Co(o,()=>new bt).pipe(Eo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function RF(n,e,t,r){return ai(n.loadChildren()).pipe(ge(FC),nt(i=>i instanceof Da||Array.isArray(i)?Z(i):ke(e.compileModuleAsync(i))),ge(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Za,[],{optional:!0,self:!0}).flat()),{routes:s.map(Bg),injector:o}}))}function PF(n){return n&&typeof n=="object"&&"default"in n}function FC(n){return PF(n)?n.default:n}var Hg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>U(NF),providedIn:"root"})}}return n})(),NF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LC=new X(""),VC=new X("");function OF(n,e,t){let r=n.get(VC),i=n.get(St);return n.get(Ne).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),kF(n))),{onViewTransitionCreated:u}=r;return u&&Nn(n,()=>u({transition:a,from:e,to:t})),s})}function kF(n){return new Promise(e=>{$l(e,{injector:n})})}var zg=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new bt,this.transitionAbortSubject=new bt,this.configLoader=U(qg),this.environmentInjector=U(Dt),this.urlSerializer=U(tc),this.rootContexts=U(nc),this.location=U(ts),this.inputBindingEnabled=U(Id,{optional:!0})!==null,this.titleStrategy=U(kC),this.options=U(sc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=U(Hg),this.createViewTransition=U(LC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let t=i=>this.events.next(new bg(i)),r=i=>this.events.next(new Eg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(pe(V(V({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ut({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qt(o=>o.id!==0),ge(o=>pe(V({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),pt(o=>{let s=!1,a=!1;return Z(o).pipe(pt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",rn.SupersededByNewNavigation),Qt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?pe(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let g="";return this.events.next(new si(u.id,this.urlSerializer.serialize(u.rawUrl),g,hd.IgnoredSameUrlNavigation)),u.resolve(null),Qt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Z(u).pipe(pt(g=>{let _=this.transitions?.getValue();return this.events.next(new us(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?Qt:Promise.resolve(g)}),DF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=pe(V({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new fd(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:I,restoredState:R,extras:N}=u,O=new us(g,this.urlSerializer.serialize(_),I,R);this.events.next(O);let H=CC(this.rootComponentType).snapshot;return this.currentTransition=o=pe(V({},u),{targetSnapshot:H,urlAfterRedirects:_,extras:pe(V({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,Z(o)}else{let g="";return this.events.next(new si(u.id,this.urlSerializer.serialize(u.extractedUrl),g,hd.IgnoredByUrlHandlingStrategy)),u.resolve(null),Qt}}),rt(u=>{let l=new vg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ge(u=>(this.currentTransition=o=pe(V({},u),{guards:qk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Zk(this.environmentInjector,u=>this.events.next(u)),rt(u=>{if(o.guardsResult=u.guardsResult,cs(u.guardsResult))throw xC(this.urlSerializer,u.guardsResult);let l=new _g(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),qt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",rn.GuardRejected),!1)),hg(u=>{if(u.guards.canActivateChecks.length)return Z(u).pipe(rt(l=>{let h=new wg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),pt(l=>{let h=!1;return Z(l).pipe(TF(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",rn.NoDataFromResolver)}}))}),rt(l=>{let h=new Ig(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),hg(u=>{let l=h=>{let g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(rt(_=>{h.component=_}),ge(()=>{})));for(let _ of h.children)g.push(...l(_));return g};return pa(l(u.targetSnapshot.root)).pipe(zr(null),pr(1))}),hg(()=>this.afterPreactivation()),pt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?ke(h).pipe(ge(()=>o)):Z(o)}),ge(u=>{let l=kk(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=pe(V({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),rt(()=>{this.events.next(new Ka)}),$k(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),pr(1),rt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Qf(this.transitionAbortSubject.pipe(rt(u=>{throw u}))),Ai(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",rn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ln(u=>{if(a=!0,MC(u))this.events.next(new oi(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Vk(u)?this.events.next(new Qa(u.url)):o.resolve(!1);else{this.events.next(new Wa(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Qt}))}))}cancelNavigationTransition(t,r,i){let o=new oi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function FF(n){return n!==qa}var LF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>U(VF),providedIn:"root"})}}return n})(),Vg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},VF=(()=>{class n extends Vg{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=pn(n)))(i||n)}})()}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>U(jF),providedIn:"root"})}}return n})(),jF=(()=>{class n extends jC{constructor(){super(...arguments),this.location=U(ts),this.urlSerializer=U(tc),this.options=U(sc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=U(Hg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ii,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=CC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof us)this.stateMemento=this.createStateMemento();else if(t instanceof si)this.rawUrlTree=r.initialUrl;else if(t instanceof fd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof Ka?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof oi&&(t.code===rn.GuardRejected||t.code===rn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Wa?this.restoreHistory(r,!0):t instanceof Jn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=V(V({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=pn(n)))(i||n)}})()}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ba=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ba||{});function UC(n,e){n.events.pipe(qt(t=>t instanceof Jn||t instanceof oi||t instanceof Wa||t instanceof si),ge(t=>t instanceof Jn||t instanceof si?Ba.COMPLETE:(t instanceof oi?t.code===rn.Redirect||t.code===rn.SupersededByNewNavigation:!1)?Ba.REDIRECTING:Ba.FAILED),qt(t=>t!==Ba.REDIRECTING),pr(1)).subscribe(()=>{e()})}function UF(n){throw n}var BF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$F={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},je=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=U(Hl),this.stateManager=U(jC),this.options=U(sc,{optional:!0})||{},this.pendingTasks=U(Xo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=U(zg),this.urlSerializer=U(tc),this.location=U(ts),this.urlHandlingStrategy=U(Hg),this._events=new bt,this.errorHandler=this.options.errorHandler||UF,this.navigated=!1,this.routeReuseStrategy=U(LF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=U(Za,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!U(Id,{optional:!0}),this.eventsSubscription=new et,this.isNgZoneEnabled=U(Ne)instanceof Ne&&Ne.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof oi&&r.code!==rn.Redirect&&r.code!==rn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jn)this.navigated=!0;else if(r instanceof Qa){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||FF(i.source)};this.scheduleNavigation(s,qa,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}HF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Bg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=wC(_)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),g=this.currentUrlTree.root}return IC(g,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=cs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,qa,null,r)}navigate(t,r={skipLocationChange:!1}){return qF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},BF):r===!1?i=V({},$F):i=r,cs(t))return nC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return nC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((g,_)=>{a=g,u=_});let h=this.pendingTasks.add();return UC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new J(4008,!1)}function HF(n){return!(n instanceof Ka)&&!(n instanceof Qa)}var At=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new bt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Jn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t!=null?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Rb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(B(je),B(ot),ym("tabindex"),B(wr),B(Wn),B(Sr))}}static{this.\u0275dir=Ke({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ne("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ti("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ct.HasDecoratorInputTransform,"preserveFragment","preserveFragment",ni],skipLocationChange:[Ct.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",ni],replaceUrl:[Ct.HasDecoratorInputTransform,"replaceUrl","replaceUrl",ni],routerLink:"routerLink"},standalone:!0,features:[Lm,Xr]})}}return n})();var wd=class{};var zF=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(qt(t=>t instanceof Jn),fr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ql(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ke(i).pipe(Ao())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Z(null);let o=i.pipe(nt(s=>s===null?Z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return ke([o,s]).pipe(Ao())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(F(je),F(Gl),F(Dt),F(wd),F(qg))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BC=new X(""),GF=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=U(Dt),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof us?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof si&&t.code===hd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>C(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),$l(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new pd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){qb()}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function $C(n,...e){return Ko([{provide:Za,multi:!0,useValue:n},[],{provide:ot,useFactory:qC,deps:[je]},{provide:Pa,multi:!0,useFactory:HC},e.map(t=>t.\u0275providers)])}function qC(n){return n.routerState.root}function ac(n,e){return{\u0275kind:n,\u0275providers:e}}function HC(){let n=U(en);return e=>{let t=n.get(Zo);if(e!==t.components[0])return;let r=n.get(je),i=n.get(zC);n.get(Gg)===1&&r.initialNavigation(),n.get(GC,null,be.Optional)?.setUpPreloading(),n.get(BC,null,be.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var zC=new X("",{factory:()=>new bt}),Gg=new X("",{providedIn:"root",factory:()=>1});function WF(){return ac(2,[{provide:Gg,useValue:0},{provide:zl,multi:!0,deps:[en],useFactory:e=>{let t=e.get(NE,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(je),o=e.get(zC);UC(i,()=>{r(!0)}),e.get(zg).afterPreactivation=()=>(r(!0),o.closed?Z(void 0):o),i.initialNavigation()}))}}])}function KF(){return ac(3,[{provide:zl,multi:!0,useFactory:()=>{let e=U(je);return()=>{e.setUpLocationChangeListener()}}},{provide:Gg,useValue:2}])}var GC=new X("");function QF(n){return ac(0,[{provide:GC,useExisting:zF},{provide:wd,useExisting:n}])}function YF(){return ac(8,[sC,{provide:Id,useExisting:sC}])}function JF(n){let e=[{provide:LC,useValue:OF},{provide:VC,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return ac(9,e)}var cC=new X("ROUTER_FORROOT_GUARD"),XF=[ts,{provide:tc,useClass:za},je,nc,{provide:ot,useFactory:qC,deps:[je]},qg,[]],$e=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[XF,[],{provide:Za,multi:!0,useValue:t},{provide:cC,useFactory:nL,deps:[[je,new hn,new em]]},{provide:sc,useValue:r||{}},r?.useHash?eL():tL(),ZF(),r?.preloadingStrategy?QF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?rL(r):[],r?.bindToComponentInputs?YF().\u0275providers:[],r?.enableViewTransitions?JF().\u0275providers:[],iL()]}}static forChild(t){return{ngModule:n,providers:[{provide:Za,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(F(cC,8))}}static{this.\u0275mod=Jt({type:n})}static{this.\u0275inj=Yt({})}}return n})();function ZF(){return{provide:BC,useFactory:()=>{let n=U(LE),e=U(Ne),t=U(sc),r=U(zg),i=U(tc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new GF(i,r,n,e,t)}}}function eL(){return{provide:Sr,useClass:kE}}function tL(){return{provide:Sr,useClass:Ym}}function nL(n){return"guarded"}function rL(n){return[n.initialNavigation==="disabled"?KF().\u0275providers:[],n.initialNavigation==="enabledBlocking"?WF().\u0275providers:[]]}var uC=new X("");function iL(){return[{provide:uC,useFactory:HC},{provide:Pa,multi:!0,useExisting:uC}]}var KC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},oL=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},QC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,g=(o&3)<<4|a>>4,_=(a&15)<<2|l>>6,I=l&63;u||(I=64,s||(_=64)),r.push(t[h],t[g],t[_],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||g==null)throw new Kg;let _=o<<2|a>>4;if(r.push(_),l!==64){let I=a<<4&240|l>>2;if(r.push(I),g!==64){let R=l<<6&192|g;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Kg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},sL=function(n){let e=KC(n);return QC.encodeByteArray(e,!0)},cc=function(n){return sL(n).replace(/\./g,"")},Yg=function(n){try{return QC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var cL=()=>aL().__FIREBASE_DEFAULTS__,uL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Yg(n[1]);return e&&JSON.parse(e)},Cd=()=>{try{return cL()||uL()||lL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},YC=n=>{var e,t;return(t=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},JC=n=>{let e=YC(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Jg=()=>{var n;return(n=Cd())===null||n===void 0?void 0:n.config},XC=n=>{var e;return(e=Cd())===null||e===void 0?void 0:e[`_${n}`]};var Ed=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ZC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cc(JSON.stringify(t)),cc(JSON.stringify(s)),""].join(".")}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function dL(){var n;let e=(n=Cd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nD(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iD(){return!dL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xg(){try{return typeof indexedDB=="object"}catch{return!1}}function oD(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var hL="FirebaseError",_n=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=hL,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ar.prototype.create)}},Ar=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?fL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new _n(i,a,r)}};function fL(n,e){return n.replace(pL,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pL=/\{\$([^}]+)}/g;function hs(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(WC(o)&&WC(s)){if(!hs(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function WC(n){return n!==null&&typeof n=="object"}function Zg(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sD(n,e){let t=new Qg(n,e);return t.subscribe.bind(t)}var Qg=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");mL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Wg),i.error===void 0&&(i.error=Wg),i.complete===void 0&&(i.complete=Wg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mL(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wg(){}var r8=4*60*60*1e3;function Ut(n){return n&&n._delegate?n._delegate:n}var wn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Wi="[DEFAULT]";var ey=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ed;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yL(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gL(n){return n===Wi?void 0:n}function yL(n){return n.instantiationMode==="EAGER"}var Dd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ey(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var vL=[],Ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ce||{}),_L={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},wL=Ce.INFO,IL={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},bL=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=IL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ci=class{constructor(e){this.name=e,this._logLevel=wL,this._logHandler=bL,this._userLogHandler=null,vL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};var EL=(n,e)=>e.some(t=>n instanceof t),aD,cD;function CL(){return aD||(aD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DL(){return cD||(cD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uD=new WeakMap,ny=new WeakMap,lD=new WeakMap,ty=new WeakMap,iy=new WeakMap;function TL(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Zn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&uD.set(t,n)}).catch(()=>{}),iy.set(e,n),e}function SL(n){if(ny.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});ny.set(n,e)}var ry={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ny.get(n);if(e==="objectStoreNames")return n.objectStoreNames||lD.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dD(n){ry=n(ry)}function xL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Td(this),e,...t);return lD.set(r,e.sort?e.sort():[e]),Zn(r)}:DL().includes(n)?function(...e){return n.apply(Td(this),e),Zn(uD.get(this))}:function(...e){return Zn(n.apply(Td(this),e))}}function AL(n){return typeof n=="function"?xL(n):(n instanceof IDBTransaction&&SL(n),EL(n,CL())?new Proxy(n,ry):n)}function Zn(n){if(n instanceof IDBRequest)return TL(n);if(ty.has(n))return ty.get(n);let e=AL(n);return e!==n&&(ty.set(n,e),iy.set(e,n)),e}var Td=n=>iy.get(n);function fD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Zn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Zn(s.result),u.oldVersion,u.newVersion,Zn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var ML=["get","getKey","getAll","getAllKeys","count"],RL=["put","add","delete","clear"],oy=new Map;function hD(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(oy.get(e))return oy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=RL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ML.includes(t)))return;let o=function(s,...a){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return oy.set(e,o),o}dD(n=>pe(V({},n),{get:(e,t,r)=>hD(e,t)||n.get(e,t,r),has:(e,t)=>!!hD(e,t)||n.has(e,t)}));var ay=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PL(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function PL(n){let e=n.getComponent();return e?.type==="VERSION"}var cy="@firebase/app",pD="0.10.13";var Mr=new ci("@firebase/app"),NL="@firebase/app-compat",OL="@firebase/analytics-compat",kL="@firebase/analytics",FL="@firebase/app-check-compat",LL="@firebase/app-check",VL="@firebase/auth",jL="@firebase/auth-compat",UL="@firebase/database",BL="@firebase/data-connect",$L="@firebase/database-compat",qL="@firebase/functions",HL="@firebase/functions-compat",zL="@firebase/installations",GL="@firebase/installations-compat",WL="@firebase/messaging",KL="@firebase/messaging-compat",QL="@firebase/performance",YL="@firebase/performance-compat",JL="@firebase/remote-config",XL="@firebase/remote-config-compat",ZL="@firebase/storage",e2="@firebase/storage-compat",t2="@firebase/firestore",n2="@firebase/vertexai-preview",r2="@firebase/firestore-compat",i2="firebase",o2="10.14.1";var uy="[DEFAULT]",s2={[cy]:"fire-core",[NL]:"fire-core-compat",[kL]:"fire-analytics",[OL]:"fire-analytics-compat",[LL]:"fire-app-check",[FL]:"fire-app-check-compat",[VL]:"fire-auth",[jL]:"fire-auth-compat",[UL]:"fire-rtdb",[BL]:"fire-data-connect",[$L]:"fire-rtdb-compat",[qL]:"fire-fn",[HL]:"fire-fn-compat",[zL]:"fire-iid",[GL]:"fire-iid-compat",[WL]:"fire-fcm",[KL]:"fire-fcm-compat",[QL]:"fire-perf",[YL]:"fire-perf-compat",[JL]:"fire-rc",[XL]:"fire-rc-compat",[ZL]:"fire-gcs",[e2]:"fire-gcs-compat",[t2]:"fire-fst",[r2]:"fire-fst-compat",[n2]:"fire-vertex","fire-js":"fire-js",[i2]:"fire-js-all"};var uc=new Map,a2=new Map,ly=new Map;function mD(n,e){try{n.container.addComponent(e)}catch(t){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function li(n){let e=n.name;if(ly.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;ly.set(e,n);for(let t of uc.values())mD(t,n);for(let t of a2.values())mD(t,n);return!0}function py(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fs(n){return n.settings!==void 0}var c2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new Ar("app","Firebase",c2);var dy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}};var ps=o2;function my(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:uy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(t||(t=Jg()),!t)throw ui.create("no-options");let o=uc.get(i);if(o){if(hs(t,o.options)&&hs(r,o.config))return o;throw ui.create("duplicate-app",{appName:i})}let s=new Dd(i);for(let u of ly.values())s.addComponent(u);let a=new dy(t,r,s);return uc.set(i,a),a}function dc(n=uy){let e=uc.get(n);if(!e&&n===uy&&Jg())return my();if(!e)throw ui.create("no-app",{appName:n});return e}function Sd(){return Array.from(uc.values())}function dt(n,e,t){var r;let i=(r=s2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(a.join(" "));return}li(new wn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var u2="firebase-heartbeat-database",l2=1,lc="firebase-heartbeat-store",sy=null;function _D(){return sy||(sy=fD(u2,l2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(lc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ui.create("idb-open",{originalErrorMessage:n.message})})),sy}function d2(n){return C(this,null,function*(){try{let t=(yield _D()).transaction(lc),r=yield t.objectStore(lc).get(wD(n));return yield t.done,r}catch(e){if(e instanceof _n)Mr.warn(e.message);else{let t=ui.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(t.message)}}})}function gD(n,e){return C(this,null,function*(){try{let r=(yield _D()).transaction(lc,"readwrite");yield r.objectStore(lc).put(e,wD(n)),yield r.done}catch(t){if(t instanceof _n)Mr.warn(t.message);else{let r=ui.create("idb-set",{originalErrorMessage:t?.message});Mr.warn(r.message)}}})}function wD(n){return`${n.name}!${n.options.appId}`}var h2=1024,f2=30*24*60*60*1e3,hy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new fy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=f2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mr.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=yD(),{heartbeatsToSend:r,unsentEntries:i}=p2(this._heartbeatsCache.heartbeats),o=cc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Mr.warn(t),""}})}};function yD(){return new Date().toISOString().substring(0,10)}function p2(n,e=h2){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),vD(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),vD(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var fy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Xg()?oD().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield d2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gD(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gD(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function vD(n){return cc(JSON.stringify({version:2,heartbeats:n})).length}function m2(n){li(new wn("platform-logger",e=>new ay(e),"PRIVATE")),li(new wn("heartbeat",e=>new hy(e),"PRIVATE")),dt(cy,pD,n),dt(cy,pD,"esm2017"),dt("fire-js","")}m2("");var g2="firebase",y2="10.14.1";dt(g2,y2,"app");var gs=new yr("ANGULARFIRE2_VERSION");function yy(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var fc=(n,e)=>{let t=e?[e]:Sd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},hc=class{constructor(){return fc(v2)}},v2="app-check";function ms(){}var xd=class{zone;delegate;constructor(e,t=Bf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},gy=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ms,{},ms,ms)),t.pipe(rt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},pc=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new xd(Zone.current)),this.insideAngular=t.run(()=>new xd(Zone.current,xo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(F(Ne))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ad(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function _2(n){return Ad().ngZone.runOutsideAngular(()=>n())}function Ki(n){return Ad().ngZone.run(()=>n())}function w2(n){return I2(Ad())(n)}function I2(n){return function(t){return t=t.lift(new gy(n.ngZone)),t.pipe(Hr(n.outsideAngular),qr(n.insideAngular))}}var b2=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ki(()=>n.apply(void 0,r))},Gt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Ki(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ms,{},ms,ms))),r[o]=b2(r[o],t));let i=_2(()=>n.apply(this,r));if(!e)if(i instanceof we){let o=Ad();return i.pipe(Hr(o.outsideAngular),qr(o.insideAngular))}else return Ki(()=>i);return i instanceof we?i.pipe(w2):i instanceof Promise?Ki(()=>new Promise((o,s)=>i.then(a=>Ki(()=>o(a)),a=>Ki(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Ki(()=>i)};var Qi=class{constructor(e){return e}},mc=class{constructor(){return Sd()}};function E2(n){return n&&n.length===1?n[0]:new Qi(dc())}var vy=new X("angularfire2._apps"),C2={provide:Qi,useFactory:E2,deps:[[new hn,vy]]},D2={provide:mc,deps:[[new hn,vy]]};function T2(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Qi(r)}}var S2=(()=>{class n{constructor(t){dt("angularfire",gs.full,"core"),dt("angularfire",gs.full,"app"),dt("angular",wE.full,t.toString())}static \u0275fac=function(r){return new(r||n)(F(mn))};static \u0275mod=Jt({type:n});static \u0275inj=Yt({providers:[C2,D2]})}return n})();function ID(n,...e){return{ngModule:S2,providers:[{provide:vy,useFactory:T2(n),multi:!0,deps:[Ne,en,pc,...e]}]}}var bD=Gt(my,!0);function MD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var RD=MD,PD=new Ar("auth","Firebase",MD());var Nd=new ci("@firebase/auth");function A2(n,...e){Nd.logLevel<=Ce.WARN&&Nd.warn(`Auth (${ps}): ${n}`,...e)}function Rd(n,...e){Nd.logLevel<=Ce.ERROR&&Nd.error(`Auth (${ps}): ${n}`,...e)}function ED(n,...e){throw My(n,...e)}function Ay(n,...e){return My(n,...e)}function ND(n,e,t){let r=Object.assign(Object.assign({},RD()),{[e]:t});return new Ar("auth","Firebase",r).create(e,{appName:n.name})}function Pd(n){return ND(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function My(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return PD.create(n,...e)}function Pe(n,e,...t){if(!n)throw My(e,...t)}function gc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Rd(e),new Error(e)}function Od(n,e){n||gc(e)}function M2(){return CD()==="http:"||CD()==="https:"}function CD(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function R2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M2()||nD()||"connection"in navigator)?navigator.onLine:!0}function P2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ji=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Od(t>e,"Short delay should be less than long delay!"),this.isMobile=eD()||rD()}get(){return R2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function N2(n,e){Od(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var kd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var O2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var k2=new Ji(3e4,6e4);function OD(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function jd(o,s,a,u){return C(this,arguments,function*(n,e,t,r,i={}){return kD(n,i,()=>C(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let g=Zg(Object.assign({key:n.config.apiKey},h)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let I=Object.assign({method:e,headers:_},l);return tD()||(I.referrerPolicy="no-referrer"),kd.fetch()(FD(n,n.config.apiHost,t,g),I)}))})}function kD(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},O2),e);try{let i=new Iy(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Md(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Md(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Md(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ND(n,h,l);ED(n,h)}}catch(i){if(i instanceof _n)throw i;ED(n,"network-request-failed",{message:String(i)})}})}function FD(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?N2(n.config,i):`${n.config.apiScheme}://${i}`}var Iy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ay(this.auth,"network-request-failed")),k2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Md(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ay(n,e,r);return i.customData._tokenResponse=t,i}function F2(n,e){return C(this,null,function*(){return jd(n,"POST","/v1/accounts:delete",e)})}function LD(n,e){return C(this,null,function*(){return jd(n,"POST","/v1/accounts:lookup",e)})}function yc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ry(n,e=!1){return C(this,null,function*(){let t=Ut(n),r=yield t.getIdToken(e),i=VD(r);Pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:yc(_y(i.auth_time)),issuedAtTime:yc(_y(i.iat)),expirationTime:yc(_y(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function _y(n){return Number(n)*1e3}function VD(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Yg(t);return i?JSON.parse(i):(Rd("Failed to decode base64 JWT payload"),null)}catch(i){return Rd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function DD(n){let e=VD(n);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function by(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof _n&&L2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function L2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Ey=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var _c=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Fd(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield by(n,LD(t,{idToken:r}));Pe(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jD(o.providerUserInfo):[],a=V2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new _c(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,g)})}function Py(n){return C(this,null,function*(){let e=Ut(n);yield Fd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function V2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jD(n){return n.map(e=>{var{providerId:t}=e,r=$f(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function j2(n,e){return C(this,null,function*(){let t=yield kD(n,{},()=>C(this,null,function*(){let r=Zg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=FD(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function U2(n,e){return C(this,null,function*(){return jd(n,"POST","/v2/accounts:revokeToken",OD(n,e))})}var vc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");let t=DD(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield j2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Pe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return gc("not implemented")}};function di(n,e){Pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var wc=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=$f(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ey(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _c(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield by(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Ry(this,e)}reload(){return Py(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Fd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(fs(this.auth.app))return Promise.reject(Pd(this.auth));let e=yield this.getIdToken();return yield by(this,F2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,I=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,O=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,H=(l=t.createdAt)!==null&&l!==void 0?l:void 0,oe=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:_e,isAnonymous:ze,providerData:ue,stsTokenManager:S}=t;Pe(W&&S,e,"internal-error");let w=vc.fromJSON(this.name,S);Pe(typeof W=="string",e,"internal-error"),di(g,e.name),di(_,e.name),Pe(typeof _e=="boolean",e,"internal-error"),Pe(typeof ze=="boolean",e,"internal-error"),di(I,e.name),di(R,e.name),di(N,e.name),di(O,e.name),di(H,e.name),di(oe,e.name);let b=new n({uid:W,auth:e,email:_,emailVerified:_e,displayName:g,isAnonymous:ze,photoURL:R,phoneNumber:I,tenantId:N,stsTokenManager:w,createdAt:H,lastLoginAt:oe});return ue&&Array.isArray(ue)&&(b.providerData=ue.map(T=>Object.assign({},T))),O&&(b._redirectEventId=O),b}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new vc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Fd(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];Pe(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?jD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new vc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _c(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var TD=new Map;function Yi(n){Od(n instanceof Function,"Expected a class definition");let e=TD.get(n);return e?(Od(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,TD.set(n,e),e)}var B2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Cy=B2;function wy(n,e,t){return`firebase:${n}:${e}:${t}`}var Ld=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=wy(this.userKey,i.apiKey,o),this.fullPersistenceKey=wy("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?wc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(Yi(Cy),e,r);let i=(yield Promise.all(t.map(l=>C(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Yi(Cy),s=wy(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let g=wc._fromJSON(e,h);l!==o&&(a=g),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>C(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function SD(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W2(e))return"Blackberry";if(K2(e))return"Webos";if(q2(e))return"Safari";if((e.includes("chrome/")||H2(e))&&!e.includes("edge/"))return"Chrome";if(G2(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function $2(n=on()){return/firefox\//i.test(n)}function q2(n=on()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H2(n=on()){return/crios\//i.test(n)}function z2(n=on()){return/iemobile/i.test(n)}function G2(n=on()){return/android/i.test(n)}function W2(n=on()){return/blackberry/i.test(n)}function K2(n=on()){return/webos/i.test(n)}function UD(n,e=[]){let t;switch(n){case"Browser":t=SD(on());break;case"Worker":t=`${SD(on())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ps}/${r}`}var Dy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Q2(t){return C(this,arguments,function*(n,e={}){return jd(n,"GET","/v2/passwordPolicy",OD(n,e))})}var Y2=6,Ty=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Y2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Sy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vd(this),this.idTokenSubscription=new Vd(this),this.beforeStateQueue=new Dy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yi(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ld.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield LD(this,{idToken:e}),r=yield wc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(fs(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Fd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=P2()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(fs(this.app))return Promise.reject(Pd(this));let t=e?Ut(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return fs(this.app)?Promise.reject(Pd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return fs(this.app)?Promise.reject(Pd(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Yi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield Q2(this),t=new Ty(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ar("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield U2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Yi(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=yield Ld.create(this,[Yi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&A2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function J2(n){return Ut(n)}var Vd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=sD(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var X2={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z2(n){X2=n}function eV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function tV(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Yi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var Z8=eV("rcb"),eG=new Ji(3e4,6e4);var tG=new Ji(2e3,1e4);var nG=10*60*1e3;var rG=new Ji(3e4,6e4);var iG=new Ji(5e3,15e3);var oG=encodeURIComponent("fac");var xD="@firebase/auth",AD="1.7.9";var xy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function nV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rV(n){li(new wn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Pe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UD(n)},l=new Sy(r,i,o,u);return tV(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),li(new wn("auth-internal",e=>{let t=J2(e.getProvider("auth").getImmediate());return(r=>new xy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(xD,AD,nV(n)),dt(xD,AD,"esm2017")}var iV=5*60,sG=XC("authIdTokenMaxAge")||iV;function oV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Z2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Ay("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",oV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rV("Browser");var ij="auth";var Ud=class{constructor(){return fc(ij)}};var BD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$D={};var hi,Ny;(function(){var n;function e(S,w){function b(){}b.prototype=w.prototype,S.D=w.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(T,x,M){for(var E=Array(arguments.length-2),ur=2;ur<arguments.length;ur++)E[ur-2]=arguments[ur];return w.prototype[x].apply(T,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,w,b){b||(b=0);var T=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)T[x]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(x=0;16>x;++x)T[x]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=S.g[0],b=S.g[1],x=S.g[2];var M=S.g[3],E=w+(M^b&(x^M))+T[0]+3614090360&4294967295;w=b+(E<<7&4294967295|E>>>25),E=M+(x^w&(b^x))+T[1]+3905402710&4294967295,M=w+(E<<12&4294967295|E>>>20),E=x+(b^M&(w^b))+T[2]+606105819&4294967295,x=M+(E<<17&4294967295|E>>>15),E=b+(w^x&(M^w))+T[3]+3250441966&4294967295,b=x+(E<<22&4294967295|E>>>10),E=w+(M^b&(x^M))+T[4]+4118548399&4294967295,w=b+(E<<7&4294967295|E>>>25),E=M+(x^w&(b^x))+T[5]+1200080426&4294967295,M=w+(E<<12&4294967295|E>>>20),E=x+(b^M&(w^b))+T[6]+2821735955&4294967295,x=M+(E<<17&4294967295|E>>>15),E=b+(w^x&(M^w))+T[7]+4249261313&4294967295,b=x+(E<<22&4294967295|E>>>10),E=w+(M^b&(x^M))+T[8]+1770035416&4294967295,w=b+(E<<7&4294967295|E>>>25),E=M+(x^w&(b^x))+T[9]+2336552879&4294967295,M=w+(E<<12&4294967295|E>>>20),E=x+(b^M&(w^b))+T[10]+4294925233&4294967295,x=M+(E<<17&4294967295|E>>>15),E=b+(w^x&(M^w))+T[11]+2304563134&4294967295,b=x+(E<<22&4294967295|E>>>10),E=w+(M^b&(x^M))+T[12]+1804603682&4294967295,w=b+(E<<7&4294967295|E>>>25),E=M+(x^w&(b^x))+T[13]+4254626195&4294967295,M=w+(E<<12&4294967295|E>>>20),E=x+(b^M&(w^b))+T[14]+2792965006&4294967295,x=M+(E<<17&4294967295|E>>>15),E=b+(w^x&(M^w))+T[15]+1236535329&4294967295,b=x+(E<<22&4294967295|E>>>10),E=w+(x^M&(b^x))+T[1]+4129170786&4294967295,w=b+(E<<5&4294967295|E>>>27),E=M+(b^x&(w^b))+T[6]+3225465664&4294967295,M=w+(E<<9&4294967295|E>>>23),E=x+(w^b&(M^w))+T[11]+643717713&4294967295,x=M+(E<<14&4294967295|E>>>18),E=b+(M^w&(x^M))+T[0]+3921069994&4294967295,b=x+(E<<20&4294967295|E>>>12),E=w+(x^M&(b^x))+T[5]+3593408605&4294967295,w=b+(E<<5&4294967295|E>>>27),E=M+(b^x&(w^b))+T[10]+38016083&4294967295,M=w+(E<<9&4294967295|E>>>23),E=x+(w^b&(M^w))+T[15]+3634488961&4294967295,x=M+(E<<14&4294967295|E>>>18),E=b+(M^w&(x^M))+T[4]+3889429448&4294967295,b=x+(E<<20&4294967295|E>>>12),E=w+(x^M&(b^x))+T[9]+568446438&4294967295,w=b+(E<<5&4294967295|E>>>27),E=M+(b^x&(w^b))+T[14]+3275163606&4294967295,M=w+(E<<9&4294967295|E>>>23),E=x+(w^b&(M^w))+T[3]+4107603335&4294967295,x=M+(E<<14&4294967295|E>>>18),E=b+(M^w&(x^M))+T[8]+1163531501&4294967295,b=x+(E<<20&4294967295|E>>>12),E=w+(x^M&(b^x))+T[13]+2850285829&4294967295,w=b+(E<<5&4294967295|E>>>27),E=M+(b^x&(w^b))+T[2]+4243563512&4294967295,M=w+(E<<9&4294967295|E>>>23),E=x+(w^b&(M^w))+T[7]+1735328473&4294967295,x=M+(E<<14&4294967295|E>>>18),E=b+(M^w&(x^M))+T[12]+2368359562&4294967295,b=x+(E<<20&4294967295|E>>>12),E=w+(b^x^M)+T[5]+4294588738&4294967295,w=b+(E<<4&4294967295|E>>>28),E=M+(w^b^x)+T[8]+2272392833&4294967295,M=w+(E<<11&4294967295|E>>>21),E=x+(M^w^b)+T[11]+1839030562&4294967295,x=M+(E<<16&4294967295|E>>>16),E=b+(x^M^w)+T[14]+4259657740&4294967295,b=x+(E<<23&4294967295|E>>>9),E=w+(b^x^M)+T[1]+2763975236&4294967295,w=b+(E<<4&4294967295|E>>>28),E=M+(w^b^x)+T[4]+1272893353&4294967295,M=w+(E<<11&4294967295|E>>>21),E=x+(M^w^b)+T[7]+4139469664&4294967295,x=M+(E<<16&4294967295|E>>>16),E=b+(x^M^w)+T[10]+3200236656&4294967295,b=x+(E<<23&4294967295|E>>>9),E=w+(b^x^M)+T[13]+681279174&4294967295,w=b+(E<<4&4294967295|E>>>28),E=M+(w^b^x)+T[0]+3936430074&4294967295,M=w+(E<<11&4294967295|E>>>21),E=x+(M^w^b)+T[3]+3572445317&4294967295,x=M+(E<<16&4294967295|E>>>16),E=b+(x^M^w)+T[6]+76029189&4294967295,b=x+(E<<23&4294967295|E>>>9),E=w+(b^x^M)+T[9]+3654602809&4294967295,w=b+(E<<4&4294967295|E>>>28),E=M+(w^b^x)+T[12]+3873151461&4294967295,M=w+(E<<11&4294967295|E>>>21),E=x+(M^w^b)+T[15]+530742520&4294967295,x=M+(E<<16&4294967295|E>>>16),E=b+(x^M^w)+T[2]+3299628645&4294967295,b=x+(E<<23&4294967295|E>>>9),E=w+(x^(b|~M))+T[0]+4096336452&4294967295,w=b+(E<<6&4294967295|E>>>26),E=M+(b^(w|~x))+T[7]+1126891415&4294967295,M=w+(E<<10&4294967295|E>>>22),E=x+(w^(M|~b))+T[14]+2878612391&4294967295,x=M+(E<<15&4294967295|E>>>17),E=b+(M^(x|~w))+T[5]+4237533241&4294967295,b=x+(E<<21&4294967295|E>>>11),E=w+(x^(b|~M))+T[12]+1700485571&4294967295,w=b+(E<<6&4294967295|E>>>26),E=M+(b^(w|~x))+T[3]+2399980690&4294967295,M=w+(E<<10&4294967295|E>>>22),E=x+(w^(M|~b))+T[10]+4293915773&4294967295,x=M+(E<<15&4294967295|E>>>17),E=b+(M^(x|~w))+T[1]+2240044497&4294967295,b=x+(E<<21&4294967295|E>>>11),E=w+(x^(b|~M))+T[8]+1873313359&4294967295,w=b+(E<<6&4294967295|E>>>26),E=M+(b^(w|~x))+T[15]+4264355552&4294967295,M=w+(E<<10&4294967295|E>>>22),E=x+(w^(M|~b))+T[6]+2734768916&4294967295,x=M+(E<<15&4294967295|E>>>17),E=b+(M^(x|~w))+T[13]+1309151649&4294967295,b=x+(E<<21&4294967295|E>>>11),E=w+(x^(b|~M))+T[4]+4149444226&4294967295,w=b+(E<<6&4294967295|E>>>26),E=M+(b^(w|~x))+T[11]+3174756917&4294967295,M=w+(E<<10&4294967295|E>>>22),E=x+(w^(M|~b))+T[2]+718787259&4294967295,x=M+(E<<15&4294967295|E>>>17),E=b+(M^(x|~w))+T[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(x+(E<<21&4294967295|E>>>11))&4294967295,S.g[2]=S.g[2]+x&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var b=w-this.blockSize,T=this.B,x=this.h,M=0;M<w;){if(x==0)for(;M<=b;)i(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<w;)if(T[x++]=S.charCodeAt(M++),x==this.blockSize){i(this,T),x=0;break}}else for(;M<w;)if(T[x++]=S[M++],x==this.blockSize){i(this,T),x=0;break}}this.h=x,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var b=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=b&255,b/=256;for(this.u(S),S=Array(16),w=b=0;4>w;++w)for(var T=0;32>T;T+=8)S[b++]=this.g[w]>>>T&255;return S};function o(S,w){var b=a;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=w(S)}function s(S,w){this.h=w;for(var b=[],T=!0,x=S.length-1;0<=x;x--){var M=S[x]|0;T&&M==w||(b[x]=M,T=!1)}this.g=b}var a={};function u(S){return-128<=S&&128>S?o(S,function(w){return new s([w|0],0>w?-1:0)}):new s([S|0],0>S?-1:0)}function l(S){if(isNaN(S)||!isFinite(S))return g;if(0>S)return O(l(-S));for(var w=[],b=1,T=0;S>=b;T++)w[T]=S/b|0,b*=4294967296;return new s(w,0)}function h(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return O(h(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=l(Math.pow(w,8)),T=g,x=0;x<S.length;x+=8){var M=Math.min(8,S.length-x),E=parseInt(S.substring(x,x+M),w);8>M?(M=l(Math.pow(w,M)),T=T.j(M).add(l(E))):(T=T.j(b),T=T.add(l(E)))}return T}var g=u(0),_=u(1),I=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-O(this).m();for(var S=0,w=1,b=0;b<this.g.length;b++){var T=this.i(b);S+=(0<=T?T:4294967296+T)*w,w*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(R(this))return"0";if(N(this))return"-"+O(this).toString(S);for(var w=l(Math.pow(S,6)),b=this,T="";;){var x=_e(b,w).g;b=H(b,x.j(w));var M=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=x,R(b))return M+T;for(;6>M.length;)M="0"+M;T=M+T}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function R(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function N(S){return S.h==-1}n.l=function(S){return S=H(this,S),N(S)?-1:R(S)?0:1};function O(S){for(var w=S.g.length,b=[],T=0;T<w;T++)b[T]=~S.g[T];return new s(b,~S.h).add(_)}n.abs=function(){return N(this)?O(this):this},n.add=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],T=0,x=0;x<=w;x++){var M=T+(this.i(x)&65535)+(S.i(x)&65535),E=(M>>>16)+(this.i(x)>>>16)+(S.i(x)>>>16);T=E>>>16,M&=65535,E&=65535,b[x]=E<<16|M}return new s(b,b[b.length-1]&-2147483648?-1:0)};function H(S,w){return S.add(O(w))}n.j=function(S){if(R(this)||R(S))return g;if(N(this))return N(S)?O(this).j(O(S)):O(O(this).j(S));if(N(S))return O(this.j(O(S)));if(0>this.l(I)&&0>S.l(I))return l(this.m()*S.m());for(var w=this.g.length+S.g.length,b=[],T=0;T<2*w;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var x=0;x<S.g.length;x++){var M=this.i(T)>>>16,E=this.i(T)&65535,ur=S.i(x)>>>16,Gs=S.i(x)&65535;b[2*T+2*x]+=E*Gs,oe(b,2*T+2*x),b[2*T+2*x+1]+=M*Gs,oe(b,2*T+2*x+1),b[2*T+2*x+1]+=E*ur,oe(b,2*T+2*x+1),b[2*T+2*x+2]+=M*ur,oe(b,2*T+2*x+2)}for(T=0;T<w;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=w;T<2*w;T++)b[T]=0;return new s(b,0)};function oe(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function W(S,w){this.g=S,this.h=w}function _e(S,w){if(R(w))throw Error("division by zero");if(R(S))return new W(g,g);if(N(S))return w=_e(O(S),w),new W(O(w.g),O(w.h));if(N(w))return w=_e(S,O(w)),new W(O(w.g),w.h);if(30<S.g.length){if(N(S)||N(w))throw Error("slowDivide_ only works with positive integers.");for(var b=_,T=w;0>=T.l(S);)b=ze(b),T=ze(T);var x=ue(b,1),M=ue(T,1);for(T=ue(T,2),b=ue(b,2);!R(T);){var E=M.add(T);0>=E.l(S)&&(x=x.add(b),M=E),T=ue(T,1),b=ue(b,1)}return w=H(S,x.j(w)),new W(x,w)}for(x=g;0<=S.l(w);){for(b=Math.max(1,Math.floor(S.m()/w.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),M=l(b),E=M.j(w);N(E)||0<E.l(S);)b-=T,M=l(b),E=M.j(w);R(M)&&(M=_),x=x.add(M),S=H(S,E)}return new W(x,S)}n.A=function(S){return _e(this,S).h},n.and=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],T=0;T<w;T++)b[T]=this.i(T)&S.i(T);return new s(b,this.h&S.h)},n.or=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],T=0;T<w;T++)b[T]=this.i(T)|S.i(T);return new s(b,this.h|S.h)},n.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],T=0;T<w;T++)b[T]=this.i(T)^S.i(T);return new s(b,this.h^S.h)};function ze(S){for(var w=S.g.length+1,b=[],T=0;T<w;T++)b[T]=S.i(T)<<1|S.i(T-1)>>>31;return new s(b,S.h)}function ue(S,w){var b=w>>5;w%=32;for(var T=S.g.length-b,x=[],M=0;M<T;M++)x[M]=0<w?S.i(M+b)>>>w|S.i(M+b+1)<<32-w:S.i(M+b);return new s(x,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ny=$D.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,hi=$D.Integer=s}).apply(typeof BD<"u"?BD:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rr={};var Oy,oj,ys,ky,Ic,$d,Fy,Ly,Vy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var A=c[v];if(!(A in f))break e;f=f[A]}c=c[c.length-1],v=f[c],d=d(v),d!=v&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,v=!1,A={next:function(){if(!v&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return v=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function g(c,d,f){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,v),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function _(c,d,f){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,_.apply(null,arguments)}function I(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function R(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(v,A,P){for(var j=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)j[Le-2]=arguments[Le];return d.prototype[A].apply(v,j)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let v=0;v<d;v++)f[v]=c[v];return f}return[]}function O(c,d){for(let f=1;f<arguments.length;f++){let v=arguments[f];if(u(v)){let A=c.length||0,P=v.length||0;c.length=A+P;for(let j=0;j<P;j++)c[A+j]=v[j]}else c.push(v)}}class H{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function oe(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function _e(c){return _e[" "](c),c}_e[" "]=function(){};var ze=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ue(c,d,f){for(let v in c)d.call(f,c[v],v,c)}function S(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function w(c){let d={};for(let f in c)d[f]=c[f];return d}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,v;for(let A=1;A<arguments.length;A++){v=arguments[A];for(f in v)c[f]=v[f];for(let P=0;P<b.length;P++)f=b[P],Object.prototype.hasOwnProperty.call(v,f)&&(c[f]=v[f])}}function x(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Zh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ur{constructor(){this.h=this.g=null}add(d,f){let v=Gs.get();v.set(d,f),this.h?this.h.next=v:this.g=v,this.h=v}}var Gs=new H(()=>new $x,c=>c.reset());class $x{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ws,Ks=!1,Zh=new ur,t_=()=>{let c=a.Promise.resolve(void 0);Ws=()=>{c.then(qx)}};var qx=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){M(f)}var d=Gs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ks=!1};function Lr(){this.s=this.s,this.C=this.C}Lr.prototype.s=!1,Lr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Lr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var Hx=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Qs(c,d){if(vt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ze){e:{try{_e(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:zx[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Qs.aa.h.call(this)}}R(Qs,vt);var zx={2:"touch",3:"pen",4:"mouse"};Qs.prototype.h=function(){Qs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ys="closure_listenable_"+(1e6*Math.random()|0),Gx=0;function Wx(c,d,f,v,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!v,this.ha=A,this.key=++Gx,this.da=this.fa=!1}function eu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function tu(c){this.src=c,this.g={},this.h=0}tu.prototype.add=function(c,d,f,v,A){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var j=tf(c,d,v,A);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new Wx(d,this.src,P,!!v,A),d.fa=f,c.push(d)),d};function ef(c,d){var f=d.type;if(f in c.g){var v=c.g[f],A=Array.prototype.indexOf.call(v,d,void 0),P;(P=0<=A)&&Array.prototype.splice.call(v,A,1),P&&(eu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function tf(c,d,f,v){for(var A=0;A<c.length;++A){var P=c[A];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==v)return A}return-1}var nf="closure_lm_"+(1e6*Math.random()|0),rf={};function n_(c,d,f,v,A){if(v&&v.once)return i_(c,d,f,v,A);if(Array.isArray(d)){for(var P=0;P<d.length;P++)n_(c,d[P],f,v,A);return null}return f=cf(f),c&&c[Ys]?c.K(d,f,l(v)?!!v.capture:!!v,A):r_(c,d,f,!1,v,A)}function r_(c,d,f,v,A,P){if(!d)throw Error("Invalid event type");var j=l(A)?!!A.capture:!!A,Le=sf(c);if(Le||(c[nf]=Le=new tu(c)),f=Le.add(d,f,v,j,P),f.proxy)return f;if(v=Kx(),f.proxy=v,v.src=c,v.listener=f,c.addEventListener)Hx||(A=j),A===void 0&&(A=!1),c.addEventListener(d.toString(),v,A);else if(c.attachEvent)c.attachEvent(s_(d.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Kx(){function c(f){return d.call(c.src,c.listener,f)}let d=Qx;return c}function i_(c,d,f,v,A){if(Array.isArray(d)){for(var P=0;P<d.length;P++)i_(c,d[P],f,v,A);return null}return f=cf(f),c&&c[Ys]?c.L(d,f,l(v)?!!v.capture:!!v,A):r_(c,d,f,!0,v,A)}function o_(c,d,f,v,A){if(Array.isArray(d))for(var P=0;P<d.length;P++)o_(c,d[P],f,v,A);else v=l(v)?!!v.capture:!!v,f=cf(f),c&&c[Ys]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=tf(P,f,v,A),-1<f&&(eu(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=sf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=tf(d,f,v,A)),(f=-1<c?d[c]:null)&&of(f))}function of(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ys])ef(d.i,c);else{var f=c.type,v=c.proxy;d.removeEventListener?d.removeEventListener(f,v,c.capture):d.detachEvent?d.detachEvent(s_(f),v):d.addListener&&d.removeListener&&d.removeListener(v),(f=sf(d))?(ef(f,c),f.h==0&&(f.src=null,d[nf]=null)):eu(c)}}}function s_(c){return c in rf?rf[c]:rf[c]="on"+c}function Qx(c,d){if(c.da)c=!0;else{d=new Qs(d,this);var f=c.listener,v=c.ha||c.src;c.fa&&of(c),c=f.call(v,d)}return c}function sf(c){return c=c[nf],c instanceof tu?c:null}var af="__closure_events_fn_"+(1e9*Math.random()>>>0);function cf(c){return typeof c=="function"?c:(c[af]||(c[af]=function(d){return c.handleEvent(d)}),c[af])}function _t(){Lr.call(this),this.i=new tu(this),this.M=this,this.F=null}R(_t,Lr),_t.prototype[Ys]=!0,_t.prototype.removeEventListener=function(c,d,f,v){o_(this,c,d,f,v)};function Ot(c,d){var f,v=c.F;if(v)for(f=[];v;v=v.F)f.push(v);if(c=c.M,v=d.type||d,typeof d=="string")d=new vt(d,c);else if(d instanceof vt)d.target=d.target||c;else{var A=d;d=new vt(v,c),T(d,A)}if(A=!0,f)for(var P=f.length-1;0<=P;P--){var j=d.g=f[P];A=nu(j,v,!0,d)&&A}if(j=d.g=c,A=nu(j,v,!0,d)&&A,A=nu(j,v,!1,d)&&A,f)for(P=0;P<f.length;P++)j=d.g=f[P],A=nu(j,v,!1,d)&&A}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],v=0;v<f.length;v++)eu(f[v]);delete c.g[d],c.h--}}this.F=null},_t.prototype.K=function(c,d,f,v){return this.i.add(String(c),d,!1,f,v)},_t.prototype.L=function(c,d,f,v){return this.i.add(String(c),d,!0,f,v)};function nu(c,d,f,v){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,P=0;P<d.length;++P){var j=d[P];if(j&&!j.da&&j.capture==f){var Le=j.listener,ft=j.ha||j.src;j.fa&&ef(c.i,j),A=Le.call(ft,v)!==!1&&A}}return A&&!v.defaultPrevented}function a_(c,d,f){if(typeof c=="function")f&&(c=_(c,f));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function c_(c){c.g=a_(()=>{c.g=null,c.i&&(c.i=!1,c_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Yx extends Lr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:c_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Js(c){Lr.call(this),this.h=c,this.g={}}R(Js,Lr);var u_=[];function l_(c){ue(c.g,function(d,f){this.g.hasOwnProperty(f)&&of(d)},c),c.g={}}Js.prototype.N=function(){Js.aa.N.call(this),l_(this)},Js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uf=a.JSON.stringify,Jx=a.JSON.parse,Xx=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function lf(){}lf.prototype.h=null;function d_(c){return c.h||(c.h=c.i())}function h_(){}var Xs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function df(){vt.call(this,"d")}R(df,vt);function hf(){vt.call(this,"c")}R(hf,vt);var Ii={},f_=null;function ru(){return f_=f_||new _t}Ii.La="serverreachability";function p_(c){vt.call(this,Ii.La,c)}R(p_,vt);function Zs(c){let d=ru();Ot(d,new p_(d))}Ii.STAT_EVENT="statevent";function m_(c,d){vt.call(this,Ii.STAT_EVENT,c),this.stat=d}R(m_,vt);function kt(c){let d=ru();Ot(d,new m_(d,c))}Ii.Ma="timingevent";function g_(c,d){vt.call(this,Ii.Ma,c),this.size=d}R(g_,vt);function ea(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ta(){this.g=!0}ta.prototype.xa=function(){this.g=!1};function Zx(c,d,f,v,A,P){c.info(function(){if(c.g)if(P)for(var j="",Le=P.split("&"),ft=0;ft<Le.length;ft++){var xe=Le[ft].split("=");if(1<xe.length){var wt=xe[0];xe=xe[1];var It=wt.split("_");j=2<=It.length&&It[1]=="type"?j+(wt+"="+xe+"&"):j+(wt+"=redacted&")}}else j=null;else j=P;return"XMLHTTP REQ ("+v+") [attempt "+A+"]: "+d+`
`+f+`
`+j})}function eA(c,d,f,v,A,P,j){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+A+"]: "+d+`
`+f+`
`+P+" "+j})}function mo(c,d,f,v){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+nA(c,f)+(v?" "+v:"")})}function tA(c,d){c.info(function(){return"TIMEOUT: "+d})}ta.prototype.info=function(){};function nA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var v=f[c];if(!(2>v.length)){var A=v[1];if(Array.isArray(A)&&!(1>A.length)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(var j=1;j<A.length;j++)A[j]=""}}}}return uf(f)}catch{return d}}var iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},y_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ff;function ou(){}R(ou,lf),ou.prototype.g=function(){return new XMLHttpRequest},ou.prototype.i=function(){return{}},ff=new ou;function Vr(c,d,f,v){this.j=c,this.i=d,this.l=f,this.R=v||1,this.U=new Js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new v_}function v_(){this.i=null,this.g="",this.h=!1}var __={},pf={};function mf(c,d,f){c.L=1,c.v=uu(lr(d)),c.m=f,c.P=!0,w_(c,null)}function w_(c,d){c.F=Date.now(),su(c),c.A=lr(c.v);var f=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),O_(f.i,"t",v),c.C=0,f=c.j.J,c.h=new v_,c.g=X_(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Yx(_(c.Y,c,c.g),c.O)),d=c.U,f=c.g,v=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(u_[0]=A.toString()),A=u_);for(var P=0;P<A.length;P++){var j=n_(f,A[P],v||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Zs(),Zx(c.i,c.u,c.A,c.l,c.R,c.m)}Vr.prototype.ca=function(c){c=c.target;let d=this.M;d&&dr(c)==3?d.j():this.Y(c)},Vr.prototype.Y=function(c){try{if(c==this.g)e:{let It=dr(this.g);var d=this.g.Ba();let vo=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||B_(this.g)))){this.J||It!=4||d==7||(d==8||0>=vo?Zs(3):Zs(2)),gf(this);var f=this.g.Z();this.X=f;t:if(I_(this)){var v=B_(this.g);c="";var A=v.length,P=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),na(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(v[d],{stream:!(P&&d==A-1)});v.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,eA(this.i,this.u,this.A,this.l,this.R,It,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,ft=this.g;if((Le=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(Le)){var xe=Le;break t}}xe=null}if(f=xe)mo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yf(this,f);else{this.o=!1,this.s=3,kt(12),bi(this),na(this);break e}}if(this.P){f=!0;let Cn;for(;!this.J&&this.C<j.length;)if(Cn=rA(this,j),Cn==pf){It==4&&(this.s=4,kt(14),f=!1),mo(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==__){this.s=4,kt(15),mo(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else mo(this.i,this.l,Cn,null),yf(this,Cn);if(I_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||j.length!=0||this.h.h||(this.s=1,kt(16),f=!1),this.o=this.o&&f,!f)mo(this.i,this.l,j,"[Invalid Chunked Response]"),bi(this),na(this);else if(0<j.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Ef(wt),wt.M=!0,kt(11))}}else mo(this.i,this.l,j,null),yf(this,j);It==4&&bi(this),this.o&&!this.J&&(It==4?K_(this.j,this):(this.o=!1,su(this)))}else wA(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),bi(this),na(this)}}}catch{}finally{}};function I_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function rA(c,d){var f=c.C,v=d.indexOf(`
`,f);return v==-1?pf:(f=Number(d.substring(f,v)),isNaN(f)?__:(v+=1,v+f>d.length?pf:(d=d.slice(v,v+f),c.C=v+f,d)))}Vr.prototype.cancel=function(){this.J=!0,bi(this)};function su(c){c.S=Date.now()+c.I,b_(c,c.I)}function b_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ea(_(c.ba,c),d)}function gf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Vr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(tA(this.i,this.A),this.L!=2&&(Zs(),kt(17)),bi(this),this.s=2,na(this)):b_(this,this.S-c)};function na(c){c.j.G==0||c.J||K_(c.j,c)}function bi(c){gf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,l_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function yf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||vf(f.h,c))){if(!c.K&&vf(f.h,c)&&f.G==3){try{var v=f.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var A=v;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)pu(f),hu(f);else break e;bf(f),kt(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=ea(_(f.Za,f),6e3));if(1>=D_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ci(f,11)}else if((c.K||f.g==c)&&pu(f),!oe(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let xe=A[d];if(f.T=xe[0],xe=xe[1],f.G==2)if(xe[0]=="c"){f.K=xe[1],f.ia=xe[2];let wt=xe[3];wt!=null&&(f.la=wt,f.j.info("VER="+f.la));let It=xe[4];It!=null&&(f.Aa=It,f.j.info("SVER="+f.Aa));let vo=xe[5];vo!=null&&typeof vo=="number"&&0<vo&&(v=1.5*vo,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;let Cn=c.g;if(Cn){let gu=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gu){var P=v.h;P.g||gu.indexOf("spdy")==-1&&gu.indexOf("quic")==-1&&gu.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(_f(P,P.h),P.h=null))}if(v.D){let Cf=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cf&&(v.ya=Cf,qe(v.I,v.D,Cf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var j=c;if(v.qa=J_(v,v.J?v.ia:null,v.W),j.K){T_(v.h,j);var Le=j,ft=v.L;ft&&(Le.I=ft),Le.B&&(gf(Le),su(Le)),v.g=j}else G_(v);0<f.i.length&&fu(f)}else xe[0]!="stop"&&xe[0]!="close"||Ci(f,7);else f.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Ci(f,7):If(f):xe[0]!="noop"&&f.l&&f.l.ta(xe),f.v=0)}}Zs(4)}catch{}}var iA=class{constructor(c,d){this.g=c,this.map=d}};function E_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function C_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function D_(c){return c.h?1:c.g?c.g.size:0}function vf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function _f(c,d){c.g?c.g.add(d):c.h=d}function T_(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}E_.prototype.cancel=function(){if(this.i=S_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function S_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function oA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,v=0;v<f;v++)d.push(c[v]);return d}d=[],f=0;for(v in c)d[f++]=c[v];return d}function sA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let v in c)d[f++]=v;return d}}}function x_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=sA(c),v=oA(c),A=v.length,P=0;P<A;P++)d.call(void 0,v[P],f&&f[P],c)}var A_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var v=c[f].indexOf("="),A=null;if(0<=v){var P=c[f].substring(0,v);A=c[f].substring(v+1)}else P=c[f];d(P,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ei){this.h=c.h,au(this,c.j),this.o=c.o,this.g=c.g,cu(this,c.s),this.l=c.l;var d=c.i,f=new oa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),M_(this,f),this.m=c.m}else c&&(d=String(c).match(A_))?(this.h=!1,au(this,d[1]||"",!0),this.o=ra(d[2]||""),this.g=ra(d[3]||"",!0),cu(this,d[4]),this.l=ra(d[5]||"",!0),M_(this,d[6]||"",!0),this.m=ra(d[7]||"")):(this.h=!1,this.i=new oa(null,this.h))}Ei.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ia(d,R_,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ia(d,R_,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ia(f,f.charAt(0)=="/"?lA:uA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ia(f,hA)),c.join("")};function lr(c){return new Ei(c)}function au(c,d,f){c.j=f?ra(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function cu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function M_(c,d,f){d instanceof oa?(c.i=d,fA(c.i,c.h)):(f||(d=ia(d,dA)),c.i=new oa(d,c.h))}function qe(c,d,f){c.i.set(d,f)}function uu(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ra(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ia(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,cA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var R_=/[#\/\?@]/g,uA=/[#\?:]/g,lA=/[#\?]/g,dA=/[#\?@]/g,hA=/#/g;function oa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function jr(c){c.g||(c.g=new Map,c.h=0,c.i&&aA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=oa.prototype,n.add=function(c,d){jr(this),this.i=null,c=go(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function P_(c,d){jr(c),d=go(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function N_(c,d){return jr(c),d=go(c,d),c.g.has(d)}n.forEach=function(c,d){jr(this),this.g.forEach(function(f,v){f.forEach(function(A){c.call(d,A,v,this)},this)},this)},n.na=function(){jr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let v=0;v<d.length;v++){let A=c[v];for(let P=0;P<A.length;P++)f.push(d[v])}return f},n.V=function(c){jr(this);let d=[];if(typeof c=="string")N_(this,c)&&(d=d.concat(this.g.get(go(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return jr(this),this.i=null,c=go(this,c),N_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function O_(c,d,f){P_(c,d),0<f.length&&(c.i=null,c.g.set(go(c,d),N(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var v=d[f];let P=encodeURIComponent(String(v)),j=this.V(v);for(v=0;v<j.length;v++){var A=P;j[v]!==""&&(A+="="+encodeURIComponent(String(j[v]))),c.push(A)}}return this.i=c.join("&")};function go(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function fA(c,d){d&&!c.j&&(jr(c),c.i=null,c.g.forEach(function(f,v){var A=v.toLowerCase();v!=A&&(P_(this,v),O_(this,A,f))},c)),c.j=d}function pA(c,d){let f=new ta;if(a.Image){let v=new Image;v.onload=I(Ur,f,"TestLoadImage: loaded",!0,d,v),v.onerror=I(Ur,f,"TestLoadImage: error",!1,d,v),v.onabort=I(Ur,f,"TestLoadImage: abort",!1,d,v),v.ontimeout=I(Ur,f,"TestLoadImage: timeout",!1,d,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else d(!1)}function mA(c,d){let f=new ta,v=new AbortController,A=setTimeout(()=>{v.abort(),Ur(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:v.signal}).then(P=>{clearTimeout(A),P.ok?Ur(f,"TestPingServer: ok",!0,d):Ur(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),Ur(f,"TestPingServer: error",!1,d)})}function Ur(c,d,f,v,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),v(f)}catch{}}function gA(){this.g=new Xx}function yA(c,d,f){let v=f||"";try{x_(c,function(A,P){let j=A;l(A)&&(j=uf(A)),d.push(v+P+"="+encodeURIComponent(j))})}catch(A){throw d.push(v+"type="+encodeURIComponent("_badmap")),A}}function sa(c){this.l=c.Ub||null,this.j=c.eb||!1}R(sa,lf),sa.prototype.g=function(){return new lu(this.l,this.j)},sa.prototype.i=function(c){return function(){return c}}({});function lu(c,d){_t.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(lu,_t),n=lu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ca(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,aa(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;k_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function k_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?aa(this):ca(this),this.readyState==3&&k_(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,aa(this))},n.Qa=function(c){this.g&&(this.response=c,aa(this))},n.ga=function(){this.g&&aa(this)};function aa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ca(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ca(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function F_(c){let d="";return ue(c,function(f,v){d+=v,d+=":",d+=f,d+=`\r
`}),d}function wf(c,d,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=F_(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):qe(c,d,f))}function Ye(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ye,_t);var vA=/^https?$/i,_A=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ff.g(),this.v=this.o?d_(this.o):d_(ff),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){L_(this,P);return}if(c=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var A in v)f.set(A,v[A]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let P of v.keys())f.set(P,v.get(P));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_A,d,void 0))||v||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,j]of f)this.g.setRequestHeader(P,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{U_(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){L_(this,P)}};function L_(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,V_(c),du(c)}function V_(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),du(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),du(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?j_(this):this.bb())},n.bb=function(){j_(this)};function j_(c){if(c.h&&typeof s<"u"&&(!c.v[1]||dr(c)!=4||c.Z()!=2)){if(c.u&&dr(c)==4)a_(c.Ea,0,c);else if(Ot(c,"readystatechange"),dr(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var v;if(v=j===0){var A=String(c.D).match(A_)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),v=!vA.test(A?A.toLowerCase():"")}f=v}if(f)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var P=2<dr(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",V_(c)}}finally{du(c)}}}}function du(c,d){if(c.g){U_(c);let f=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Ot(c,"ready");try{f.onreadystatechange=v}catch{}}}function U_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function dr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Jx(d)}};function B_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wA(c){let d={};c=(c.g&&2<=dr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(oe(c[v]))continue;var f=x(c[v]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[A]||[];d[A]=P,P.push(f)}S(d,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function $_(c){this.Aa=0,this.i=[],this.j=new ta,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ua("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ua("baseRetryDelayMs",5e3,c),this.cb=ua("retryDelaySeedMs",1e4,c),this.Wa=ua("forwardChannelMaxRetries",2,c),this.wa=ua("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new E_(c&&c.concurrentRequestLimit),this.Da=new gA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$_.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,v){kt(0),this.W=c,this.H=d||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=J_(this,null,this.W),fu(this)};function If(c){if(q_(c),c.G==3){var d=c.U++,f=lr(c.I);if(qe(f,"SID",c.K),qe(f,"RID",d),qe(f,"TYPE","terminate"),la(c,f),d=new Vr(c,c.j,d),d.L=2,d.v=uu(lr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=X_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),su(d)}Y_(c)}function hu(c){c.g&&(Ef(c),c.g.cancel(),c.g=null)}function q_(c){hu(c),c.u&&(a.clearTimeout(c.u),c.u=null),pu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function fu(c){if(!C_(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ws||t_(),Ks||(Ws(),Ks=!0),Zh.add(d,c),c.B=0}}function IA(c,d){return D_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ea(_(c.Ga,c,d),Q_(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new Vr(this,this.j,c),P=this.o;if(this.S&&(P?(P=w(P),T(P,this.S)):P=this.S),this.m!==null||this.O||(A.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=z_(this,A,d),f=lr(this.I),qe(f,"RID",c),qe(f,"CVER",22),this.D&&qe(f,"X-HTTP-Session-Id",this.D),la(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(F_(P)))+"&"+d:this.m&&wf(f,this.m,P)),_f(this.h,A),this.Ua&&qe(f,"TYPE","init"),this.P?(qe(f,"$req",d),qe(f,"SID","null"),A.T=!0,mf(A,f,null)):mf(A,f,d),this.G=2}}else this.G==3&&(c?H_(this,c):this.i.length==0||C_(this.h)||H_(this))};function H_(c,d){var f;d?f=d.l:f=c.U++;let v=lr(c.I);qe(v,"SID",c.K),qe(v,"RID",f),qe(v,"AID",c.T),la(c,v),c.m&&c.o&&wf(v,c.m,c.o),f=new Vr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=z_(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_f(c.h,f),mf(f,v,d)}function la(c,d){c.H&&ue(c.H,function(f,v){qe(d,v,f)}),c.l&&x_({},function(f,v){qe(d,v,f)})}function z_(c,d,f){f=Math.min(c.i.length,f);var v=c.l?_(c.l.Na,c.l,c):null;e:{var A=c.i;let P=-1;for(;;){let j=["count="+f];P==-1?0<f?(P=A[0].g,j.push("ofs="+P)):P=0:j.push("ofs="+P);let Le=!0;for(let ft=0;ft<f;ft++){let xe=A[ft].g,wt=A[ft].map;if(xe-=P,0>xe)P=Math.max(0,A[ft].g-100),Le=!1;else try{yA(wt,j,"req"+xe+"_")}catch{v&&v(wt)}}if(Le){v=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,v}function G_(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ws||t_(),Ks||(Ws(),Ks=!0),Zh.add(d,c),c.v=0}}function bf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ea(_(c.Fa,c),Q_(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,W_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ea(_(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),hu(this),W_(this))};function Ef(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function W_(c){c.g=new Vr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=lr(c.qa);qe(d,"RID","rpc"),qe(d,"SID",c.K),qe(d,"AID",c.T),qe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(d,"TO",c.ja),qe(d,"TYPE","xmlhttp"),la(c,d),c.m&&c.o&&wf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=uu(lr(d)),f.m=null,f.P=!0,w_(f,c)}n.Za=function(){this.C!=null&&(this.C=null,hu(this),bf(this),kt(19))};function pu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function K_(c,d){var f=null;if(c.g==d){pu(c),Ef(c),c.g=null;var v=2}else if(vf(c.h,d))f=d.D,T_(c.h,d),v=1;else return;if(c.G!=0){if(d.o)if(v==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;v=ru(),Ot(v,new g_(v,f)),fu(c)}else G_(c);else if(A=d.s,A==3||A==0&&0<d.X||!(v==1&&IA(c,d)||v==2&&bf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Q_(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ci(c,d){if(c.j.info("Error code "+d),d==2){var f=_(c.fb,c),v=c.Xa;let A=!v;v=new Ei(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||au(v,"https"),uu(v),A?pA(v.toString(),f):mA(v.toString(),f)}else kt(2);c.G=0,c.l&&c.l.sa(d),Y_(c),q_(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Y_(c){if(c.G=0,c.ka=[],c.l){let d=S_(c.h);(d.length!=0||c.i.length!=0)&&(O(c.ka,d),O(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function J_(c,d,f){var v=f instanceof Ei?lr(f):new Ei(f);if(v.g!="")d&&(v.g=d+"."+v.g),cu(v,v.s);else{var A=a.location;v=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var P=new Ei(null);v&&au(P,v),d&&(P.g=d),A&&cu(P,A),f&&(P.l=f),v=P}return f=c.D,d=c.ya,f&&d&&qe(v,f,d),qe(v,"VER",c.la),la(c,v),v}function X_(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ye(new sa({eb:f})):new Ye(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Z_(){}n=Z_.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mu(){}mu.prototype.g=function(c,d){return new Kt(c,d)};function Kt(c,d){_t.call(this),this.g=new $_(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!oe(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!oe(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new yo(this)}R(Kt,_t),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){If(this.g)},Kt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=uf(c),c=f);d.i.push(new iA(d.Ya++,c)),d.G==3&&fu(d)},Kt.prototype.N=function(){this.g.l=null,delete this.j,If(this.g),delete this.g,Kt.aa.N.call(this)};function ew(c){df.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}R(ew,df);function tw(){hf.call(this),this.status=1}R(tw,hf);function yo(c){this.g=c}R(yo,Z_),yo.prototype.ua=function(){Ot(this.g,"a")},yo.prototype.ta=function(c){Ot(this.g,new ew(c))},yo.prototype.sa=function(c){Ot(this.g,new tw)},yo.prototype.ra=function(){Ot(this.g,"b")},mu.prototype.createWebChannel=mu.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,Vy=Rr.createWebChannelTransport=function(){return new mu},Ly=Rr.getStatEventTarget=function(){return ru()},Fy=Rr.Event=Ii,$d=Rr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,Ic=Rr.ErrorCode=iu,y_.COMPLETE="complete",ky=Rr.EventType=y_,h_.EventType=Xs,Xs.OPEN="a",Xs.CLOSE="b",Xs.ERROR="c",Xs.MESSAGE="d",_t.prototype.listen=_t.prototype.K,ys=Rr.WebChannel=h_,oj=Rr.FetchXmlHttpFactory=sa,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Oy=Rr.XhrIo=Ye}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});var qD="@firebase/firestore";var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var Vs="10.14.0";var to=new ci("@firebase/firestore");function bc(){return to.logLevel}function K(n,...e){if(to.logLevel<=Ce.DEBUG){let t=e.map(E0);to.debug(`Firestore (${Vs}): ${n}`,...t)}}function Pr(n,...e){if(to.logLevel<=Ce.ERROR){let t=e.map(E0);to.error(`Firestore (${Vs}): ${n}`,...t)}}function Cs(n,...e){if(to.logLevel<=Ce.WARN){let t=e.map(E0);to.warn(`Firestore (${Vs}): ${n}`,...t)}}function E0(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ie(n="Unexpected state"){let e=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: `+n;throw Pr(e),new Error(e)}function Fe(n,e){n||ie()}function ce(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends _n{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var kn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Wd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},qy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ht.UNAUTHENTICATED))}shutdown(){}},Hy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},zy=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new Wd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new ht(e)}},Gy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Wy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Gy(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ky=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Qy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Fe(this.o===void 0);let r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string"),this.R=t.token,new Ky(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function sj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Kd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=sj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Ae(n,e){return n<e?-1:n>e?1:0}function Ds(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var yt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new z(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new yt(0,0))}static max(){return new n(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Qd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ie(),r===void 0?r=e.length-t:r>e.length-t&&ie(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Qe=class n extends Qd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},aj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,an=class n extends Qd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return aj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new z(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ee=class n{constructor(e){this.path=e}static fromPath(e){return new n(Qe.fromString(e))}static fromName(e){return new n(Qe.fromString(e).popFirst(5))}static empty(){return new n(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Qe(e.slice()))}};var Yy=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Yy.UNKNOWN_ID=-1;function cj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new no(i,ee.empty(),e)}function uj(n){return new no(n.readTime,n.key,-1)}var no=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(fe.min(),ee.empty(),-1)}static max(){return new n(fe.max(),ee.empty(),-1)}};function lj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ae(n.largestBatchId,e.largestBatchId))}var dj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function jc(n){return C(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==dj)throw n;K("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function hj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Uc(n){return n.name==="IndexedDbTransactionError"}var ET=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Sh(n){return n==null}function xc(n){return n===0&&1/n==-1/0}function fj(n){return typeof n=="number"&&Number.isInteger(n)&&!xc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var pj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],aW=[...pj,"documentOverlays"],mj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gj=mj,yj=[...gj,"indexConfiguration","indexState","indexEntries"];var cW=[...yj,"globals"];function HD(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CT(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Xe=class n{constructor(e,t){this.comparator=e,this.root=t||tr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Is(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Is(this.root,e,this.comparator,!1)}getReverseIterator(){return new Is(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Is(this.root,e,this.comparator,!0)}},Is=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},tr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();let e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}};tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,t,r,i,o){return this}insert(e,t,r){return new tr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Pt=class n{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yd(this.data.getIterator())}getIteratorFrom(e){return new Yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Yd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var In=class n{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new n([])}unionWith(e){let t=new Pt(an.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ds(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Jd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Nt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Jd("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Nt.EMPTY_BYTE_STRING=new Nt("");var vj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(n){if(Fe(!!n),typeof n=="string"){let e=0,t=vj.exec(n);if(Fe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(n.seconds),nanos:We(n.nanos)}}function We(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mi(n){return typeof n=="string"?Nt.fromBase64String(n):Nt.fromUint8Array(n)}function C0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function D0(n){let e=n.mapValue.fields.__previous_value__;return C0(e)?D0(e):e}function Ac(n){let e=Nr(n.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}var Xy=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Xd=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var qd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ro(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?C0(n)?4:TT(n)?9007199254740991:DT(n)?10:11:ie()}function ir(n,e){if(n===e)return!0;let t=ro(n);if(t!==ro(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ac(n).isEqual(Ac(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Nr(i.timestampValue),a=Nr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return mi(i.bytesValue).isEqual(mi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return We(i.geoPointValue.latitude)===We(o.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return We(i.integerValue)===We(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=We(i.doubleValue),a=We(o.doubleValue);return s===a?xc(s)===xc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ds(n.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(HD(s)!==HD(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!ir(s[u],a[u])))return!1;return!0}(n,e);default:return ie()}}function Mc(n,e){return(n.values||[]).find(t=>ir(t,e))!==void 0}function Ts(n,e){if(n===e)return 0;let t=ro(n),r=ro(e);if(t!==r)return Ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ae(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=We(o.integerValue||o.doubleValue),u=We(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return zD(n.timestampValue,e.timestampValue);case 4:return zD(Ac(n),Ac(e));case 5:return Ae(n.stringValue,e.stringValue);case 6:return function(o,s){let a=mi(o),u=mi(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ae(a[l],u[l]);if(h!==0)return h}return Ae(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ae(We(o.latitude),We(s.latitude));return a!==0?a:Ae(We(o.longitude),We(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return GD(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let g=o.fields||{},_=s.fields||{},I=(a=g.value)===null||a===void 0?void 0:a.arrayValue,R=(u=_.value)===null||u===void 0?void 0:u.arrayValue,N=Ae(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((h=R?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:GD(I,R)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===qd.mapValue&&s===qd.mapValue)return 0;if(o===qd.mapValue)return 1;if(s===qd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let g=0;g<u.length&&g<h.length;++g){let _=Ae(u[g],h[g]);if(_!==0)return _;let I=Ts(a[u[g]],l[h[g]]);if(I!==0)return I}return Ae(u.length,h.length)}(n.mapValue,e.mapValue);default:throw ie()}}function zD(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ae(n,e);let t=Nr(n),r=Nr(e),i=Ae(t.seconds,r.seconds);return i!==0?i:Ae(t.nanos,r.nanos)}function GD(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ts(t[i],r[i]);if(o)return o}return Ae(t.length,r.length)}function Ss(n){return Zy(n)}function Zy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Nr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return mi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Zy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Zy(t.fields[s])}`;return i+"}"}(n.mapValue):ie()}function WD(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ev(n){return!!n&&"integerValue"in n}function T0(n){return!!n&&"arrayValue"in n}function KD(n){return!!n&&"nullValue"in n}function QD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zd(n){return!!n&&"mapValue"in n}function DT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Cc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return lo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Cc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var sn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(t)}setAll(e){let t=an.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Cc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){lo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Cc(this.value))}};function ST(n){let e=[];return lo(n.fields,(t,r)=>{let i=new an([t]);if(zd(r)){let o=ST(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new In(e)}var Fn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,fe.min(),fe.min(),fe.min(),sn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,fe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,fe.min(),fe.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,fe.min(),fe.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var xs=class{constructor(e,t){this.position=e,this.inclusive=t}};function YD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),t.key):r=Ts(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JD(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ir(n.position[t],e.position[t]))return!1;return!0}var As=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function _j(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Zd=class{},ct=class n extends Zd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new nv(e,t,r):t==="array-contains"?new ov(e,r):t==="in"?new sv(e,r):t==="not-in"?new av(e,r):t==="array-contains-any"?new cv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new rv(e,r):new iv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ts(t,this.value)):t!==null&&ro(this.value)===ro(t)&&this.matchesComparison(Ts(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ln=class n extends Zd{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return xT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function xT(n){return n.op==="and"}function AT(n){return wj(n)&&xT(n)}function wj(n){for(let e of n.filters)if(e instanceof Ln)return!1;return!0}function tv(n){if(n instanceof ct)return n.field.canonicalString()+n.op.toString()+Ss(n.value);if(AT(n))return n.filters.map(e=>tv(e)).join(",");{let e=n.filters.map(t=>tv(t)).join(",");return`${n.op}(${e})`}}function MT(n,e){return n instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&ir(r.value,i.value)}(n,e):n instanceof Ln?function(r,i){return i instanceof Ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&MT(s,i.filters[a]),!0):!1}(n,e):void ie()}function RT(n){return n instanceof ct?function(t){return`${t.field.canonicalString()} ${t.op} ${Ss(t.value)}`}(n):n instanceof Ln?function(t){return t.op.toString()+" {"+t.getFilters().map(RT).join(" ,")+"}"}(n):"Filter"}var nv=class extends ct{constructor(e,t,r){super(e,t,r),this.key=ee.fromName(r.referenceValue)}matches(e){let t=ee.comparator(e.key,this.key);return this.matchesComparison(t)}},rv=class extends ct{constructor(e,t){super(e,"in",t),this.keys=PT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},iv=class extends ct{constructor(e,t){super(e,"not-in",t),this.keys=PT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function PT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ee.fromName(r.referenceValue))}var ov=class extends ct{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return T0(t)&&Mc(t.arrayValue,this.value)}},sv=class extends ct{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Mc(this.value.arrayValue,t)}},av=class extends ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Mc(this.value.arrayValue,t)}},cv=class extends ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!T0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Mc(this.value.arrayValue,r))}};var uv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function XD(n,e=null,t=[],r=[],i=null,o=null,s=null){return new uv(n,e,t,r,i,o,s)}function S0(n){let e=ce(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ss(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ss(r)).join(",")),e.ue=t}return e.ue}function x0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_j(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!MT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JD(n.startAt,e.startAt)&&JD(n.endAt,e.endAt)}function lv(n){return ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var io=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Ij(n,e,t,r,i,o,s,a){return new io(n,e,t,r,i,o,s,a)}function A0(n){return new io(n)}function ZD(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function NT(n){return n.collectionGroup!==null}function Dc(n){let e=ce(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Pt(an.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new As(o,r))}),t.has(an.keyField().canonicalString())||e.ce.push(new As(an.keyField(),r))}return e.ce}function nr(n){let e=ce(n);return e.le||(e.le=bj(e,Dc(n))),e.le}function bj(n,e){if(n.limitType==="F")return XD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new As(i.field,o)});let t=n.endAt?new xs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xs(n.startAt.position,n.startAt.inclusive):null;return XD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function dv(n,e){let t=n.filters.concat([e]);return new io(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function hv(n,e,t){return new io(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xh(n,e){return x0(nr(n),nr(e))&&n.limitType===e.limitType}function OT(n){return`${S0(nr(n))}|lt:${n.limitType}`}function vs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>RT(i)).join(", ")}]`),Sh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ss(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ss(i)).join(",")),`Target(${r})`}(nr(n))}; limitType=${n.limitType})`}function Ah(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Dc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=YD(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Dc(r),i)||r.endAt&&!function(s,a,u){let l=YD(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Dc(r),i))}(n,e)}function Ej(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kT(n){return(e,t)=>{let r=!1;for(let i of Dc(n)){let o=Cj(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Cj(n,e,t){let r=n.field.isKeyField()?ee.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ts(u,l):ie()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}var gi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}};var Dj=new Xe(ee.comparator);function Or(){return Dj}var FT=new Xe(ee.comparator);function Ec(...n){let e=FT;for(let t of n)e=e.insert(t.key,t);return e}function LT(n){let e=FT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xi(){return Tc()}function VT(){return Tc()}function Tc(){return new gi(n=>n.toString(),(n,e)=>n.isEqual(e))}var Tj=new Xe(ee.comparator),Sj=new Pt(ee.comparator);function De(...n){let e=Sj;for(let t of n)e=e.add(t);return e}var xj=new Pt(Ae);function Aj(){return xj}function M0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function jT(n){return{integerValue:""+n}}function Mj(n,e){return fj(e)?jT(e):M0(n,e)}var Ms=class{constructor(){this._=void 0}};function Rj(n,e,t){return n instanceof oo?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&C0(o)&&(o=D0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof so?BT(n,e):n instanceof ao?$T(n,e):function(i,o){let s=UT(i,o),a=eT(s)+eT(i.Pe);return ev(s)&&ev(i.Pe)?jT(a):M0(i.serializer,a)}(n,e)}function Pj(n,e,t){return n instanceof so?BT(n,e):n instanceof ao?$T(n,e):t}function UT(n,e){return n instanceof Rs?function(r){return ev(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var oo=class extends Ms{},so=class extends Ms{constructor(e){super(),this.elements=e}};function BT(n,e){let t=qT(e);for(let r of n.elements)t.some(i=>ir(i,r))||t.push(r);return{arrayValue:{values:t}}}var ao=class extends Ms{constructor(e){super(),this.elements=e}};function $T(n,e){let t=qT(e);for(let r of n.elements)t=t.filter(i=>!ir(i,r));return{arrayValue:{values:t}}}var Rs=class extends Ms{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function eT(n){return We(n.integerValue||n.doubleValue)}function qT(n){return T0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var fv=class{constructor(e,t){this.field=e,this.transform=t}};function Nj(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof so&&i instanceof so||r instanceof ao&&i instanceof ao?Ds(r.elements,i.elements,ir):r instanceof Rs&&i instanceof Rs?ir(r.Pe,i.Pe):r instanceof oo&&i instanceof oo}(n.transform,e.transform)}var pv=class{constructor(e,t){this.version=e,this.transformResults=t}},fi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ps=class{};function HT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new eh(n.key,fi.none()):new co(n.key,n.data,fi.none());{let t=n.data,r=sn.empty(),i=new Pt(an.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new or(n.key,r,new In(i.toArray()),fi.none())}}function Oj(n,e,t){n instanceof co?function(i,o,s){let a=i.value.clone(),u=nT(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof or?function(i,o,s){if(!Gd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=nT(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(zT(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Sc(n,e,t,r){return n instanceof co?function(o,s,a,u){if(!Gd(o.precondition,s))return a;let l=o.value.clone(),h=rT(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof or?function(o,s,a,u){if(!Gd(o.precondition,s))return a;let l=rT(o.fieldTransforms,u,s),h=s.data;return h.setAll(zT(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,s,a){return Gd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function kj(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=UT(r.transform,i||null);o!=null&&(t===null&&(t=sn.empty()),t.set(r.field,o))}return t||null}function tT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ds(r,i,(o,s)=>Nj(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var co=class extends Ps{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},or=class extends Ps{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function zT(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function nT(n,e,t){let r=new Map;Fe(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Pj(s,a,t[i]))}return r}function rT(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Rj(o,s,e))}return r}var eh=class extends Ps{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},mv=class extends Ps{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var gv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Oj(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Sc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=VT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=HT(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,(t,r)=>tT(t,r))&&Ds(this.baseMutations,e.baseMutations,(t,r)=>tT(t,r))}},yv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Fe(e.mutations.length===r.length);let i=function(){return Tj}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var vv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var _v=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var st,Te;function Fj(n){switch(n){default:return ie();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function GT(n){if(n===void 0)return Pr("GRPC error has no .code"),k.UNKNOWN;switch(n){case st.OK:return k.OK;case st.CANCELLED:return k.CANCELLED;case st.UNKNOWN:return k.UNKNOWN;case st.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case st.INTERNAL:return k.INTERNAL;case st.UNAVAILABLE:return k.UNAVAILABLE;case st.UNAUTHENTICATED:return k.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case st.NOT_FOUND:return k.NOT_FOUND;case st.ALREADY_EXISTS:return k.ALREADY_EXISTS;case st.PERMISSION_DENIED:return k.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case st.ABORTED:return k.ABORTED;case st.OUT_OF_RANGE:return k.OUT_OF_RANGE;case st.UNIMPLEMENTED:return k.UNIMPLEMENTED;case st.DATA_LOSS:return k.DATA_LOSS;default:return ie()}}(Te=st||(st={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var iT=null;function Lj(){return new TextEncoder}var Vj=new hi([4294967295,4294967295],0);function oT(n){let e=Lj().encode(n),t=new Ny;return t.update(e),new Uint8Array(t.digest())}function sT(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new hi([t,r],0),new hi([i,o],0)]}var wv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Zi(`Invalid padding: ${t}`);if(r<0)throw new Zi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Zi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=hi.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(hi.fromNumber(r)));return i.compare(Vj)===1&&(i=new hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=oT(e),[r,i]=sT(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=oT(e),[r,i]=sT(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Zi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var th=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(fe.min(),i,new Xe(Ae),Or(),De())}},Rc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,De(),De(),De())}};var bs=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},nh=class{constructor(e,t){this.targetId=e,this.me=t}},rh=class{constructor(e,t,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},ih=class{constructor(){this.fe=0,this.ge=cT(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),r=De();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new Rc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=cT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Iv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Or(),this.qe=aT(),this.Qe=new Xe(Ae)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(lv(o))if(r===0){let s=new ee(o.path);this.Ue(t,s,Fn.newNoDocument(s,fe.min()))}else Fe(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}iT?.et(function(h,g,_,I,R){var N,O,H,oe,W,_e;let ze={localCacheCount:h,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},ue=g.unchangedNames;return ue&&(ze.bloomFilter={applied:R===0,hashCount:(N=ue?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(oe=(H=(O=ue?.bits)===null||O===void 0?void 0:O.bitmap)===null||H===void 0?void 0:H.length)!==null&&oe!==void 0?oe:0,padding:(_e=(W=ue?.bits)===null||W===void 0?void 0:W.padding)!==null&&_e!==void 0?_e:0,mightContain:S=>{var w;return(w=I?.mightContain(S))!==null&&w!==void 0&&w}}),ze}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=mi(r).toUint8Array()}catch(u){if(u instanceof Jd)return Cs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new wv(s,i,o)}catch(u){return Cs(u instanceof Zi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&lv(a.target)){let u=new ee(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Fn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=De();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new th(e,t,this.Qe,this.ke,r);return this.ke=Or(),this.qe=aT(),this.Qe=new Xe(Ae),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ih,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Pt(Ae),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||K("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ih),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function aT(){return new Xe(ee.comparator)}function cT(){return new Xe(ee.comparator)}var jj={asc:"ASCENDING",desc:"DESCENDING"},Uj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bj={and:"AND",or:"OR"},bv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Ev(n,e){return n.useProto3Json||Sh(e)?e:{value:e}}function oh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $j(n,e){return oh(n,e.toTimestamp())}function rr(n){return Fe(!!n),fe.fromTimestamp(function(t){let r=Nr(t);return new yt(r.seconds,r.nanos)}(n))}function R0(n,e){return Cv(n,e).canonicalString()}function Cv(n,e){let t=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function KT(n){let e=Qe.fromString(n);return Fe(ZT(e)),e}function Dv(n,e){return R0(n.databaseId,e.path)}function jy(n,e){let t=KT(e);if(t.get(1)!==n.databaseId.projectId)throw new z(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ee(YT(t))}function QT(n,e){return R0(n.databaseId,e)}function qj(n){let e=KT(n);return e.length===4?Qe.emptyPath():YT(e)}function Tv(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YT(n){return Fe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function uT(n,e,t){return{name:Dv(n,e),fields:t.value.mapValue.fields}}function Hj(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Fe(h===void 0||typeof h=="string"),Nt.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Nt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:GT(l.code);return new z(h,l.message||"")}(s);t=new rh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=jy(n,r.document.name),o=rr(r.document.updateTime),s=r.document.createTime?rr(r.document.createTime):fe.min(),a=new sn({mapValue:{fields:r.document.fields}}),u=Fn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new bs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=jy(n,r.document),o=r.readTime?rr(r.readTime):fe.min(),s=Fn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new bs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=jy(n,r.document),o=r.removedTargetIds||[];t=new bs([],o,i,null)}else{if(!("filter"in e))return ie();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new _v(i,o),a=r.targetId;t=new nh(a,s)}}return t}function zj(n,e){let t;if(e instanceof co)t={update:uT(n,e.key,e.value)};else if(e instanceof eh)t={delete:Dv(n,e.key)};else if(e instanceof or)t={update:uT(n,e.key,e.data),updateMask:eU(e.fieldMask)};else{if(!(e instanceof mv))return ie();t={verify:Dv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof oo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof so)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ao)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rs)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ie()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:$j(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie()}(n,e.precondition)),t}function Gj(n,e){return n&&n.length>0?(Fe(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?rr(i.updateTime):rr(o);return s.isEqual(fe.min())&&(s=rr(o)),new pv(s,i.transformResults||[])}(t,e))):[]}function Wj(n,e){return{documents:[QT(n,e.path)]}}function Kj(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=QT(n,i);let o=function(l){if(l.length!==0)return XT(Ln.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(_){return{field:_s(_.field),direction:Jj(_.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Ev(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function Qj(n){let e=qj(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Fe(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(g){let _=JT(g);return _ instanceof Ln&&AT(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(_=>function(R){return new As(ws(R.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,Sh(_)?null:_}(t.limit));let u=null;t.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new xs(I,_)}(t.startAt));let l=null;return t.endAt&&(l=function(g){let _=!g.before,I=g.values||[];return new xs(I,_)}(t.endAt)),Ij(e,i,s,o,a,"F",u,l)}function Yj(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ws(t.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ws(t.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ws(t.unaryFilter.field);return ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ws(t.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(n):n.fieldFilter!==void 0?function(t){return ct.create(ws(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ln.create(t.compositeFilter.filters.map(r=>JT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(t.compositeFilter.op))}(n):ie()}function Jj(n){return jj[n]}function Xj(n){return Uj[n]}function Zj(n){return Bj[n]}function _s(n){return{fieldPath:n.canonicalString()}}function ws(n){return an.fromServerFormat(n.fieldPath)}function XT(n){return n instanceof ct?function(t){if(t.op==="=="){if(QD(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NAN"}};if(KD(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QD(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NOT_NAN"}};if(KD(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(t.field),op:Xj(t.op),value:t.value}}}(n):n instanceof Ln?function(t){let r=t.getFilters().map(i=>XT(i));return r.length===1?r[0]:{compositeFilter:{op:Zj(t.op),filters:r}}}(n):ie()}function eU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Pc=class n{constructor(e,t,r,i,o=fe.min(),s=fe.min(),a=Nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Sv=class{constructor(e){this.ct=e}};function tU(n){let e=Qj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hv(e,e.limit,"L"):e}var sh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(We(e.integerValue));else if("doubleValue"in e){let r=We(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),xc(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Nr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(mi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?TT(e)?this.dt(t,Number.MAX_SAFE_INTEGER):DT(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ie()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(We(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ee.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};sh.vt=new sh;var xv=class{constructor(){this.un=new Av}addToCollectionParentIndex(e,t){return this.un.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(no.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(no.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},Av=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pt(Qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(Qe.comparator)).toArray()}};var lW=new Uint8Array(0);var er=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(41943040,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);var Nc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Mv=class{constructor(){this.changes=new gi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Rv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Pv=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Sc(r.mutation,i,In.empty(),yt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,t,r=De()){let i=Xi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ec();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Xi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,De()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Or(),s=Tc(),a=function(){return Tc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof or)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Sc(h.mutation,l,h.mutation.getFieldMask(),yt.now())):s.set(l.key,In.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var g;return a.set(l,new Rv(h,(g=s.get(l))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Tc(),i=new Xe((s,a)=>s-a),o=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||In.empty();h=a.applyToLocalView(l,h),r.set(u,h);let g=(i.get(a.batchId)||De()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,g=VT();h.forEach(_=>{if(!o.has(_)){let I=HT(t.get(_),r.get(_));I!==null&&g.set(_,I),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,g))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):NT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(Xi()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(_=>{u=u.insert(h,_)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,De())).next(h=>({batchId:a,changes:LT(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ee(t)).next(r=>{let i=Ec();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ec();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(g,_){return new io(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Fn.newInvalidDocument(h)))});let a=Ec();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Sc(h.mutation,l,In.empty(),yt.now()),Ah(t,l)&&(a=a.insert(u,l))}),a})}};var Nv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return L.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:rr(i.createTime)}}(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:tU(i.bundledQuery),readTime:rr(i.readTime)}}(t)),L.resolve()}};var Ov=class{constructor(){this.overlays=new Xe(ee.comparator),this.Ir=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Xi();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=Xi(),o=t.length+1,s=new ee(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Xe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Xi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vv(t,r));let o=this.Ir.get(t);o===void 0&&(o=De(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var kv=class{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var Oc=class{constructor(){this.Tr=new Pt(at.Er),this.dr=new Pt(at.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new at(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new at(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ee(new Qe([])),r=new at(t,e),i=new at(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ee(new Qe([])),r=new at(t,e),i=new at(t,e+1),o=De();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new at(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},at=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ee.comparator(e.key,t.key)||Ae(e.wr,t.wr)}static Ar(e,t){return Ae(e.wr,t.wr)||ee.comparator(e.key,t.key)}};var Fv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Pt(at.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new gv(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new at(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new at(t,0),i=new at(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Ae);return t.forEach(i=>{let o=new at(i,0),s=new at(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ee.isDocumentKey(o)||(o=o.child(""));let s=new at(new ee(o),0),a=new Pt(Ae);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Fe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(t.mutations,i=>{let o=new at(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new at(t,0),i=this.br.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Lv=class{constructor(e){this.Mr=e,this.docs=function(){return new Xe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=Or();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Fn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Or(),s=t.path,a=new ee(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||lj(uj(h),r)<=0||(i.has(h.key)||Ah(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ie()}Or(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Vv(this)}getSize(e){return L.resolve(this.size)}},Vv=class extends Mv{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var jv=class{constructor(e){this.persistence=e,this.Nr=new gi(t=>S0(t),x0),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Oc,this.targetCount=0,this.kr=Nc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),L.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Nc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Kn(t),L.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.Br.containsKey(t))}};var Uv=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new ET(0),this.Kr=!1,this.Kr=!0,this.$r=new kv,this.referenceDelegate=e(this),this.Ur=new jv(this),this.indexManager=new xv,this.remoteDocumentCache=function(i){return new Lv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Sv(t),this.Gr=new Nv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ov,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Fv(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){K("MemoryPersistence","Starting transaction:",e);let i=new Bv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Bv=class extends Jy{constructor(e){super(),this.currentSequenceNumber=e}},$v=class n{constructor(e){this.persistence=e,this.Jr=new Oc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),L.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=ee.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return L.or([()=>L.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var qv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=De(),i=De();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Hv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var zv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return iD()?8:hj(on())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Hv;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(bc()<=Ce.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",vs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(bc()<=Ce.DEBUG&&K("QueryEngine","Query:",vs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(bc()<=Ce.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",vs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):L.resolve())}Yi(e,t){if(ZD(t))return L.resolve(null);let r=nr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=hv(t,null,"F"),r=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=De(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,hv(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return ZD(t)||i.isEqual(fe.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?L.resolve(null):(bc()<=Ce.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vs(t)),this.rs(e,s,t,cj(i,-1)).next(a=>a))})}ts(e,t){let r=new Pt(kT(e));return t.forEach((i,o)=>{Ah(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return bc()<=Ce.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",vs(t)),this.Ji.getDocumentsMatchingQuery(e,t,no.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Gv=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Xe(Ae),this._s=new gi(o=>S0(o),x0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function nU(n,e,t,r){return new Gv(n,e,t,r)}function eS(n,e){return C(this,null,function*(){let t=ce(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=De();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function rU(n,e){let t=ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let g=l.batch,_=g.keys(),I=L.resolve();return _.forEach(R=>{I=I.next(()=>h.getEntry(u,R)).next(N=>{let O=l.docVersions.get(R);Fe(O!==null),N.version.compareTo(O)<0&&(g.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=De();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function tS(n){let e=ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function iU(n,e){let t=ce(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,g)=>{let _=i.get(g);if(!_)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,g).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,g)));let I=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(Nt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(h.resumeToken,r)),i=i.insert(g,I),function(N,O,H){return N.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(_,I,h)&&a.push(t.Ur.updateTargetData(o,I))});let u=Or(),l=De();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(oU(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(fe.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(g=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function oU(n,e,t){let r=De(),i=De();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Or();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(fe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function sU(n,e){let t=ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aU(n,e){let t=ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Pc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Wv(n,e,t){return C(this,null,function*(){let r=ce(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Uc(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function lT(n,e,t){let r=ce(n),i=fe.min(),o=De();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let g=ce(u),_=g._s.get(h);return _!==void 0?L.resolve(g.os.get(_)):g.Ur.getTargetData(l,h)}(r,s,nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:fe.min(),t?o:De())).next(a=>(cU(r,Ej(e),a),{documents:a,Ts:o})))}function cU(n,e,t){let r=n.us.get(e)||fe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var ah=class{constructor(){this.activeTargetIds=Aj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Kv=class{constructor(){this.so=new ah,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ah,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Qv=class{_o(e){}shutdown(){}};var ch=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Hd=null;function Uy(){return Hd===null?Hd=function(){return 268435456+Math.round(2147483648*Math.random())}():Hd++,"0x"+Hd.toString(16)}var uU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Yv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Rt="WebChannelConnection",Jv=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=Uy(),u=this.xo(t,r.toUriEncodedString());K("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(K("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Cs("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=uU[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=Uy();return new Promise((s,a)=>{let u=new Oy;u.setWithCredentials(!0),u.listenOnce(ky.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ic.NO_ERROR:let h=u.getResponseJson();K(Rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Ic.TIMEOUT:K(Rt,`RPC '${e}' ${o} timed out`),a(new z(k.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:let g=u.getStatus();if(K(Rt,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let R=function(O){let H=O.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(H)>=0?H:k.UNKNOWN}(I.status);a(new z(R,I.message))}else a(new z(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new z(k.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{K(Rt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);K(Rt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=Uy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Vy(),a=Ly(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");K(Rt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let g=s.createWebChannel(h,u),_=!1,I=!1,R=new Yv({Io:O=>{I?K(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(_||(K(Rt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),K(Rt,`RPC '${e}' stream ${i} sending:`,O),g.send(O))},To:()=>g.close()}),N=(O,H,oe)=>{O.listen(H,W=>{try{oe(W)}catch(_e){setTimeout(()=>{throw _e},0)}})};return N(g,ys.EventType.OPEN,()=>{I||(K(Rt,`RPC '${e}' stream ${i} transport opened.`),R.yo())}),N(g,ys.EventType.CLOSE,()=>{I||(I=!0,K(Rt,`RPC '${e}' stream ${i} transport closed`),R.So())}),N(g,ys.EventType.ERROR,O=>{I||(I=!0,Cs(Rt,`RPC '${e}' stream ${i} transport errored:`,O),R.So(new z(k.UNAVAILABLE,"The operation could not be completed")))}),N(g,ys.EventType.MESSAGE,O=>{var H;if(!I){let oe=O.data[0];Fe(!!oe);let W=oe,_e=W.error||((H=W[0])===null||H===void 0?void 0:H.error);if(_e){K(Rt,`RPC '${e}' stream ${i} received error:`,_e);let ze=_e.status,ue=function(b){let T=st[b];if(T!==void 0)return GT(T)}(ze),S=_e.message;ue===void 0&&(ue=k.INTERNAL,S="Unknown error status: "+ze+" with message "+_e.message),I=!0,R.So(new z(ue,S)),g.close()}else K(Rt,`RPC '${e}' stream ${i} received:`,oe),R.bo(oe)}}),N(a,Fy.STAT_EVENT,O=>{O.stat===$d.PROXY?K(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===$d.NOPROXY&&K(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.wo()},0),R}};function By(){return typeof document<"u"?document:null}function Mh(n){return new bv(n,!0)}var uh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var lh=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new uh(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new z(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Xv=class extends lh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=Hj(this.serializer,e),r=function(o){if(!("targetChange"in o))return fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?rr(s.readTime):fe.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Tv(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=lv(u)?{documents:Wj(o,u)}:{query:Kj(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=WT(o,s.resumeToken);let l=Ev(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=oh(o,s.snapshotVersion.toTimestamp());let l=Ev(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Yj(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Tv(this.serializer),t.removeTarget=e,this.a_(t)}},Zv=class extends lh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=Gj(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Tv(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>zj(this.serializer,r))};this.a_(t)}};var e0=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(k.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Cv(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(k.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Cv(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(k.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},t0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pr(t),this.D_=!1):K("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var n0=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>C(this,null,function*(){ho(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let l=ce(u);l.L_.add(4),yield Bc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Rh(l)})}(this))}))}),this.q_=new t0(r,i)}};function Rh(n){return C(this,null,function*(){if(ho(n))for(let e of n.B_)yield e(!0)})}function Bc(n){return C(this,null,function*(){for(let e of n.B_)yield e(!1)})}function nS(n,e){let t=ce(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),k0(t)?O0(t):js(t).r_()&&N0(t,e))}function P0(n,e){let t=ce(n),r=js(t);t.N_.delete(e),r.r_()&&rS(t,e),t.N_.size===0&&(r.r_()?r.o_():ho(t)&&t.q_.set("Unknown"))}function N0(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}js(n).A_(e)}function rS(n,e){n.Q_.xe(e),js(n).R_(e)}function O0(n){n.Q_=new Iv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),js(n).start(),n.q_.v_()}function k0(n){return ho(n)&&!js(n).n_()&&n.N_.size>0}function ho(n){return ce(n).L_.size===0}function iS(n){n.Q_=void 0}function lU(n){return C(this,null,function*(){n.q_.set("Online")})}function dU(n){return C(this,null,function*(){n.N_.forEach((e,t)=>{N0(n,e)})})}function hU(n,e){return C(this,null,function*(){iS(n),k0(n)?(n.q_.M_(e),O0(n)):n.q_.set("Unknown")})}function fU(n,e,t){return C(this,null,function*(){if(n.q_.set("Online"),e instanceof rh&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dh(n,r)}else if(e instanceof bs?n.Q_.Ke(e):e instanceof nh?n.Q_.He(e):n.Q_.We(e),!t.isEqual(fe.min()))try{let r=yield tS(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Nt.EMPTY_BYTE_STRING,h.snapshotVersion)),rS(o,u);let g=new Pc(h.target,u,l,h.sequenceNumber);N0(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield dh(n,r)}})}function dh(n,e,t){return C(this,null,function*(){if(!Uc(e))throw e;n.L_.add(1),yield Bc(n),n.q_.set("Offline"),t||(t=()=>tS(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Rh(n)}))})}function oS(n,e){return e().catch(t=>dh(n,t,e))}function Ph(n){return C(this,null,function*(){let e=ce(n),t=yi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;pU(e);)try{let i=yield sU(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,mU(e,i)}catch(i){yield dh(e,i)}sS(e)&&aS(e)})}function pU(n){return ho(n)&&n.O_.length<10}function mU(n,e){n.O_.push(e);let t=yi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function sS(n){return ho(n)&&!yi(n).n_()&&n.O_.length>0}function aS(n){yi(n).start()}function gU(n){return C(this,null,function*(){yi(n).p_()})}function yU(n){return C(this,null,function*(){let e=yi(n);for(let t of n.O_)e.m_(t.mutations)})}function vU(n,e,t){return C(this,null,function*(){let r=n.O_.shift(),i=yv.from(r,e,t);yield oS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ph(n)})}function _U(n,e){return C(this,null,function*(){e&&yi(n).V_&&(yield function(r,i){return C(this,null,function*(){if(function(s){return Fj(s)&&s!==k.ABORTED}(i.code)){let o=r.O_.shift();yi(r).s_(),yield oS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ph(r)}})}(n,e)),sS(n)&&aS(n)})}function dT(n,e){return C(this,null,function*(){let t=ce(n);t.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=ho(t);t.L_.add(3),yield Bc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Rh(t)})}function wU(n,e){return C(this,null,function*(){let t=ce(n);e?(t.L_.delete(2),yield Rh(t)):e||(t.L_.add(2),yield Bc(t),t.q_.set("Unknown"))})}function js(n){return n.K_||(n.K_=function(t,r,i){let o=ce(t);return o.w_(),new Xv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:lU.bind(null,n),Ro:dU.bind(null,n),mo:hU.bind(null,n),d_:fU.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.K_.s_(),k0(n)?O0(n):n.q_.set("Unknown")):(yield n.K_.stop(),iS(n))}))),n.K_}function yi(n){return n.U_||(n.U_=function(t,r,i){let o=ce(t);return o.w_(),new Zv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:gU.bind(null,n),mo:_U.bind(null,n),f_:yU.bind(null,n),g_:vU.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.U_.s_(),yield Ph(n)):(yield n.U_.stop(),n.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var r0=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function F0(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),Uc(n))return new z(k.UNAVAILABLE,`${e}: ${n}`);throw n}var hh=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ee.comparator(t.key,r.key):(t,r)=>ee.comparator(t.key,r.key),this.keyedMap=Ec(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var fh=class{constructor(){this.W_=new Xe(ee.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ns=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,hh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var i0=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},o0=class{constructor(){this.queries=hT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ce(t),o=i.queries;i.queries=hT(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new z(k.ABORTED,"Firestore shutting down"))}};function hT(){return new gi(n=>OT(n),xh)}function cS(n,e){return C(this,null,function*(){let t=ce(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new i0,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=F0(s,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&L0(t)})}function uS(n,e){return C(this,null,function*(){let t=ce(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function IU(n,e){let t=ce(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&L0(t)}function bU(n,e,t){let r=ce(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function L0(n){n.Y_.forEach(e=>{e.next()})}var s0,fT;(fT=s0||(s0={})).ea="default",fT.Cache="cache";var ph=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==s0.Cache}};var mh=class{constructor(e){this.key=e}},gh=class{constructor(e){this.key=e}},a0=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=kT(e),this.Ra=new hh(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new fh,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{let _=i.get(h),I=Ah(this.query,g)?g:null,R=!!_&&this.mutatedKeys.has(_.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),O=!1;_&&I?_.data.isEqual(I.data)?R!==N&&(r.track({type:3,doc:I}),O=!0):this.ga(_,I)||(r.track({type:2,doc:I}),O=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(a=!0)):!_&&I?(r.track({type:0,doc:I}),O=!0):_&&!I&&(r.track({type:1,doc:_}),O=!0,(u||l)&&(a=!0)),O&&(I?(s=s.add(I),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,g)=>function(I,R){let N=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return N(I)-N(R)}(h.type,g.type)||this.Aa(h.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ns(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=De(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new gh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new mh(r))}),t}ba(e){this.Ta=e.Ts,this.da=De();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ns.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},c0=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},u0=class{constructor(e){this.key=e,this.va=!1}},l0=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new gi(a=>OT(a),xh),this.Ma=new Map,this.xa=new Set,this.Oa=new Xe(ee.comparator),this.Na=new Map,this.La=new Oc,this.Ba={},this.ka=new Map,this.qa=Nc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function EU(n,e,t=!0){return C(this,null,function*(){let r=mS(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield lS(r,e,t,!0),i})}function CU(n,e){return C(this,null,function*(){let t=mS(n);yield lS(t,e,!0,!1)})}function lS(n,e,t,r){return C(this,null,function*(){let i=yield aU(n.localStore,nr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield DU(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&nS(n.remoteStore,i),a})}function DU(n,e,t,r,i){return C(this,null,function*(){n.Ka=(g,_,I)=>function(N,O,H,oe){return C(this,null,function*(){let W=O.view.ma(H);W.ns&&(W=yield lT(N.localStore,O.query,!1).then(({documents:S})=>O.view.ma(S,W)));let _e=oe&&oe.targetChanges.get(O.targetId),ze=oe&&oe.targetMismatches.get(O.targetId)!=null,ue=O.view.applyChanges(W,N.isPrimaryClient,_e,ze);return mT(N,O.targetId,ue.wa),ue.snapshot})}(n,g,_,I);let o=yield lT(n.localStore,e,!0),s=new a0(e,o.Ts),a=s.ma(o.documents),u=Rc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);mT(n,t,l.wa);let h=new c0(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function TU(n,e,t){return C(this,null,function*(){let r=ce(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!xh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Wv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&P0(r.remoteStore,i.targetId),d0(r,i.targetId)}).catch(jc))):(d0(r,i.targetId),yield Wv(r.localStore,i.targetId,!0))})}function SU(n,e){return C(this,null,function*(){let t=ce(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),P0(t.remoteStore,r.targetId))})}function xU(n,e,t){return C(this,null,function*(){let r=kU(n);try{let i=yield function(s,a){let u=ce(s),l=yt.now(),h=a.reduce((I,R)=>I.add(R.key),De()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let R=Or(),N=De();return u.cs.getEntries(I,h).next(O=>{R=O,R.forEach((H,oe)=>{oe.isValidDocument()||(N=N.add(H))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,R)).next(O=>{g=O;let H=[];for(let oe of a){let W=kj(oe,g.get(oe.key).overlayedDocument);W!=null&&H.push(new or(oe.key,W,ST(W.value.mapValue),fi.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,H,a)}).next(O=>{_=O;let H=O.applyToLocalDocumentSet(g,N);return u.documentOverlayCache.saveOverlays(I,O.batchId,H)})}).then(()=>({batchId:_.batchId,changes:LT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Xe(Ae)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield $c(r,i.changes),yield Ph(r.remoteStore)}catch(i){let o=F0(i,"Failed to persist write");t.reject(o)}})}function dS(n,e){return C(this,null,function*(){let t=ce(n);try{let r=yield iU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Fe(s.va):i.removedDocuments.size>0&&(Fe(s.va),s.va=!1))}),yield $c(t,r,e)}catch(r){yield jc(r)}})}function pT(n,e,t){let r=ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ce(s);u.onlineState=a;let l=!1;u.queries.forEach((h,g)=>{for(let _ of g.j_)_.Z_(a)&&(l=!0)}),l&&L0(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function AU(n,e,t){return C(this,null,function*(){let r=ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Xe(ee.comparator);s=s.insert(o,Fn.newNoDocument(o,fe.min()));let a=De().add(o),u=new th(fe.min(),new Map,new Xe(Ae),s,a);yield dS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),V0(r)}else yield Wv(r.localStore,e,!1).then(()=>d0(r,e,t)).catch(jc)})}function MU(n,e){return C(this,null,function*(){let t=ce(n),r=e.batch.batchId;try{let i=yield rU(t.localStore,e);fS(t,r,null),hS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield $c(t,i)}catch(i){yield jc(i)}})}function RU(n,e,t){return C(this,null,function*(){let r=ce(n);try{let i=yield function(s,a){let u=ce(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(g=>(Fe(g!==null),h=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);fS(r,e,t),hS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield $c(r,i)}catch(i){yield jc(i)}})}function hS(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function fS(n,e,t){let r=ce(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function d0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||pS(n,r)})}function pS(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(P0(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),V0(n))}function mT(n,e,t){for(let r of t)r instanceof mh?(n.La.addReference(r.key,e),PU(n,r)):r instanceof gh?(K("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||pS(n,r.key)):ie()}function PU(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(K("SyncEngine","New document in limbo: "+t),n.xa.add(r),V0(n))}function V0(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ee(Qe.fromString(e)),r=n.qa.next();n.Na.set(r,new u0(t)),n.Oa=n.Oa.insert(t,r),nS(n.remoteStore,new Pc(nr(A0(t.path)),r,"TargetPurposeLimboResolution",ET.oe))}}function $c(n,e,t){return C(this,null,function*(){let r=ce(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let g=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=qv.Wi(u.targetId,l);o.push(g)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return C(this,null,function*(){let h=ce(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(l,_=>L.forEach(_.$i,I=>h.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>L.forEach(_.Ui,I=>h.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!Uc(g))throw g;K("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let _=g.targetId;if(!g.fromCache){let I=h.os.get(_),R=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(R);h.os=h.os.insert(_,N)}}})}(r.localStore,o))})}function NU(n,e){return C(this,null,function*(){let t=ce(n);if(!t.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield eS(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new z(k.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $c(t,r.hs)}})}function OU(n,e){let t=ce(n),r=t.Na.get(e);if(r&&r.va)return De().add(r.key);{let i=De(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function mS(n){let e=ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AU.bind(null,e),e.Ca.d_=IU.bind(null,e.eventManager),e.Ca.$a=bU.bind(null,e.eventManager),e}function kU(n){let e=ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RU.bind(null,e),e}var gT=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Mh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return nU(this.persistence,new zv,t.initialUser,this.serializer)}Ga(t){return new Uv($v.Zr,this.serializer)}Wa(t){return new Kv}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var FU=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=NU.bind(null,this.syncEngine),yield wU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new o0}()}createDatastore(t){let r=Mh(t.databaseInfo.databaseId),i=function(s){return new Jv(s)}(t.databaseInfo);return function(s,a,u,l){return new e0(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new n0(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>pT(this.syncEngine,r,0),function(){return ch.D()?new ch:new Qv}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,g){let _=new l0(o,s,a,u,l,h);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield function(o){return C(this,null,function*(){let s=ce(o);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Bc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var yh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var h0=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=Kd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){K("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=F0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function $y(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield eS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function yT(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield LU(n);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>dT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>dT(e.remoteStore,i)),n._onlineComponents=e})}function LU(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $y(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Cs("Error using user provided cache. Falling back to memory cache: "+t),yield $y(n,new gT)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield $y(n,new gT);return n._offlineComponents})}function gS(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield yT(n,n._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield yT(n,new FU))),n._onlineComponents})}function VU(n){return gS(n).then(e=>e.syncEngine)}function yS(n){return C(this,null,function*(){let e=yield gS(n),t=e.eventManager;return t.onListen=EU.bind(null,e.syncEngine),t.onUnlisten=TU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SU.bind(null,e.syncEngine),t})}function jU(n,e,t={}){let r=new kn;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,u,l){let h=new yh({next:_=>{h.Za(),s.enqueueAndForget(()=>uS(o,g));let I=_.docs.has(a);!I&&_.fromCache?l.reject(new z(k.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&u&&u.source==="server"?l.reject(new z(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(_)},error:_=>l.reject(_)}),g=new ph(A0(a.path),h,{includeMetadataChanges:!0,_a:!0});return cS(o,g)}(yield yS(n),n.asyncQueue,e,t,r)})),r.promise}function UU(n,e,t={}){let r=new kn;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,u,l){let h=new yh({next:_=>{h.Za(),s.enqueueAndForget(()=>uS(o,g)),_.fromCache&&u.source==="server"?l.reject(new z(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(_)},error:_=>l.reject(_)}),g=new ph(a,h,{includeMetadataChanges:!0,_a:!0});return cS(o,g)}(yield yS(n),n.asyncQueue,e,t,r)})),r.promise}function vS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var vT=new Map;function _S(n,e,t){if(!t)throw new z(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BU(n,e,t,r){if(e===!0&&r===!0)throw new z(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _T(n){if(!ee.isDocumentKey(n))throw new z(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wT(n){if(ee.isDocumentKey(n))throw new z(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Nh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ie()}function kr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Nh(n);throw new z(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var vh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Os=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qy;switch(r.type){case"firstParty":return new Wy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=vT.get(t);r&&(K("ComponentProvider","Removing Datastore"),vT.delete(t),r.terminate())}(this),Promise.resolve()}};function wS(n,e,t,r={}){var i;let o=(n=kr(n,Os))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ht.MOCK_USER;else{a=ZC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new z(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ht(l)}n._authCredentials=new Hy(new Wd(a,u))}}var ks=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Bt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},pi=class n extends ks{constructor(e,t,r){super(e,t,A0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ee(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function IS(n,e,...t){if(n=Ut(n),_S("collection","path",e),n instanceof Os){let r=Qe.fromString(e,...t);return wT(r),new pi(n,null,r)}{if(!(n instanceof Bt||n instanceof pi))throw new z(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Qe.fromString(e,...t));return wT(r),new pi(n.firestore,null,r)}}function bS(n,e,...t){if(n=Ut(n),arguments.length===1&&(e=Kd.newId()),_S("doc","path",e),n instanceof Os){let r=Qe.fromString(e,...t);return _T(r),new Bt(n,null,new ee(r))}{if(!(n instanceof Bt||n instanceof pi))throw new z(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Qe.fromString(e,...t));return _T(r),new Bt(n.firestore,n instanceof pi?n.converter:null,new ee(r))}}var _h=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new uh(this,"async_queue_retry"),this.Vu=()=>{let r=By();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=By();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=By();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new kn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Uc(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Pr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=r0.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ie()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var uo=class extends Os{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new _h,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new _h(e),this._firestoreClient=void 0,yield e}})}};function ES(n,e){let t=typeof n=="object"?n:dc(),r=typeof n=="string"?n:e||"(default)",i=py(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=JC("firestore");o&&wS(i,...o)}return i}function j0(n){if(n._terminated)throw new z(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$U(n),n._firestoreClient}function $U(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new Xy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vS(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new h0(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var kc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Nt.fromBase64String(e))}catch(t){throw new z(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Fs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ls=class{constructor(e){this._methodName=e}};var Fc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}};var Lc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var qU=/^__.*__$/,f0=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new or(e,this.data,this.fieldMask,t,this.fieldTransforms):new co(e,this.data,t,this.fieldTransforms)}},wh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new or(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function CS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}var p0=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(CS(this.Cu)&&qU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},m0=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mh(e)}Qu(e,t,r,i=!1){return new p0({Cu:e,methodName:t,qu:r,path:an.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function U0(n){let e=n._freezeSettings(),t=Mh(n._databaseId);return new m0(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HU(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);B0("Data must be an object, but it was:",s,r);let a=DS(r,s),u,l;if(o.merge)u=new In(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let g of o.mergeFields){let _=y0(e,g,t);if(!s.contains(_))throw new z(k.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);SS(h,_)||h.push(_)}u=new In(h),l=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=s.fieldTransforms;return new f0(new sn(a),u,l)}var Ih=class n extends Ls{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};var g0=class n extends Ls{_toFieldTransform(e){return new fv(e.path,new oo)}isEqual(e){return e instanceof n}};function zU(n,e,t,r){let i=n.Qu(1,e,t);B0("Data must be an object, but it was:",i,r);let o=[],s=sn.empty();lo(r,(u,l)=>{let h=$0(e,u,t);l=Ut(l);let g=i.Nu(h);if(l instanceof Ih)o.push(h);else{let _=qc(l,g);_!=null&&(o.push(h),s.set(h,_))}});let a=new In(o);return new wh(s,a,i.fieldTransforms)}function GU(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[y0(e,r,t)],u=[i];if(o.length%2!=0)throw new z(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(y0(e,o[_])),u.push(o[_+1]);let l=[],h=sn.empty();for(let _=a.length-1;_>=0;--_)if(!SS(l,a[_])){let I=a[_],R=u[_];R=Ut(R);let N=s.Nu(I);if(R instanceof Ih)l.push(I);else{let O=qc(R,N);O!=null&&(l.push(I),h.set(I,O))}}let g=new In(l);return new wh(h,g,s.fieldTransforms)}function WU(n,e,t,r=!1){return qc(t,n.Qu(r?4:3,e))}function qc(n,e){if(TS(n=Ut(n)))return B0("Unsupported field value:",e,n),DS(n,e);if(n instanceof Ls)return function(r,i){if(!CS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=qc(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Mj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=yt.fromDate(r);return{timestampValue:oh(i.serializer,o)}}if(r instanceof yt){let o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oh(i.serializer,o)}}if(r instanceof Fc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kc)return{bytesValue:WT(i.serializer,r._byteString)};if(r instanceof Bt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:R0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Lc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return M0(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Nh(r)}`)}(n,e)}function DS(n,e){let t={};return CT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(n,(r,i)=>{let o=qc(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function TS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof Fc||n instanceof kc||n instanceof Bt||n instanceof Ls||n instanceof Lc)}function B0(n,e,t){if(!TS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Nh(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function y0(n,e,t){if((e=Ut(e))instanceof Fs)return e._internalPath;if(typeof e=="string")return $0(n,e);throw bh("Field path arguments must be of type string or ",n,!1,void 0,t)}var KU=new RegExp("[~\\*/\\[\\]]");function $0(n,e,t){if(e.search(KU)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fs(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(k.INVALID_ARGUMENT,a+n+u)}function SS(n,e){return n.some(t=>t.isEqual(e))}var Eh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new v0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(q0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},v0=class extends Eh{data(){return super.data()}};function q0(n,e){return typeof e=="string"?$0(n,e):e instanceof Fs?e._internalPath:e._delegate._internalPath}function QU(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vc=class{},_0=class extends Vc{};function xS(n,e,...t){let r=[];e instanceof Vc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof w0).length,a=o.filter(u=>u instanceof Ch).length;if(s>1||s>0&&a>0)throw new z(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Ch=class n extends _0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return MS(e._query,t),new ks(e.firestore,e.converter,dv(e._query,t))}_parse(e){let t=U0(e.firestore);return function(o,s,a,u,l,h,g){let _;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new z(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){bT(g,h);let I=[];for(let R of g)I.push(IT(u,o,R));_={arrayValue:{values:I}}}else _=IT(u,o,g)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||bT(g,h),_=WU(a,s,g,h==="in"||h==="not-in");return ct.create(l,h,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function AS(n,e,t){let r=e,i=q0("where",n);return Ch._create(i,r,t)}var w0=class n extends Vc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ln.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)MS(s,u),s=dv(s,u)}(e._query,t),new ks(e.firestore,e.converter,dv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function IT(n,e,t){if(typeof(t=Ut(t))=="string"){if(t==="")throw new z(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NT(e)&&t.indexOf("/")!==-1)throw new z(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Qe.fromString(t));if(!ee.isDocumentKey(r))throw new z(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return WD(n,new ee(r))}if(t instanceof Bt)return WD(n,t._key);throw new z(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(t)}.`)}function bT(n,e){if(!Array.isArray(n)||n.length===0)throw new z(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MS(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new z(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var I0=class{convertValue(e,t="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return lo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>We(s.doubleValue));return new Lc(o)}convertGeoPoint(e){return new Fc(We(e.latitude),We(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=D0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){let t=Nr(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Qe.fromString(e);Fe(ZT(r));let i=new Xd(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(t)||Pr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function YU(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var eo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Dh=class extends Eh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Es(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(q0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Es=class extends Dh{data(e={}){return super.data(e)}},b0=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Es(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Es(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Es(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:JU(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function JU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}function RS(n){n=kr(n,Bt);let e=kr(n.firestore,uo);return jU(j0(e),n._key).then(t=>XU(e,n,t))}var Th=class extends I0{constructor(e){super(),this.firestore=e}convertBytes(e){return new kc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,t)}};function PS(n){n=kr(n,ks);let e=kr(n.firestore,uo),t=j0(e),r=new Th(e);return QU(n._query),UU(t,n._query).then(i=>new b0(e,r,n,i))}function NS(n,e,t){n=kr(n,Bt);let r=kr(n.firestore,uo),i=YU(n.converter,e,t);return kS(r,[HU(U0(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,fi.none())])}function OS(n,e,t,...r){n=kr(n,Bt);let i=kr(n.firestore,uo),o=U0(i),s;return s=typeof(e=Ut(e))=="string"||e instanceof Fs?GU(o,"updateDoc",n._key,e,t,r):zU(o,"updateDoc",n._key,e),kS(i,[s.toMutation(n._key,fi.exists(!0))])}function kS(n,e){return function(r,i){let o=new kn;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return xU(yield VU(r),i,o)})),o.promise}(j0(n),e)}function XU(n,e,t){let r=t.docs.get(e._key),i=new Th(n);return new Dh(n,i,e._key,r,new eo(t.hasPendingWrites,t.fromCache),e.converter)}function FS(){return new g0("serverTimestamp")}(function(e,t=!0){(function(i){Vs=i})(ps),li(new wn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new uo(new zy(r.getProvider("auth-internal")),new Qy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),dt(qD,"4.7.3",e),dt(qD,"4.7.3","esm2017")})();var $t=class{constructor(e){return e}},LS="firestore",H0=class{constructor(){return fc(LS)}};var z0=new X("angularfire2.firestore-instances");function ZU(n,e){let t=yy(LS,n,e);return t&&new $t(t)}function e4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new $t(r)}}var t4={provide:H0,deps:[[new hn,z0]]},n4={provide:$t,useFactory:ZU,deps:[[new hn,z0],Qi]},r4=(()=>{class n{constructor(){dt("angularfire",gs.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Jt({type:n});static \u0275inj=Yt({providers:[n4,t4]})}return n})();function VS(n,...e){return{ngModule:r4,providers:[{provide:z0,useFactory:e4(n),multi:!0,deps:[Ne,en,pc,mc,[new hn,Ud],[new hn,hc],...e]}]}}var Hc=Gt(IS,!0);var fo=Gt(bS,!0);var Oh=Gt(RS,!0);var kh=Gt(PS,!0);var jS=Gt(ES,!0);var Fh=Gt(xS,!0);var Lh=Gt(FS,!0),Vh=Gt(NS,!0);var US=Gt(OS,!0);var zc=Gt(AS,!0);var sr={production:!1,apiUrl:"https://us-central1-mereka-ai-game.cloudfunctions.net",firebase:{apiKey:"AIzaSyD7esOuznHY_x0r1XsalWSZBoOJTspuABA",authDomain:"mereka-ai-game.firebaseapp.com",projectId:"mereka-ai-game",storageBucket:"mereka-ai-game.firebasestorage.app",messagingSenderId:"939508804715",appId:"1:939508804715:web:71ccc7faab3879aff5552e",measurementId:"G-NJWRDG4PWP",databaseURL:"https://mereka-ai-game.firebaseio.com"}};function i4(n,e){if(n&1&&(p(0,"div",14)(1,"div"),y(2),m(),p(3,"p",15),y(4),m()()),n&2){let t=e.$implicit;D(),Er("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center "+(t.number===1?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300")),D(),G(" ",t.number," "),D(2),Q(t.text)}}var BS=(()=>{class n{steps=[{number:1,text:"Complete a short personality assessment to discover your AI traits"},{number:2,text:"Choose your focus area for the challenge based on your strengths"},{number:3,text:"Compete in three rounds against the AI to test your abilities"},{number:4,text:"Receive your personalized AI profile with detailed insights"},{number:5,text:"Share your results and compare with others in the community"}];static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["app-welcome"]],standalone:!0,features:[re],decls:23,vars:1,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-4xl","w-full","space-y-8","text-center"],[1,"space-y-4"],[1,"text-6xl","font-bold","text-gray-900","dark:text-white","relative","inline-block"],[1,"absolute","inset-0","blur-lg","bg-blue-400","opacity-20","-z-10"],[1,"text-2xl","text-blue-600","dark:text-blue-400"],[1,"bg-white","dark:bg-gray-800","shadow-lg","rounded-lg","p-8","mt-8"],[1,"space-y-6"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"mt-2","text-lg","text-gray-600","dark:text-gray-300"],[1,"mt-8"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white","mb-6"],["class","flex items-start",4,"ngFor","ngForOf"],["routerLink","/context",1,"inline-flex","items-center","px-6","py-3","border","border-transparent","text-base","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","transition-colors"],[1,"flex","items-start"],[1,"ml-4","text-lg","text-gray-600","dark:text-gray-300"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),y(4," AI Fight Club "),de(5,"div",4),m(),p(6,"p",5),y(7," Discover Your Competitive Edge in the Age of AI "),m()(),p(8,"div",6)(9,"div",7)(10,"div")(11,"h2",8),y(12," Welcome, Challenger "),m(),p(13,"p",9),y(14," Discover your AI personality traits and challenge the system "),m()(),p(15,"div",10)(16,"h3",11),y(17," How It Works "),m(),p(18,"div",2),Y(19,i4,5,4,"div",12),m()(),p(20,"div",10)(21,"a",13),y(22," Get Started "),m()()()()()()),r&2&&(D(19),q("ngForOf",i.steps))},dependencies:[ae,Je,$e,At]})}return n})();var JS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(B(wr),B(Wn))}}static{this.\u0275dir=Ke({type:n})}}return n})(),zh=(()=>{class n extends JS{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,features:[tn]})}}return n})(),Jc=new X(""),o4={provide:Jc,useExisting:Pn(()=>po),multi:!0},po=(()=>{class n extends zh{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&ne("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Cr([o4]),tn]})}}return n})(),s4={provide:Jc,useExisting:Pn(()=>bn),multi:!0};function a4(){let n=Tr()?Tr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var c4=new X(""),bn=(()=>{class n extends JS{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!a4())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(B(wr),B(Wn),B(c4,8))}}static{this.\u0275dir=Ke({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ne("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Cr([s4]),tn]})}}return n})();function u4(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Gh=new X(""),XS=new X("");function l4(n){return u4(n.value)?{required:!0}:null}function d4(n){return n.value===!0?null:{required:!0}}function $S(n){return null}function ZS(n){return n!=null}function ex(n){return $i(n)?ke(n):n}function tx(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function nx(n,e){return e.map(t=>t(n))}function h4(n){return!n.validate}function rx(n){return n.map(e=>h4(e)?e:t=>e.validate(t))}function f4(n){if(!n)return null;let e=n.filter(ZS);return e.length==0?null:function(t){return tx(nx(t,e))}}function W0(n){return n!=null?f4(rx(n)):null}function p4(n){if(!n)return null;let e=n.filter(ZS);return e.length==0?null:function(t){let r=nx(t,e).map(ex);return Hf(r).pipe(ge(tx))}}function K0(n){return n!=null?p4(rx(n)):null}function qS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function m4(n){return n._rawValidators}function g4(n){return n._rawAsyncValidators}function G0(n){return n?Array.isArray(n)?n:[n]:[]}function Uh(n,e){return Array.isArray(n)?n.includes(e):n===e}function HS(n,e){let t=G0(e);return G0(n).forEach(i=>{Uh(t,i)||t.push(i)}),t}function zS(n,e){return G0(e).filter(t=>!Uh(n,t))}var Bh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=W0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=K0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Bs=class extends Bh{get formDirective(){return null}get path(){return null}},Yc=class extends Bh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},$h=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},y4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},W7=pe(V({},y4),{"[class.ng-submitted]":"isSubmitted"}),En=(()=>{class n extends $h{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(B(Yc,2))}}static{this.\u0275dir=Ke({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&br("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[tn]})}}return n})(),vi=(()=>{class n extends $h{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(B(Bs,10))}}static{this.\u0275dir=Ke({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&br("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[tn]})}}return n})();var Wc="VALID",jh="INVALID",Us="PENDING",Kc="DISABLED";function ix(n){return(Wh(n)?n.validators:n)||null}function v4(n){return Array.isArray(n)?W0(n):n||null}function ox(n,e){return(Wh(e)?e.asyncValidators:n)||null}function _4(n){return Array.isArray(n)?K0(n):n||null}function Wh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function w4(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new J(1e3,"");if(!r[t])throw new J(1001,"")}function I4(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new J(1002,"")})}var qh=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wc}get invalid(){return this.status===jh}get pending(){return this.status==Us}get disabled(){return this.status===Kc}get enabled(){return this.status!==Kc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zS(e,this._rawAsyncValidators))}hasValidator(e){return Uh(this._rawValidators,e)}hasAsyncValidator(e){return Uh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Us,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Kc,this.errors=null,this._forEachChild(r=>{r.disable(pe(V({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(V({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wc,this._forEachChild(r=>{r.enable(pe(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(V({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wc||this.status===Us)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kc:Wc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Us,this._hasOwnPendingAsyncValidator=!0;let t=ex(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new it,this.statusChanges=new it}_calculateStatus(){return this._allControlsDisabled()?Kc:this.errors?jh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Us)?Us:this._anyControlsHaveStatus(jh)?jh:Wc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=v4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=_4(this._rawAsyncValidators)}},Hh=class extends qh{constructor(e,t,r){super(ix(t),ox(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){I4(this,!0,e),Object.keys(e).forEach(r=>{w4(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Q0=new X("CallSetDisabledState",{providedIn:"root",factory:()=>Y0}),Y0="always";function b4(n,e){return[...e.path,n]}function sx(n,e,t=Y0){ax(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),C4(n,e),T4(n,e),D4(n,e),E4(n,e)}function GS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function E4(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function ax(n,e){let t=m4(n);e.validator!==null?n.setValidators(qS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=g4(n);e.asyncValidator!==null?n.setAsyncValidators(qS(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();GS(e._rawValidators,i),GS(e._rawAsyncValidators,i)}function C4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&cx(n,e)})}function D4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&cx(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function cx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function T4(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function S4(n,e){n==null,ax(n,e)}function x4(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function A4(n){return Object.getPrototypeOf(n.constructor)===zh}function M4(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function R4(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===bn?t=o:A4(o)?r=o:i=o}),i||r||t||null}var P4={provide:Bs,useExisting:Pn(()=>Fr)},Qc=Promise.resolve(),Fr=(()=>{class n extends Bs{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new it,this.form=new Hh({},W0(t),K0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Qc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),sx(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Qc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Qc.then(()=>{let r=this._findContainer(t.path),i=new Hh({});S4(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Qc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Qc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,M4(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(B(Gh,10),B(XS,10),B(Q0,8))}}static{this.\u0275dir=Ke({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ne("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[Ct.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Cr([P4]),tn]})}}return n})();function WS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function KS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var N4=class extends qh{constructor(e=null,t,r){super(ix(t),ox(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(KS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){KS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var O4={provide:Yc,useExisting:Pn(()=>cn)},QS=Promise.resolve(),cn=(()=>{class n extends Yc{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new N4,this._registered=!1,this.name="",this.update=new it,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=R4(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),x4(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){sx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){QS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ni(r);QS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?b4(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(B(Bs,9),B(Gh,10),B(XS,10),B(Jc,10),B(qi,8),B(Q0,8))}}static{this.\u0275dir=Ke({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ct.None,"disabled","isDisabled"],model:[Ct.None,"ngModel","model"],options:[Ct.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Cr([O4]),tn,Xr]})}}return n})(),_i=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ke({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var k4={provide:Jc,useExisting:Pn(()=>Kh),multi:!0};function ux(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function F4(n){return n.split(":")[0]}var Kh=(()=>{class n extends zh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=ux(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=F4(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ne("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Cr([k4]),tn]})}}return n})(),lx=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ux(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(B(Wn),B(wr),B(Kh,9))}}static{this.\u0275dir=Ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),L4={provide:Jc,useExisting:Pn(()=>dx),multi:!0};function YS(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function V4(n){return n.split(":")[0]}var dx=(()=>{class n extends zh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=V4(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ne("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Cr([L4]),tn]})}}return n})(),hx=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(YS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(YS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(B(Wn),B(wr),B(dx,9))}}static{this.\u0275dir=Ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var j4=(()=>{class n{constructor(){this._validator=$S}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$S,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ke({type:n,features:[Xr]})}}return n})();var U4={provide:Gh,useExisting:Pn(()=>ar),multi:!0},B4={provide:Gh,useExisting:Pn(()=>J0),multi:!0},ar=(()=>{class n extends j4{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ni,this.createValidator=t=>l4}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ti("required",i._enabled?"":null)},inputs:{required:"required"},features:[Cr([U4]),tn]})}}return n})(),J0=(()=>{class n extends ar{constructor(){super(...arguments),this.createValidator=t=>d4}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=pn(n)))(i||n)}})()}static{this.\u0275dir=Ke({type:n,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ti("required",i._enabled?"":null)},features:[Cr([B4]),tn]})}}return n})();var $4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jt({type:n})}static{this.\u0275inj=Yt({})}}return n})();var Wt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Q0,useValue:t.callSetDisabledState??Y0}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Jt({type:n})}static{this.\u0275inj=Yt({imports:[$4]})}}return n})();var wi=(()=>{class n{firestore;constructor(t){this.firestore=t}createDocument(t,r){return C(this,null,function*(){let i=fo(Hc(this.firestore,t)),o=i.id;return yield Vh(i,pe(V({},r),{id:o,createdAt:Lh(),updatedAt:Lh()})),o})}updateDocument(t,r,i){return C(this,null,function*(){try{let o=fo(this.firestore,t,r);yield US(o,pe(V({},i),{updatedAt:Lh()}))}catch(o){throw console.error("Error updating document:",o),o}})}getDocument(t,r){return C(this,null,function*(){let i=fo(this.firestore,t,r),o=yield Oh(i);return o.exists()?o.data():null})}queryDocuments(t,r,i){return C(this,null,function*(){let o=Fh(Hc(this.firestore,t),zc(r,"==",i));return(yield kh(o)).docs.map(a=>V({id:a.id},a.data()))})}static \u0275fac=function(r){return new(r||n)(F($t))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ze=(()=>{class n extends wi{COLLECTION="users";createUser(t){return C(this,null,function*(){let r=yield this.createDocument(this.COLLECTION,pe(V({},t),{currentRoute:"/traits",isAnonymous:!0}));return localStorage.setItem("mereka_user_id",r),r})}updateUserRoute(t,r){return C(this,null,function*(){console.log(`Updating user ${t} route to: ${r}`);let i=r?r.startsWith("/")?r:`/${r}`:"";yield this.updateDocument(this.COLLECTION,t,{currentRoute:i})})}getUser(t){return C(this,null,function*(){return this.getDocument(this.COLLECTION,t)})}getCurrentUserId(){return localStorage.getItem("mereka_user_id")}clearCurrentUser(){localStorage.removeItem("mereka_user_id")}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pn(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var cr=(()=>{class n{loadingSubject=new ut(!1);loading$=this.loadingSubject.asObservable();show(){this.loadingSubject.next(!0)}hide(){this.loadingSubject.next(!1)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qs=(()=>{class n{router;userService;loadingService;constructor(t,r,i){this.router=t,this.userService=r,this.loadingService=i}navigateToNextRoute(t,r){return C(this,null,function*(){this.loadingService.show(),console.log(`Navigating from ${t} to ${r}`);let i=this.userService.getCurrentUserId();if(!i){console.error("No user ID found, redirecting to context"),this.router.navigate(["/context"]),this.loadingService.hide();return}try{let o=r.startsWith("/")?r:`/${r}`;console.log(`Updating user route to: ${o}`),yield this.userService.updateUserRoute(i,o),console.log(`Navigating to: ${o}`),this.router.navigate([o])}catch(o){console.error("Error navigating to next route:",o)}finally{this.loadingService.hide()}})}navigateToPreviousRoute(t,r){return C(this,null,function*(){this.loadingService.show();let i=this.userService.getCurrentUserId();if(!i){this.router.navigate(["/context"]),this.loadingService.hide();return}try{yield this.userService.updateUserRoute(i,`/${r}`),this.router.navigate([`/${r}`])}catch(o){console.error("Error navigating to previous route:",o)}finally{this.loadingService.hide()}})}navigateToNextRound(t,r){return C(this,null,function*(){if(console.log(`Navigating to next round: current=${t}, max=${r}`),t<r){let i=`round/${t+1}`;console.log(`Next route: ${i}`),yield this.navigateToNextRoute(`round/${t}`,i)}else console.log("Navigating to results"),yield this.navigateToNextRoute(`round/${t}`,"results")})}static \u0275fac=function(r){return new(r||n)(F(je),F(Ze),F(cr))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fx=(()=>{class n{router;route;userService;navigationService;userContext={name:"",email:"",professionalTitle:"",location:""};isSubmitting=!1;constructor(t,r,i,o){this.router=t,this.route=r,this.userService=i,this.navigationService=o}onSubmit(){return C(this,null,function*(){if(!this.isSubmitting){this.isSubmitting=!0;try{let t=yield this.userService.createUser(this.userContext),r=this.route.snapshot.data.next;yield this.navigationService.navigateToNextRoute("context",r)}catch(t){console.error("Error saving context:",t)}finally{this.isSubmitting=!1}}})}static \u0275fac=function(r){return new(r||n)(B(je),B(ot),B(Ze),B(qs))};static \u0275cmp=te({type:n,selectors:[["app-context"]],standalone:!0,features:[re],decls:35,vars:4,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-4xl","w-full","space-y-8"],[1,"text-center"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"mt-2","text-lg","text-gray-600","dark:text-gray-400"],[1,"bg-white","dark:bg-gray-800","shadow","rounded-lg","p-8"],[1,"max-w-md","mx-auto"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","text-center","mb-2"],[1,"text-gray-600","dark:text-gray-400","text-center","mb-8"],[1,"space-y-6",3,"ngSubmit"],["for","name",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","name","name","name","placeholder","Your name","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","email","id","email","name","email","placeholder","your.email@example.com","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["for","professionalTitle",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","professionalTitle","name","professionalTitle","placeholder","e.g. Software Engineer, Designer, Manager","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["for","location",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","location","name","location","placeholder","City, Country","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","flex","justify-center","py-3","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","transition-colors"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),y(4," Personal Context "),m(),p(5,"p",4),y(6," Before we assess your human edge, we need to understand your professional context. "),de(7,"br"),y(8," This helps us provide more relevant insights tailored to your specific situation. "),m()(),p(9,"div",5)(10,"div",6)(11,"h2",7),y(12," Tell Us About Yourself "),m(),p(13,"p",8),y(14," This information helps us personalize your human edge profile "),m(),p(15,"form",9),ne("ngSubmit",function(){return i.onSubmit()}),p(16,"div")(17,"label",10),y(18," Name "),m(),p(19,"input",11),Be("ngModelChange",function(s){return He(i.userContext.name,s)||(i.userContext.name=s),s}),m()(),p(20,"div")(21,"label",12),y(22," Email "),m(),p(23,"input",13),Be("ngModelChange",function(s){return He(i.userContext.email,s)||(i.userContext.email=s),s}),m()(),p(24,"div")(25,"label",14),y(26," Professional Title "),m(),p(27,"input",15),Be("ngModelChange",function(s){return He(i.userContext.professionalTitle,s)||(i.userContext.professionalTitle=s),s}),m()(),p(28,"div")(29,"label",16),y(30," Location "),m(),p(31,"input",17),Be("ngModelChange",function(s){return He(i.userContext.location,s)||(i.userContext.location=s),s}),m()(),p(32,"div")(33,"button",18),y(34," Continue "),m()()()()()()()),r&2&&(D(19),Ue("ngModel",i.userContext.name),D(4),Ue("ngModel",i.userContext.email),D(4),Ue("ngModel",i.userContext.professionalTitle),D(4),Ue("ngModel",i.userContext.location))},dependencies:[ae,Wt,_i,bn,En,vi,ar,cn,Fr]})}return n})();var px=()=>[];function q4(n,e){if(n&1&&(Kn(0),p(1,"div",18)(2,"div"),y(3),m()(),Qn()),n&2){let t=e.index,r=Se();D(2),Er("w-8 h-8 flex items-center justify-center rounded-full text-sm font-medium "+(t<r.currentQuestionIndex?"bg-blue-500 text-white":t===r.currentQuestionIndex?"bg-blue-500 text-white ring-2 ring-blue-300":"bg-blue-100 text-blue-600")),D(),G(" ",t+1," ")}}function H4(n,e){if(n&1){let t=yn();Kn(0),p(1,"button",23),ne("click",function(){let i=Xt(t).index,o=Se(2);return Zt(o.onAnswerChange(i+o.question.options.min))}),y(2),m(),Qn()}if(n&2){let t=e.index,r=Se(2);D(),Er("w-12 h-12 rounded-full text-lg font-medium transition-colors duration-200 "+(r.answer===t+r.question.options.min?"bg-blue-500 text-white transform scale-110":"bg-gray-100 text-gray-600 hover:bg-blue-100 hover:scale-105")),D(),G(" ",t+r.question.options.min," ")}}function z4(n,e){if(n&1&&(p(0,"div")(1,"h3",19),y(2),m(),p(3,"div",20)(4,"span",21),y(5),m(),p(6,"div",22),Y(7,H4,3,3,"ng-container",6),m(),p(8,"span",21),y(9),m()()()),n&2){let t=Se();D(2),Q(t.question.title),D(3),Q(t.question.options.minLabel),D(2),q("ngForOf",Vm(4,px).constructor(t.question.options.max-t.question.options.min+1)),D(2),Q(t.question.options.maxLabel)}}function G4(n,e){if(n&1&&(p(0,"div",24)(1,"div",25)(2,"div",26)(3,"h4",27),y(4),m(),p(5,"p",28),y(6),m()()()()),n&2){let t=Se();D(4),Q(t.question.about.title),D(2),Q(t.question.about.description)}}var Qh=(()=>{class n{currentQuestionIndex=0;totalQuestions=5;question;answer;answerChange=new it;nextQuestion=new it;previousQuestion=new it;get progressPercentage(){return(this.currentQuestionIndex+1)/this.totalQuestions*100}onAnswerChange(t){this.answerChange.emit(t)}onNext(){this.nextQuestion.emit()}onPrevious(){this.previousQuestion.emit()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["app-questionnaire"]],inputs:{currentQuestionIndex:"currentQuestionIndex",totalQuestions:"totalQuestions",question:"question",answer:"answer"},outputs:{answerChange:"answerChange",nextQuestion:"nextQuestion",previousQuestion:"previousQuestion"},standalone:!0,features:[re],decls:23,vars:11,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-4xl","w-full","space-y-8"],[1,"relative"],[1,"overflow-hidden","h-2","mb-4","text-xs","flex","rounded","bg-blue-100"],[1,"shadow-none","flex","flex-col","text-center","whitespace-nowrap","text-white","justify-center","bg-blue-500"],[1,"flex","justify-between","-mt-2"],[4,"ngFor","ngForOf"],[1,"text-right","text-sm","text-gray-500","mt-2"],[1,"bg-white","shadow-lg","rounded-lg","p-8"],[1,"space-y-6"],[1,"text-center","mb-8"],[1,"text-2xl","font-semibold","text-gray-900"],[1,"text-gray-600","mt-2"],[4,"ngIf"],["class","mt-8 pt-6 border-t border-gray-200",4,"ngIf"],[1,"flex","justify-between","mt-6"],[1,"px-4","py-2","border","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","duration-200",3,"click","disabled"],[1,"px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","transition-colors","duration-200",3,"click"],[1,"flex","flex-col","items-center"],[1,"text-xl","font-medium","text-gray-900","mb-4"],[1,"flex","justify-between","items-center","space-x-4"],[1,"text-sm","text-gray-500"],[1,"flex-1","flex","justify-between"],[3,"click"],[1,"mt-8","pt-6","border-t","border-gray-200"],[1,"flex","items-start","space-x-3"],[1,"flex-1"],[1,"text-lg","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),de(4,"div",4),m(),p(5,"div",5),Y(6,q4,4,3,"ng-container",6),m(),p(7,"div",7),y(8),m()(),p(9,"div",8)(10,"div",9)(11,"div",10)(12,"h2",11),y(13),m(),p(14,"p",12),y(15),m()(),Y(16,z4,10,5,"div",13)(17,G4,7,2,"div",14),m()(),p(18,"div",15)(19,"button",16),ne("click",function(){return i.onPrevious()}),y(20," Previous "),m(),p(21,"button",17),ne("click",function(){return i.onNext()}),y(22),m()()()()),r&2&&(D(4),Ir("width",i.progressPercentage,"%"),D(2),q("ngForOf",Vm(10,px).constructor(i.totalQuestions)),D(2),G(" ",i.progressPercentage,"% Complete "),D(5),G("Question ",i.currentQuestionIndex+1,""),D(2),Q(i.question.subtitle),D(),q("ngIf",i.question.type==="rating"&&i.question.options),D(),q("ngIf",i.question.about),D(2),q("disabled",i.currentQuestionIndex===0),D(3),G(" ",i.currentQuestionIndex===i.totalQuestions-1?"Finish":"Next Question"," "))},dependencies:[ae,Je,xt,Wt],styles:["@keyframes _ngcontent-%COMP%_progress{0%{width:0}to{width:100%}}.rating-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.rating-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.rating-button.selected[_ngcontent-%COMP%]{transform:scale(1.1)}.question-container[_ngcontent-%COMP%], .step-indicator[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.step-indicator.completed[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.step-indicator.current[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;box-shadow:0 0 0 3px #3b82f680}.about-section[_ngcontent-%COMP%]{border-left:4px solid #3B82F6;padding-left:1rem;margin-top:2rem}.about-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1f2937;margin-bottom:.5rem}.about-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;line-height:1.5}"]})}return n})();var Hs=(()=>{class n extends wi{firestore;userService;COLLECTION="traits";constructor(t,r){super(t),this.firestore=t,this.userService=r}saveTraits(t,r){return C(this,null,function*(){yield this.createDocument(this.COLLECTION,V({userId:t},r)),yield this.userService.updateUserRoute(t,"/attitudes")})}getTraits(t){return C(this,null,function*(){return this.getDocument(this.COLLECTION,t)})}static \u0275fac=function(r){return new(r||n)(F($t),F(Ze))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mx=(()=>{class n{router;route;traitsService;userService;currentQuestionIndex=0;answers=[];isSubmitting=!1;questions=[{id:1,title:"How creative do you consider yourself to be?",subtitle:"Creativity Assessment",type:"rating",options:{min:1,max:5,minLabel:"Not creative",maxLabel:"Highly creative"},about:{title:"About creativity",description:"Your ability to generate novel ideas and solutions."}},{id:2,title:"How empathetic are you toward others?",subtitle:"Empathy Assessment",type:"rating",options:{min:1,max:5,minLabel:"Not empathetic",maxLabel:"Highly empathetic"},about:{title:"About empathy",description:"Your ability to understand and share the feelings of others."}},{id:3,title:"How analytical is your thinking style?",subtitle:"Analytical Thinking Assessment",type:"rating",options:{min:1,max:5,minLabel:"Not analytical",maxLabel:"Highly analytical"},about:{title:"About analytical thinking",description:"Your tendency to break down complex problems into components."}},{id:4,title:"How adaptable are you to new situations?",subtitle:"Adaptability Assessment",type:"rating",options:{min:1,max:5,minLabel:"Not adaptable",maxLabel:"Highly adaptable"},about:{title:"About adaptability",description:"Your ability to adjust to new conditions or environments."}},{id:5,title:"How would you rate your communication skills?",subtitle:"Communication Assessment",type:"rating",options:{min:1,max:5,minLabel:"Basic",maxLabel:"Advanced"},about:{title:"About communication",description:"Your ability to convey ideas clearly and effectively."}}];constructor(t,r,i,o){this.router=t,this.route=r,this.traitsService=i,this.userService=o,this.answers=new Array(this.questions.length).fill(null)}ngOnInit(){if(!this.userService.getCurrentUserId()){this.router.navigate(["/context"]);return}}onAnswerChange(t){this.answers[this.currentQuestionIndex]=t}onNextQuestion(){return C(this,null,function*(){if(!this.isSubmitting)if(this.currentQuestionIndex<this.questions.length-1)this.currentQuestionIndex++;else{this.isSubmitting=!0;try{let t=this.userService.getCurrentUserId();if(!t){this.router.navigate(["/context"]);return}let r={answers:this.answers.map((o,s)=>({questionId:this.questions[s].id,answer:o})),questions:this.questions};yield this.traitsService.saveTraits(t,r);let i=this.route.snapshot.data.next;this.router.navigate(["/"+i])}catch(t){console.error("Error saving traits data:",t)}finally{this.isSubmitting=!1}}})}onPreviousQuestion(){this.currentQuestionIndex>0&&this.currentQuestionIndex--}static \u0275fac=function(r){return new(r||n)(B(je),B(ot),B(Hs),B(Ze))};static \u0275cmp=te({type:n,selectors:[["app-traits"]],standalone:!0,features:[re],decls:1,vars:4,consts:[[3,"answerChange","nextQuestion","previousQuestion","currentQuestionIndex","totalQuestions","question","answer"]],template:function(r,i){r&1&&(p(0,"app-questionnaire",0),ne("answerChange",function(s){return i.onAnswerChange(s)})("nextQuestion",function(){return i.onNextQuestion()})("previousQuestion",function(){return i.onPreviousQuestion()}),m()),r&2&&q("currentQuestionIndex",i.currentQuestionIndex)("totalQuestions",i.questions.length)("question",i.questions[i.currentQuestionIndex])("answer",i.answers[i.currentQuestionIndex])},dependencies:[ae,Qh],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}"]})}return n})();var zs=(()=>{class n extends wi{firestore;userService;COLLECTION="attitudes";constructor(t,r){super(t),this.firestore=t,this.userService=r}saveAttitudes(t,r){return C(this,null,function*(){yield this.createDocument(this.COLLECTION,V({userId:t},r)),yield this.userService.updateUserRoute(t,"/focus")})}getAttitudes(t){return C(this,null,function*(){return this.getDocument(this.COLLECTION,t)})}static \u0275fac=function(r){return new(r||n)(F($t),F(Ze))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gx=(()=>{class n{router;route;attitudesService;userService;currentQuestionIndex=0;answers=[];isSubmitting=!1;questions=[{id:1,title:"How much do you trust AI systems with important tasks?",subtitle:"AI Trust Assessment",type:"rating",options:{min:1,max:5,minLabel:"Highly skeptical",maxLabel:"Completely trust"},about:{title:"About AI Trust",description:"Your level of confidence in AI's reliability and safety."}},{id:2,title:"How concerned are you about AI's impact on jobs?",subtitle:"AI Impact Assessment",type:"rating",options:{min:1,max:5,minLabel:"Not concerned",maxLabel:"Extremely concerned"},about:{title:"About AI Impact",description:"Your level of worry about AI replacing human roles."}},{id:3,title:"How much do you believe AI will improve humanity's future?",subtitle:"AI Optimism Assessment",type:"rating",options:{min:1,max:5,minLabel:"Pessimistic",maxLabel:"Very optimistic"},about:{title:"About AI Optimism",description:"Your optimism about AI's positive effects on society."}},{id:4,title:"How comfortable are you working with AI tools?",subtitle:"AI Collaboration Assessment",type:"rating",options:{min:1,max:5,minLabel:"Uncomfortable",maxLabel:"Very comfortable"},about:{title:"About AI Collaboration",description:"Your openness to collaborating with AI in your work."}},{id:5,title:"How much autonomy should AI systems have?",subtitle:"AI Autonomy Assessment",type:"rating",options:{min:1,max:5,minLabel:"Always human oversight",maxLabel:"Full autonomy when appropriate"},about:{title:"About AI Autonomy",description:"Your view on AI's independence in decision-making."}}];constructor(t,r,i,o){this.router=t,this.route=r,this.attitudesService=i,this.userService=o,this.answers=new Array(this.questions.length).fill(null)}ngOnInit(){if(!this.userService.getCurrentUserId()){this.router.navigate(["/context"]);return}}onAnswerChange(t){this.answers[this.currentQuestionIndex]=t}onNextQuestion(){return C(this,null,function*(){if(!this.isSubmitting)if(this.currentQuestionIndex<this.questions.length-1)this.currentQuestionIndex++;else{this.isSubmitting=!0;try{let t=this.userService.getCurrentUserId();if(!t){this.router.navigate(["/context"]);return}let r={answers:this.answers.map((o,s)=>({questionId:this.questions[s].id,answer:o})),questions:this.questions};yield this.attitudesService.saveAttitudes(t,r);let i=this.route.snapshot.data.next;this.router.navigate(["/"+i])}catch(t){console.error("Error saving attitudes data:",t)}finally{this.isSubmitting=!1}}})}onPreviousQuestion(){this.currentQuestionIndex>0&&this.currentQuestionIndex--}static \u0275fac=function(r){return new(r||n)(B(je),B(ot),B(zs),B(Ze))};static \u0275cmp=te({type:n,selectors:[["app-attitudes"]],standalone:!0,features:[re],decls:1,vars:4,consts:[[3,"answerChange","nextQuestion","previousQuestion","currentQuestionIndex","totalQuestions","question","answer"]],template:function(r,i){r&1&&(p(0,"app-questionnaire",0),ne("answerChange",function(s){return i.onAnswerChange(s)})("nextQuestion",function(){return i.onNextQuestion()})("previousQuestion",function(){return i.onPreviousQuestion()}),m()),r&2&&q("currentQuestionIndex",i.currentQuestionIndex)("totalQuestions",i.questions.length)("question",i.questions[i.currentQuestionIndex])("answer",i.answers[i.currentQuestionIndex])},dependencies:[ae,Qh],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}"]})}return n})();var Zc={userId:"user123",focusType:"leadership",context:"Generate a challenge focused on leadership in a professional setting",traits:{answers:[{questionId:1,answer:4},{questionId:2,answer:3},{questionId:3,answer:5},{questionId:4,answer:2},{questionId:5,answer:4}],questions:[{id:1,text:"How do you handle stress?",options:["Very poorly","Poorly","Neutral","Well","Very well"]},{id:2,text:"How creative do you consider yourself?",options:["Not at all","Slightly","Moderately","Very","Extremely"]},{id:3,text:"How do you approach problem-solving?",options:["Avoid it","With difficulty","Neutral","With confidence","With enthusiasm"]},{id:4,text:"How do you work in teams?",options:["Prefer to work alone","With difficulty","Neutral","Well","Very well"]},{id:5,text:"How do you handle change?",options:["Very poorly","Poorly","Neutral","Well","Very well"]}]},attitudes:{answers:[{questionId:1,answer:5},{questionId:2,answer:4},{questionId:3,answer:3},{questionId:4,answer:5},{questionId:5,answer:4}],questions:[{id:1,text:"How important is leadership to you?",options:["Not at all","Slightly","Moderately","Very","Extremely"]},{id:2,text:"How do you feel about taking initiative?",options:["Avoid it","Reluctant","Neutral","Comfortable","Enthusiastic"]},{id:3,text:"How do you view authority?",options:["Distrust","Skeptical","Neutral","Respect","Embrace"]},{id:4,text:"How do you feel about responsibility?",options:["Avoid it","Reluctant","Neutral","Accept it","Seek it"]},{id:5,text:"How do you view teamwork?",options:["Prefer to work alone","Reluctant","Neutral","Enjoy it","Essential"]}]},userProfile:{name:"John Doe",email:"john.doe@example.com",professionalTitle:"Project Manager",location:"New York, USA",currentRoute:"/focus",isAnonymous:!1},options:{roundTypes:["scenario","reflection","problem-solving","decision-making","self-assessment","hypothetical","analytical","creative"],difficultyLevels:["beginner","intermediate","advanced","expert"],contextCategories:["personal","professional","educational","social","emotional","ethical","cultural","environmental"],focusAreas:["leadership","communication","teamwork","problem-solving","adaptability","creativity","emotional intelligence","critical thinking"],challengeFormats:["multiple-choice","open-ended","scenario-based","reflection","self-assessment","hypothetical","analytical","creative"],answerTypes:["single-select","multi-select","text","rating","ranking"]}};var yx=(()=>{class n{http;traitsService;attitudesService;userService;CLOUD_FUNCTION_URL=`${sr.apiUrl}/processRequest`;constructor(t,r,i,o){this.http=t,this.traitsService=r,this.attitudesService=i,this.userService=o}generateRound(t,r,i){return C(this,null,function*(){try{let o=yield this.traitsService.getTraits(t),s=yield this.attitudesService.getAttitudes(t),a=yield this.userService.getUser(t),u={userId:t,focusType:r,context:i||`Generate a challenge focused on ${r}`,traits:o||Zc.traits,attitudes:s||Zc.attitudes,userProfile:a||Zc.userProfile,options:Zc.options},l=this.createSimpleRequest(u),h=yield this.http.post(this.CLOUD_FUNCTION_URL,l).toPromise();if(!h||!h.success)throw new Error("No valid response from Cloud Function");let g=h.data.choices[0].message.content,_=[];try{_=JSON.parse(g)}catch(I){console.error("Error parsing content as JSON:",I);let R=g.match(/"([^"]+)"/g);if(R)_=R.map(N=>N.replace(/"/g,""));else throw new Error("Could not extract questions from response")}return this.convertToRoundResponse(_,r)}catch(o){throw console.error("Error generating round:",o),o}})}createSimpleRequest(t){let r=t.options.focusAreas.join(", "),i=t.options.contextCategories.join(", "),o=t.options.roundTypes.join(", "),s=t.options.challengeFormats.join(", "),a=this.summarizeTraitsAndAttitudes(t.traits,t.attitudes),u={role:"system",content:`You are an AI game assistant that generates personalized challenges and questions for users.

      IMPORTANT INSTRUCTIONS:
      1. Generate a round of challenges based on the user's profile, traits, and attitudes.
      2. The round should focus on the specified focus type: ${t.focusType}.
      3. The context for the challenges should be: ${t.context}.
      4. Use the following information about the user to personalize the challenges:
         - User Profile: ${JSON.stringify(t.userProfile)}
         - Traits Summary: ${a}
      5. The challenges should be appropriate for the user's level based on their traits and attitudes.
      6. Your response MUST be an array of strings, where each string is a question for a challenge.
      7. Generate 2 questions that progressively increase in difficulty.
      8. Each question should be clear, concise, and focused on the specified focus type.
      9. The questions should be open-ended and encourage thoughtful responses.

      Available focus areas: ${r}
      Available context categories: ${i}
      Available round types: ${o}
      Available challenge formats: ${s}`},l={role:"user",content:`Generate a round of challenges for a user with the following focus type: ${t.focusType}.`};return{model:"gpt-4o",messages:[u,l],temperature:.4}}summarizeTraitsAndAttitudes(t,r){if(!t||!r)return"No traits or attitudes data available.";let i="Traits: ";if(t.answers&&t.answers.length>0){let s=t.answers.map(a=>{let u=t.questions.find(l=>l.id===a.questionId);return`${u?u.text:"Unknown trait"}: ${a.answer}/5`});i+=s.join(", ")}else i+="No trait answers available.";let o="Attitudes: ";if(r.answers&&r.answers.length>0){let s=r.answers.map(a=>{let u=r.questions.find(l=>l.id===a.questionId);return`${u?u.text:"Unknown attitude"}: ${a.answer}/5`});o+=s.join(", ")}else o+="No attitude answers available.";return`${i}. ${o}`}convertToRoundResponse(t,r){let i="round-"+Date.now(),o=t.map((s,a)=>({id:`challenge-${a+1}`,question:s,type:"open-ended",points:10+a*5}));return{id:i,title:`${r.charAt(0).toUpperCase()+r.slice(1)} Challenge`,description:`A series of challenges focused on ${r}`,type:"scenario",context:"general",difficulty:3,challenges:o,estimatedTime:20}}static \u0275fac=function(r){return new(r||n)(F(xr),F(Hs),F(zs),F(Ze))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yh=(()=>{class n{http;traitsService;attitudesService;userService;CLOUD_FUNCTION_URL=`${sr.apiUrl}/processRequest`;MAX_RETRIES=3;TIMEOUT_MS=3e4;constructor(t,r,i,o){this.http=t,this.traitsService=r,this.attitudesService=i,this.userService=o}evaluateResponse(t){return C(this,null,function*(){try{let r=yield this.traitsService.getTraits(t.userId),i=yield this.attitudesService.getAttitudes(t.userId),o=yield this.userService.getUser(t.userId);if(!o)throw new Error("User profile not found");let s=this.createSimpleRequest(t,r,i,o),a=yield this.callCloudFunctionWithRetry(s);if(!this.isValidEvaluationResponse(a))throw new Error("Invalid evaluation response structure");return a.badges=this.assignBadges(a.metrics),a}catch(r){return console.error("Error evaluating response:",r),this.createDefaultEvaluation(t)}})}callCloudFunctionWithRetry(t){return C(this,null,function*(){let r=0,i=null;for(;r<this.MAX_RETRIES;)try{let o=yield this.http.post(this.CLOUD_FUNCTION_URL,t).pipe(fa(this.TIMEOUT_MS),ma(1),ln(u=>(console.error(`Attempt ${r+1} failed:`,u),i=u,jn(u)))).toPromise();if(!o||!o.success)throw new Error("No valid response from evaluation service");let s=o.data.choices[0].message.content,a;try{if(a=JSON.parse(s),this.isValidEvaluationResponse(a))return a.badges=this.assignBadges(a.metrics),a;throw new Error("Invalid evaluation response structure")}catch(u){throw console.error("Error parsing evaluation response:",u),new Error("Invalid evaluation response format")}}catch(o){if(i=o,r++,r<this.MAX_RETRIES){let s=Math.pow(2,r)*1e3;console.log(`Retrying in ${s}ms... (Attempt ${r+1}/${this.MAX_RETRIES})`),yield new Promise(a=>setTimeout(a,s))}}throw i||new Error("Failed to get a valid evaluation response after multiple attempts")})}isValidEvaluationResponse(t){return!(!t||!t.metrics||!t.feedback||!t.strengths||!t.improvements||!t.comparison||!t.badges||!t.metrics.creativity||!t.metrics.practicality||!t.metrics.depth||!t.metrics.humanEdge||!t.metrics.overall||!t.comparison.userScore||!t.comparison.rivalScore||!t.comparison.advantage||!t.comparison.advantageReason||!Array.isArray(t.feedback)||!Array.isArray(t.strengths)||!Array.isArray(t.improvements)||!Array.isArray(t.badges)||!["user","rival","tie"].includes(t.comparison.advantage))}assignBadges(t){let r=[];return r.push("Participant"),t.overall>=80?r.push("Excellence"):t.overall>=60&&r.push("Proficiency"),t.creativity>=80?r.push("Innovator"):t.creativity>=60&&r.push("Creative Thinker"),t.practicality>=80?r.push("Problem Solver"):t.practicality>=60&&r.push("Practical Mind"),t.depth>=80?r.push("Deep Thinker"):t.depth>=60&&r.push("Analytical"),t.humanEdge>=80?r.push("Human Touch"):t.humanEdge>=60&&r.push("Empathetic"),r}createSimpleRequest(t,r,i,o){let s=this.summarizeTraitsAndAttitudes(r,i),a={role:"system",content:`You are an AI evaluator that assesses user responses to challenges.

      IMPORTANT INSTRUCTIONS:
      1. Evaluate the user's response based on their profile, traits, and attitudes.
      2. The question being evaluated is: ${t.question}
      3. The user's response is: ${t.userResponse}
      4. The AI's response for comparison is: ${t.aiResponse}
      5. Use the following information about the user to personalize the evaluation:
         - User Profile: ${JSON.stringify(o)}
         - Traits Summary: ${s}
      6. Your response MUST be a JSON object with the following structure:
         {
           "metrics": {
             "creativity": number (0-100),
             "practicality": number (0-100),
             "depth": number (0-100),
             "humanEdge": number (0-100),
             "overall": number (0-100)
           },
           "feedback": string[],
           "strengths": string[],
           "improvements": string[],
           "comparison": {
             "userScore": number (0-100),
             "rivalScore": number (0-100),
             "advantage": "user" | "rival" | "tie",
             "advantageReason": string
           },
           "badges": string[]
         }
      7. Provide specific, actionable feedback based on the user's response.
      8. Compare the user's response with the AI's response and explain the advantage.
      9. Award badges based on the quality and uniqueness of the response.
      10. ALWAYS include at least one badge in the badges array.`},u={role:"user",content:`Evaluate the user's response to the question: ${t.question}`};return{model:"gpt-4o",messages:[a,u],temperature:.4}}summarizeTraitsAndAttitudes(t,r){if(!t||!r)return"No traits or attitudes data available.";let i="Traits: ";if(t.answers&&t.answers.length>0){let s=t.answers.map(a=>{let u=t.questions.find(l=>l.id===a.questionId);return`${u?u.text:"Unknown trait"}: ${a.answer}/5`});i+=s.join(", ")}else i+="No trait answers available.";let o="Attitudes: ";if(r.answers&&r.answers.length>0){let s=r.answers.map(a=>{let u=r.questions.find(l=>l.id===a.questionId);return`${u?u.text:"Unknown attitude"}: ${a.answer}/5`});o+=s.join(", ")}else o+="No attitude answers available.";return`${i}. ${o}`}createDefaultEvaluation(t){let r=t.userResponse.length,i=r>0,o=30;return r>100?o=50:r>50?o=40:i&&(o=35),{metrics:{creativity:o,practicality:o,depth:o,humanEdge:o,overall:o},feedback:["We encountered an issue while evaluating your response.","Your response has been recorded, but we couldn't generate a detailed evaluation at this time.","Please try again later for a complete evaluation."],strengths:i?["Your response was submitted successfully."]:["Your participation is appreciated."],improvements:["Try providing more detailed responses in the future.","Consider expanding on your thoughts with specific examples.","Engage more deeply with the questions to get better evaluations."],comparison:{userScore:o,rivalScore:50,advantage:"rival",advantageReason:"Evaluation could not be completed at this time."},badges:["Participant"]}}static \u0275fac=function(r){return new(r||n)(F(xr),F(Hs),F(zs),F(Ze))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jh=(()=>{class n extends wi{firestore;userService;roundGeneratorService;roundEvaluationService;COLLECTION="challenges";COLLECTION_NAME="challenges";DEFAULT_ROUNDS=4;constructor(t,r,i,o){super(t),this.firestore=t,this.userService=r,this.roundGeneratorService=i,this.roundEvaluationService=o}generateChallenge(t){return C(this,null,function*(){let r={id:"",title:`Challenge for ${t}`,description:`A challenge focused on ${t}`,aiResponse:"",steps:[]},i=yield this.createDocument(this.COLLECTION_NAME,r);return r.id=i,r})}generateAIResponse(t){return C(this,null,function*(){return`This is a mock AI response for challenge ${t}`})}evaluateResponse(t,r,i){return C(this,null,function*(){try{let o=this.userService.getCurrentUserId();if(!o)throw new Error("No user ID found");let s=yield this.getChallenge(i);if(!s)throw new Error("Challenge not found");let a=s.questions[t-1];if(!a)throw new Error("No question found for this round");let u=yield this.generateAIResponse(i);return yield this.roundEvaluationService.evaluateResponse({userId:o,challengeId:i,roundNumber:t,question:a,userResponse:r,aiResponse:u})}catch(o){return console.error("Error evaluating response:",o),{metrics:{creativity:Math.random()*100,practicality:Math.random()*100,depth:Math.random()*100,humanEdge:Math.random()*100,overall:Math.random()*100},feedback:["An error occurred during evaluation."],strengths:["Response submitted successfully."],improvements:["Try again with a more detailed response."],comparison:{userScore:Math.random()*100,rivalScore:Math.random()*100,advantage:"tie",advantageReason:"Evaluation could not be completed."},badges:["Participant"]}}})}saveRoundResponse(t,r,i){return C(this,null,function*(){console.log(`Saving response for user ${t}, round ${r}`);let o={userId:t,roundNumber:r,challengeId:i.challengeId,question:i.question||"",response:i.response,aiResponse:i.aiResponse||"",evaluation:i.evaluation||null,timestamp:new Date};yield this.createDocument(this.COLLECTION,o),console.log("Response saved successfully");let a=(yield this.getChallenge(i.challengeId))?.questions.length||4;console.log(`Max rounds: ${a}`);let u=r<a?`/round/${r+1}`:"/results";console.log(`Updating user route to: ${u}`),yield this.userService.updateUserRoute(t,u)})}getRoundResponse(t,r){return C(this,null,function*(){return this.getDocument(this.COLLECTION,`${t}_round${r}`)})}getAllRoundResponses(t){return C(this,null,function*(){let r=localStorage.getItem("currentChallengeId");if(!r)return[];let i=yield this.getChallenge(r);if(!i)return[];let o=i.questions.length,s=[];for(let a=1;a<=o;a++){let u=yield this.getRoundResponse(t,a);u&&s.push(u)}return s})}createChallenge(t){return C(this,null,function*(){let r=this.userService.getCurrentUserId();if(!r)throw new Error("User not found");console.log("Creating challenge for user:",r);let i=yield this.roundGeneratorService.generateRound(r,t.focusArea);console.log("Generated round:",i);let o=i.challenges.map(l=>l.question),s=o.length;console.log(`Generated ${s} questions for focus area: ${t.focusArea}`);let a=[];for(let l=1;l<=s;l++)a.push({roundNumber:l,question:o[l-1]||"No question available",answer:""});let u={id:"",userId:r,focus:t,rounds:a,description:t.description,questions:o,currentRound:1,createdAt:new Date,updatedAt:new Date};try{let l=yield this.createDocument(this.COLLECTION,u);console.log("Challenge document created with ID:",l),yield this.updateDocument(this.COLLECTION,l,{id:l});let h="/round/1";return console.log(`Updating user route to: ${h}`),yield this.userService.updateUserRoute(r,h),yield this.updateDocument("users",r,{currentChallengeId:l}),l}catch(l){throw console.error("Error creating challenge:",l),l}})}addRound(t,r){return C(this,null,function*(){yield this.updateDocument(this.COLLECTION_NAME,t,{[`rounds.${r.roundNumber}`]:r})})}getChallenge(t){return C(this,null,function*(){return this.getDocument(this.COLLECTION,t)})}getUserChallenges(t){return C(this,null,function*(){return this.queryDocuments(this.COLLECTION,"userId",t)})}saveResponse(t){return C(this,null,function*(){yield this.createDocument("responses",t)})}getCurrentRound(){return C(this,null,function*(){let t=localStorage.getItem("mereka_challenge_id");return t&&(yield this.getChallenge(t))?.currentRound||1})}setCurrentRound(t){let r=localStorage.getItem("mereka_challenge_id");r&&this.updateDocument(this.COLLECTION,r,{currentRound:t})}submitResponse(t,r){return C(this,null,function*(){let i=yield this.getChallenge(t);if(!i)throw new Error("Challenge not found");let o=i.currentRound;if(console.log("Current round:",o),!i.questions||!i.questions[o-1])throw console.error("No question found for round:",o),new Error("No question found for this round");let s=yield this.generateAIResponse(t),a=yield this.evaluateResponse(o,r,t),u={roundNumber:o,question:i.questions[o-1],answer:r,aiResponse:s,evaluation:a},l=i.rounds||[],h=l.findIndex(I=>I.roundNumber===o);h>=0?l[h]=u:l.push(u),yield this.updateDocument(this.COLLECTION,t,{rounds:l,currentRound:o+1,updatedAt:new Date});let g={challengeId:t,response:r,aiResponse:s,evaluation:a,question:i.questions[o-1]};yield this.saveResponse(g);let _=this.userService.getCurrentUserId();if(_){let I=i.questions.length,R=o<I?`/round/${o+1}`:"/results";yield this.userService.updateUserRoute(_,R)}return g})}static \u0275fac=function(r){return new(r||n)(F($t),F(Ze),F(yx),F(Yh))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function K4(n,e){n&1&&(p(0,"div",12)(1,"p")(2,"strong"),y(3,"Challenge Focus:"),m(),y(4," Your creative thinking will be tested through specialized AI challenges designed to measure human capabilities."),m()())}function Q4(n,e){n&1&&(p(0,"div",12)(1,"p")(2,"strong"),y(3,"Challenge Focus:"),m(),y(4," Your analytical reasoning will be tested through specialized AI challenges designed to measure human capabilities."),m()())}function Y4(n,e){n&1&&(p(0,"div",12)(1,"p")(2,"strong"),y(3,"Challenge Focus:"),m(),y(4," Your emotional intelligence will be tested through specialized AI challenges designed to measure human capabilities."),m()())}function J4(n,e){n&1&&(p(0,"div",12)(1,"p")(2,"strong"),y(3,"Challenge Focus:"),m(),y(4," Your ethical decision-making will be tested through specialized AI challenges designed to measure human capabilities."),m()())}var wx=(()=>{class n{router;route;challengeService;navigationService;loadingService;selectedFocusArea=null;focusAreas=[{id:"creative",name:"Creative Thinking",description:"Test your creative problem-solving abilities against AI systems.",matchLevel:85,icon:"\u{1F3A8}",color:"var(--ai-purple)"},{id:"analytical",name:"Analytical Reasoning",description:"Challenge your logical and analytical skills in AI-driven scenarios.",matchLevel:90,icon:"\u{1F9E0}",color:"var(--ai-blue)"},{id:"emotional",name:"Emotional Intelligence",description:"Explore how your emotional intelligence compares to AI capabilities.",matchLevel:75,icon:"\u2764\uFE0F",color:"var(--ai-red)"},{id:"ethical",name:"Ethical Decision Making",description:"Navigate complex ethical dilemmas that test both human and AI judgment.",matchLevel:80,icon:"\u2696\uFE0F",color:"var(--ai-green)"}];constructor(t,r,i,o,s){this.router=t,this.route=r,this.challengeService=i,this.navigationService=o,this.loadingService=s}selectFocusArea(t){this.selectedFocusArea=t}onContinue(){return C(this,null,function*(){if(!this.selectedFocusArea)return;this.loadingService.show(),console.log("Creating challenge for focus area:",this.selectedFocusArea.id);let t={focusArea:this.selectedFocusArea.id,description:this.selectedFocusArea.description};try{let r=yield this.challengeService.createChallenge(t);console.log("Challenge created with ID:",r),localStorage.setItem("currentChallengeId",r),console.log("Navigating to round 1"),this.router.navigate(["/round",1])}catch(r){console.error("Error creating challenge:",r)}finally{this.loadingService.hide()}})}onBack(){let t=this.route.snapshot.data.previous;this.navigationService.navigateToPreviousRoute("focus",t)}static \u0275fac=function(r){return new(r||n)(B(je),B(ot),B(Jh),B(qs),B(cr))};static \u0275cmp=te({type:n,selectors:[["app-focus"]],standalone:!0,features:[re],decls:45,vars:14,consts:[[1,"focus-container"],[1,"title"],[1,"subtitle"],[1,"focus-grid"],[1,"focus-card",3,"click"],[1,"focus-header"],[1,"focus-icon"],[1,"focus-title"],[1,"focus-description"],["class","challenge-focus",4,"ngIf"],[1,"action-button"],[1,"begin-button",3,"click","disabled"],[1,"challenge-focus"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"h1",1),y(2,"Focus Selection"),m(),p(3,"p",2),y(4,"Your choice will determine the type of challenges you'll face"),m(),p(5,"div",3)(6,"div",4),ne("click",function(){return i.selectFocusArea(i.focusAreas[0])}),p(7,"div",5)(8,"span",6),y(9,"\u{1F3A8}"),m(),p(10,"h2",7),y(11,"Creative Thinking"),m()(),p(12,"p",8),y(13,"Test your creative problem-solving abilities against AI systems."),m(),Y(14,K4,5,0,"div",9),m(),p(15,"div",4),ne("click",function(){return i.selectFocusArea(i.focusAreas[1])}),p(16,"div",5)(17,"span",6),y(18,"\u{1F9E0}"),m(),p(19,"h2",7),y(20,"Analytical Reasoning"),m()(),p(21,"p",8),y(22,"Challenge your logical and analytical skills in AI-driven scenarios."),m(),Y(23,Q4,5,0,"div",9),m(),p(24,"div",4),ne("click",function(){return i.selectFocusArea(i.focusAreas[2])}),p(25,"div",5)(26,"span",6),y(27,"\u2764\uFE0F"),m(),p(28,"h2",7),y(29,"Emotional Intelligence"),m()(),p(30,"p",8),y(31,"Explore how your emotional intelligence compares to AI capabilities."),m(),Y(32,Y4,5,0,"div",9),m(),p(33,"div",4),ne("click",function(){return i.selectFocusArea(i.focusAreas[3])}),p(34,"div",5)(35,"span",6),y(36,"\u2696\uFE0F"),m(),p(37,"h2",7),y(38,"Ethical Decision Making"),m()(),p(39,"p",8),y(40,"Navigate complex ethical dilemmas that test both human and AI judgment."),m(),Y(41,J4,5,0,"div",9),m()(),p(42,"div",10)(43,"button",11),ne("click",function(){return i.onContinue()}),y(44),m()()()),r&2&&(D(6),br("selected",(i.selectedFocusArea==null?null:i.selectedFocusArea.id)==="creative"),D(8),q("ngIf",(i.selectedFocusArea==null?null:i.selectedFocusArea.id)==="creative"),D(),br("selected",(i.selectedFocusArea==null?null:i.selectedFocusArea.id)==="analytical"),D(8),q("ngIf",(i.selectedFocusArea==null?null:i.selectedFocusArea.id)==="analytical"),D(),br("selected",(i.selectedFocusArea==null?null:i.selectedFocusArea.id)==="emotional"),D(8),q("ngIf",(i.selectedFocusArea==null?null:i.selectedFocusArea.id)==="emotional"),D(),br("selected",(i.selectedFocusArea==null?null:i.selectedFocusArea.id)==="ethical"),D(8),q("ngIf",(i.selectedFocusArea==null?null:i.selectedFocusArea.id)==="ethical"),D(2),q("disabled",!i.selectedFocusArea),D(),G(" Begin ",(i.selectedFocusArea==null?null:i.selectedFocusArea.name)||"Creative Thinking"," "))},dependencies:[ae,xt],styles:[".focus-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;display:flex;flex-direction:column;align-items:center;min-height:100vh;background-color:#f8f9fa}.title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a1a1a;margin-bottom:1rem;text-align:center}.subtitle[_ngcontent-%COMP%]{font-size:1.25rem;color:#666;margin-bottom:3rem;text-align:center}.focus-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;width:100%;max-width:1000px;margin-bottom:3rem}.focus-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.5rem;box-shadow:0 4px 6px #0000000d;transition:all .3s ease;cursor:pointer;border:2px solid transparent;position:relative;overflow:hidden}.focus-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 15px #0000001a}.focus-card.selected[_ngcontent-%COMP%]{border-color:#4a90e2;background:linear-gradient(135deg,#4a90e21a,#4a90e20d)}.focus-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1rem}.focus-icon[_ngcontent-%COMP%]{font-size:2.5rem;margin-right:1rem}.focus-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a1a1a}.focus-description[_ngcontent-%COMP%]{color:#666;font-size:1rem;line-height:1.5;margin-bottom:1rem}.challenge-focus[_ngcontent-%COMP%]{background:#4a90e21a;border-radius:.5rem;padding:1rem;margin-top:1rem}.challenge-focus[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#4a4a4a;font-size:.9rem;line-height:1.4}.challenge-focus[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a1a1a}.action-button[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:2rem}.begin-button[_ngcontent-%COMP%]{background:#4a90e2;color:#fff;font-size:1.25rem;font-weight:600;padding:1rem 3rem;border-radius:.5rem;border:none;cursor:pointer;transition:all .3s ease}.begin-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#357abd;transform:translateY(-2px)}.begin-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.focus-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.title[_ngcontent-%COMP%]{font-size:2rem}.subtitle[_ngcontent-%COMP%]{font-size:1.1rem}.focus-card[_ngcontent-%COMP%]{padding:1.25rem}.focus-icon[_ngcontent-%COMP%]{font-size:2rem}.focus-title[_ngcontent-%COMP%]{font-size:1.25rem}}"]})}return n})();function X4(n,e){n&1&&(p(0,"div",4)(1,"div",5),y(2," Loading challenge... "),m()())}function Z4(n,e){if(n&1&&(p(0,"div",22)(1,"h3",23),y(2,"Your Previous Response:"),m(),p(3,"p",24),y(4),m()()),n&2){let t=Se(2);D(4),G(" ",t.previousResponses[t.currentRoundNumber-1]," ")}}function e3(n,e){if(n&1){let t=yn();p(0,"button",25),ne("click",function(){Xt(t);let i=Se(2);return Zt(i.navigateBack())}),y(1," Back "),m()}}function t3(n,e){if(n&1){let t=yn();p(0,"div",6)(1,"div",7)(2,"h2",8),y(3),m(),p(4,"p",9),y(5),m()(),p(6,"div",10)(7,"div",11)(8,"div",12),de(9,"div",13),m(),p(10,"div",14),y(11),m()(),Y(12,Z4,5,1,"div",15),p(13,"div",16)(14,"h3",17),y(15,"Your Response:"),m(),p(16,"textarea",18),Be("ngModelChange",function(i){Xt(t);let o=Se();return He(o.userResponse,i)||(o.userResponse=i),Zt(i)}),m()()(),p(17,"div",19),Y(18,e3,2,0,"button",20),p(19,"button",21),ne("click",function(){Xt(t);let i=Se();return Zt(i.submitResponse())}),y(20),m()()()}if(n&2){let t=Se();D(3),G("Round ",t.currentRoundNumber,""),D(2),G(" ",t.currentRound==null?null:t.currentRound.question," "),D(4),Ir("width",t.progress,"%"),D(2),G(" ",t.getFormattedTime()," "),D(),q("ngIf",t.previousResponses[t.currentRoundNumber-1]),D(4),Ue("ngModel",t.userResponse),D(2),q("ngIf",t.currentRoundNumber===1),D(),q("disabled",t.isSubmitting||!t.userResponse.trim()),D(),G(" ",t.isSubmitting?"Submitting...":"Submit Response"," ")}}function n3(n,e){if(n&1&&(p(0,"div",43)(1,"div",11)(2,"span"),y(3),jm(4,"titlecase"),m(),p(5,"span"),y(6),m()(),p(7,"div",44),de(8,"div",13),m()()),n&2){let t=e.$implicit,r=Se(2);D(3),Q(Um(4,4,t)),D(3),G("",r.getMetricValue(t),"%"),D(2),Ir("width",r.getMetricValue(t),"%")}}function r3(n,e){if(n&1&&(p(0,"p",45),y(1),m()),n&2){let t=e.$implicit;D(),G(" ",t," ")}}function i3(n,e){if(n&1&&(p(0,"li",24),y(1),m()),n&2){let t=e.$implicit;D(),G(" ",t," ")}}function o3(n,e){if(n&1&&(p(0,"li",24),y(1),m()),n&2){let t=e.$implicit;D(),G(" ",t," ")}}function s3(n,e){if(n&1&&(p(0,"span",49),y(1),jm(2,"titlecase"),m()),n&2){let t=e.$implicit;D(),G(" ",Um(2,1,t)," ")}}function a3(n,e){if(n&1&&(p(0,"div",46)(1,"h3",38),y(2,"Badges Earned"),m(),p(3,"div",47),Y(4,s3,3,3,"span",48),m()()),n&2){let t=Se(2);D(4),q("ngForOf",t.getBadges())}}function c3(n,e){if(n&1){let t=yn();p(0,"div",6)(1,"div",7)(2,"h2",8),y(3),m()(),p(4,"div",10)(5,"div",26)(6,"div",27)(7,"h3",17),y(8,"Your Performance"),m(),Y(9,n3,9,6,"div",28),m(),p(10,"div",27)(11,"h3",17),y(12,"Feedback"),m(),p(13,"div",29),Y(14,r3,2,1,"p",30),m(),p(15,"h3",31),y(16,"Comparison with AI"),m(),p(17,"div",32)(18,"div",33)(19,"span"),y(20,"Your Score"),m(),p(21,"span",34),y(22),m()(),p(23,"div",35)(24,"span"),y(25,"AI Score"),m(),p(26,"span",34),y(27),m()(),p(28,"p",24)(29,"span",36),y(30,"Advantage: "),m(),y(31),m(),p(32,"p",37),y(33),m()()()(),p(34,"div",26)(35,"div")(36,"h3",38),y(37,"Your Strengths"),m(),p(38,"ul",39),Y(39,i3,2,1,"li",40),m()(),p(40,"div")(41,"h3",38),y(42,"Areas for Improvement"),m(),p(43,"ul",39),Y(44,o3,2,1,"li",40),m()()(),Y(45,a3,5,1,"div",41),m(),p(46,"div",19)(47,"button",42),ne("click",function(){Xt(t);let i=Se();return Zt(i.handleContinue())}),y(48),m()()()}if(n&2){let t=Se();D(3),G("Round ",t.currentRoundNumber," Evaluation"),D(6),q("ngForOf",t.metrics),D(5),q("ngForOf",t.getFeedback()),D(8),G("",t.getComparison().userScore,"%"),D(5),G("",t.getComparison().rivalScore,"%"),D(4),G(" ",t.getComparison().advantage==="user"?"You":t.getComparison().advantage==="rival"?"AI":"Tie"," "),D(2),G(" ",t.getComparison().advantageReason," "),D(6),q("ngForOf",t.getStrengths()),D(5),q("ngForOf",t.getImprovements()),D(),q("ngIf",t.getBadges().length),D(3),G(" ",t.currentRoundNumber===t.maxRounds?"View Results":"Continue to Round "+(t.currentRoundNumber+1)," ")}}function u3(n,e){n&1&&(p(0,"div",50)(1,"div",51)(2,"h3",52),y(3,"AI is analyzing your response"),m(),p(4,"p",53),y(5," The AI is evaluating your response to identify your human edge. "),m()()())}var Ix=(()=>{class n{challengeService;router;route;navigationService;currentRound=null;userResponse="";isSubmitting=!1;roundNumber=1;evaluation=null;showAiThinking=!1;previousResponses={};currentRoundNumber=1;isLoading=!0;maxRounds=4;timeLeft=300;timerInterval;progress=100;metrics=["creativity","practicality","depth","humanEdge","overall"];constructor(t,r,i,o){this.challengeService=t,this.router=r,this.route=i,this.navigationService=o}ngOnInit(){console.log("DynamicRoundComponent initialized"),this.route.params.subscribe(t=>{console.log("Route params:",t);let r=parseInt(t.round,10);console.log("Parsed round number:",r),r?(this.currentRoundNumber=r,this.loadCurrentRound()):(console.error("No round number found in route params"),this.router.navigate(["/focus"]))}),console.log("Current route:",this.route.snapshot.url),console.log("Route config:",this.route.snapshot.routeConfig),this.startTimer()}ngOnDestroy(){this.timerInterval&&clearInterval(this.timerInterval)}startTimer(){this.timeLeft=300,this.progress=100,this.timerInterval=setInterval(()=>{this.timeLeft>0?(this.timeLeft--,this.progress=this.timeLeft/300*100):(clearInterval(this.timerInterval),this.submitResponse())},1e3)}getFormattedTime(){let t=Math.floor(this.timeLeft/60),r=this.timeLeft%60;return`${t}:${r.toString().padStart(2,"0")}`}loadCurrentRound(){return C(this,null,function*(){let t=localStorage.getItem("currentChallengeId");if(!t){console.error("No challenge ID found"),this.router.navigate(["/focus"]);return}this.isLoading=!0,this.evaluation=null,this.userResponse="",this.showAiThinking=!1;try{let r=yield this.challengeService.getChallenge(t);if(!r){console.error("Challenge not found"),this.router.navigate(["/focus"]);return}this.maxRounds=r.questions.length,(!r.rounds||!Array.isArray(r.rounds))&&(r.rounds=[]);let i=r.rounds.find(o=>o.roundNumber===this.currentRoundNumber);i||(i={roundNumber:this.currentRoundNumber,question:r.questions[this.currentRoundNumber-1]||"No question available",answer:""},yield this.challengeService.addRound(t,i)),this.currentRound=i,this.loadPreviousResponses(r)}catch(r){console.error("Error loading round:",r),this.router.navigate(["/focus"])}finally{this.isLoading=!1}})}loadPreviousResponses(t){this.previousResponses={},t.rounds.forEach(r=>{r.roundNumber<this.currentRoundNumber&&r.answer&&(this.previousResponses[r.roundNumber]=r.answer)})}submitResponse(){return C(this,null,function*(){if(!(!this.currentRound||!this.userResponse)){this.isSubmitting=!0,this.showAiThinking=!0;try{let t=localStorage.getItem("currentChallengeId");if(!t)throw new Error("No challenge ID found");this.evaluation=yield this.challengeService.submitResponse(t,this.userResponse)}catch(t){console.error("Error submitting response:",t)}finally{this.isSubmitting=!1,this.showAiThinking=!1}}})}handleContinue(){console.log(`Current round: ${this.currentRoundNumber}, Max rounds: ${this.maxRounds}`),this.currentRoundNumber<this.maxRounds?(console.log("Navigating to next round"),this.navigationService.navigateToNextRound(this.currentRoundNumber,this.maxRounds)):(console.log("Navigating to results page"),this.router.navigate(["/results"]))}getMetricValue(t){return this.evaluation?.evaluation?.metrics&&this.evaluation.evaluation.metrics[t]||0}getFeedback(){return this.evaluation?.evaluation?.feedback||[]}getStrengths(){return this.evaluation?.evaluation?.strengths||[]}getImprovements(){return this.evaluation?.evaluation?.improvements||[]}getBadges(){return this.evaluation?.evaluation?.badges||[]}getComparison(){return this.evaluation?.evaluation?.comparison||{userScore:0,rivalScore:0,advantage:"tie",advantageReason:""}}navigateBack(){this.router.navigate(["/focus"])}static \u0275fac=function(r){return new(r||n)(B(Jh),B(je),B(ot),B(qs))};static \u0275cmp=te({type:n,selectors:[["app-dynamic-round"]],standalone:!0,features:[re],decls:5,vars:4,consts:[[1,"container","mx-auto","px-4","py-8","space-y-8"],["class","flex justify-center items-center min-h-[50vh]",4,"ngIf"],["class","card w-full max-w-4xl mx-auto shadow-lg",4,"ngIf"],["class","fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",4,"ngIf"],[1,"flex","justify-center","items-center","min-h-[50vh]"],[1,"text-lg","text-gray-600","dark:text-gray-300"],[1,"card","w-full","max-w-4xl","mx-auto","shadow-lg"],[1,"card-header"],[1,"text-2xl","font-bold","text-primary"],[1,"text-gray-600","dark:text-gray-300"],[1,"card-content","space-y-6"],[1,"flex","justify-between","items-center"],[1,"progress-bar","w-2/3"],[1,"h-2","bg-primary"],[1,"timer"],["class","border-l-4 border-primary p-4 bg-gray-50 dark:bg-gray-800",4,"ngIf"],[1,"space-y-3"],[1,"font-semibold","text-lg"],["placeholder","Type your response here...",1,"w-full","min-h-[150px]","p-3","border","rounded-lg","resize-y",3,"ngModelChange","ngModel"],[1,"card-footer"],["class","btn btn-outline",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled"],[1,"border-l-4","border-primary","p-4","bg-gray-50","dark:bg-gray-800"],[1,"font-semibold","text-lg","mb-2"],[1,"text-gray-800","dark:text-gray-200"],[1,"btn","btn-outline",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"space-y-4"],["class","space-y-2",4,"ngFor","ngForOf"],[1,"border","p-4","rounded-lg","bg-white","dark:bg-gray-800"],["class","mb-2 text-gray-800 dark:text-gray-200",4,"ngFor","ngForOf"],[1,"font-semibold","text-lg","mt-4"],[1,"border","p-4","rounded-lg","bg-gray-50","dark:bg-gray-800"],[1,"flex","justify-between","items-center","mb-2"],[1,"font-bold"],[1,"flex","justify-between","items-center","mb-4"],[1,"font-semibold"],[1,"text-gray-800","dark:text-gray-200","mt-2"],[1,"font-semibold","text-lg","mb-3"],[1,"list-disc","pl-5","space-y-1"],["class","text-gray-800 dark:text-gray-200",4,"ngFor","ngForOf"],["class","mt-6",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"space-y-2"],[1,"progress-bar"],[1,"mb-2","text-gray-800","dark:text-gray-200"],[1,"mt-6"],[1,"flex","flex-wrap","gap-2"],["class","badge badge-secondary",4,"ngFor","ngForOf"],[1,"badge","badge-secondary"],[1,"fixed","inset-0","bg-black/50","backdrop-blur-sm","flex","items-center","justify-center","z-50"],[1,"bg-white","dark:bg-gray-800","p-8","rounded-lg","max-w-md","w-full","text-center"],[1,"text-xl","font-bold","mb-4"],[1,"mt-4","text-gray-600","dark:text-gray-300"]],template:function(r,i){r&1&&(p(0,"div",0),Y(1,X4,3,0,"div",1)(2,t3,21,10,"div",2)(3,c3,49,11,"div",2)(4,u3,6,0,"div",3),m()),r&2&&(D(),q("ngIf",i.isLoading),D(),q("ngIf",!i.isLoading&&!i.evaluation),D(),q("ngIf",i.evaluation),D(),q("ngIf",i.showAiThinking))},dependencies:[ae,Je,xt,FE,Wt,bn,En,cn],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:800px;margin:0 auto;padding:20px}.challenge-container[_ngcontent-%COMP%]{background-color:var(--surface-color);border-radius:12px;padding:24px;box-shadow:0 4px 12px #0000001a;margin-bottom:24px}.challenge-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:16px;color:var(--text-primary)}.challenge-description[_ngcontent-%COMP%]{font-size:18px;line-height:1.5;margin-bottom:24px;color:var(--text-secondary)}.steps-container[_ngcontent-%COMP%]{margin-bottom:24px}.step-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px;font-size:16px;color:var(--text-secondary)}.step-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;background-color:var(--primary-color);color:#fff;margin-right:12px;font-weight:600}.response-container[_ngcontent-%COMP%]{margin-bottom:24px}.response-label[_ngcontent-%COMP%]{display:block;font-size:18px;font-weight:500;margin-bottom:12px;color:var(--text-primary)}.response-textarea[_ngcontent-%COMP%]{width:100%;min-height:200px;padding:16px;border-radius:8px;border:1px solid var(--border-color);background-color:var(--input-bg);color:var(--text-primary);font-size:16px;line-height:1.5;resize:vertical}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:14px;background-color:var(--primary-color);color:#fff;border:none;border-radius:8px;font-size:18px;font-weight:600;cursor:pointer;transition:background-color .2s}.submit-button[_ngcontent-%COMP%]:hover{background-color:var(--primary-color-dark)}.submit-button[_ngcontent-%COMP%]:disabled{background-color:var(--disabled-color);cursor:not-allowed}.ai-thinking[_ngcontent-%COMP%]{text-align:center;margin:24px 0;color:var(--text-secondary)}.evaluation-container[_ngcontent-%COMP%]{background-color:var(--surface-color);border-radius:12px;padding:24px;box-shadow:0 4px 12px #0000001a;margin-top:24px}.evaluation-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-bottom:16px;color:var(--text-primary)}.metrics-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:16px;margin-bottom:24px}.metric-item[_ngcontent-%COMP%]{background-color:var(--card-bg);border-radius:8px;padding:16px;text-align:center}.metric-label[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin-bottom:8px}.metric-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--primary-color)}.feedback-container[_ngcontent-%COMP%]{margin-bottom:24px}.feedback-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-bottom:12px;color:var(--text-primary)}.feedback-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.feedback-item[_ngcontent-%COMP%]{padding:12px;background-color:var(--card-bg);border-radius:8px;margin-bottom:8px;color:var(--text-secondary)}.continue-button[_ngcontent-%COMP%]{display:block;width:100%;padding:14px;background-color:var(--secondary-color);color:#fff;border:none;border-radius:8px;font-size:18px;font-weight:600;cursor:pointer;transition:background-color .2s}.continue-button[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-dark)}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px}.previous-responses[_ngcontent-%COMP%]{margin-bottom:24px}.previous-response-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-bottom:12px;color:var(--text-primary)}.previous-response-item[_ngcontent-%COMP%]{background-color:var(--card-bg);border-radius:8px;padding:16px;margin-bottom:12px}.previous-response-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-secondary);margin-bottom:8px}.previous-response-content[_ngcontent-%COMP%]{font-size:16px;line-height:1.5;color:var(--text-primary)}.card[_ngcontent-%COMP%]{border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.5rem}@media (prefers-color-scheme: dark){.card[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}}.card-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.card-content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.card-footer[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;align-items:center;justify-content:space-between}.progress-bar[_ngcontent-%COMP%]{height:.5rem;width:100%;overflow:hidden;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.progress-bar[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}}.progress-bar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%;background-color:var(--primary-color)}.timer[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem;font-weight:600;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}@media (prefers-color-scheme: dark){.timer[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}}.btn[_ngcontent-%COMP%]{border-radius:.5rem;padding:.5rem 1rem;font-weight:500}.btn.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-color);--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.btn.btn-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.btn.btn-primary[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.btn.btn-outline[_ngcontent-%COMP%]{border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.btn.btn-outline[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.btn.btn-outline[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.btn.btn-outline[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}}.badge[_ngcontent-%COMP%]{border-radius:9999px;padding:.25rem .75rem;font-size:.875rem;line-height:1.25rem;font-weight:500}.badge.badge-secondary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}@media (prefers-color-scheme: dark){.badge.badge-secondary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}}.previous-response[_ngcontent-%COMP%]{border-left-width:4px;border-color:var(--primary-color);--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));padding:1rem}@media (prefers-color-scheme: dark){.previous-response[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}}textarea[_ngcontent-%COMP%]{min-height:150px;width:100%;resize:vertical;border-radius:.5rem;border-width:1px;padding:.75rem}textarea[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.loading-state[_ngcontent-%COMP%]{display:flex;min-height:50vh;align-items:center;justify-content:center}.ai-thinking-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:50;display:flex;align-items:center;justify-content:center;background-color:#00000080;--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}"]})}return n})();var bx=(()=>{class n{http;firestore;roundEvaluationService;CLOUD_FUNCTION_URL=`${sr.apiUrl}/processRequest`;MAX_RETRIES=3;TIMEOUT_MS=3e4;RESULTS_COLLECTION="final_results";constructor(t,r,i){this.http=t,this.firestore=r,this.roundEvaluationService=i}analyzeResults(t,r){return ke(this.getCachedResults(t,r)).pipe(pt(i=>i?Z(i):ke(this.fetchRoundEvaluations(t,r)).pipe(pt(o=>ke(this.generateFinalReport(t,r,o))))))}getCachedResults(t,r){return C(this,null,function*(){try{let i=Hc(this.firestore,this.RESULTS_COLLECTION),o=Fh(i,zc("userId","==",t),zc("challengeId","==",r)),s=yield kh(o);return s.empty?null:s.docs[0].data()}catch(i){return console.error("Error fetching cached results:",i),null}})}fetchRoundEvaluations(t,r){return C(this,null,function*(){let i=[];for(let o=1;o<=3;o++)try{let s=fo(this.firestore,`challenges/${r}/rounds/${o}/evaluations/${t}`),a=yield Oh(s);if(a.exists()){let u=a.data();i.push(u)}else console.warn(`No evaluation found for round ${o}`),i.push(this.createDefaultEvaluation(t,r,o))}catch(s){console.error(`Error fetching evaluation for round ${o}:`,s),i.push(this.createDefaultEvaluation(t,r,o))}return i})}generateFinalReport(t,r,i){return C(this,null,function*(){try{let o=this.createAnalysisRequest(t,r,i),s=yield this.callCloudFunctionWithRetry(o),a=JSON.parse(s.data.choices[0].message.content);return yield this.cacheResults(t,r,a),a}catch(o){return console.error("Error generating final report:",o),this.createDefaultFinalResults(i)}})}callCloudFunctionWithRetry(t){return C(this,null,function*(){let r=0,i=null;for(;r<this.MAX_RETRIES;)try{let o=yield this.http.post(this.CLOUD_FUNCTION_URL,t).pipe(fa(this.TIMEOUT_MS),ma(1),ln(s=>(console.error(`Attempt ${r+1} failed:`,s),i=s,jn(s)))).toPromise();if(!o||!o.success)throw new Error("No valid response from analysis service");return o}catch(o){if(i=o,r++,r<this.MAX_RETRIES){let s=Math.pow(2,r)*1e3;console.log(`Retrying in ${s}ms... (Attempt ${r+1}/${this.MAX_RETRIES})`),yield new Promise(a=>setTimeout(a,s))}}throw i||new Error("Failed to get a valid analysis response after multiple attempts")})}createAnalysisRequest(t,r,i){let o={role:"system",content:`You are an AI analyst that evaluates a user's performance across multiple rounds of a challenge.

      IMPORTANT INSTRUCTIONS:
      1. Analyze the user's performance across all rounds based on the provided evaluations.
      2. Your response MUST be a JSON object with the following structure:
         {
           "overallScore": number (0-100),
           "focusArea": {
             "name": string,
             "description": string
           },
           "rounds": {
             "round1": {
               "score": number (0-100),
               "strengths": string[],
               "areas": string[],
               "comparison": {
                 "humanScore": number (0-100),
                 "aiScore": number (0-100),
                 "difference": number
               }
             },
             "round2": { ... same structure as round1 ... },
             "round3": { ... same structure as round1 ... }
           },
           "badges": [
             {
               "name": string,
               "icon": string (emoji),
               "description": string
             }
           ],
           "insights": string[],
           "recommendations": string[]
         }
      3. Calculate the overall score based on the average of all round scores.
      4. Identify a focus area where the user needs the most improvement.
      5. For each round, extract strengths and areas for improvement from the evaluations.
      6. Calculate the comparison between human and AI scores for each round.
      7. Award badges based on the user's performance across all rounds.
      8. Provide 3-5 key insights about the user's performance.
      9. Provide 3-5 actionable recommendations for improvement.`},s={role:"user",content:`Analyze the following evaluations for a user (${t}) in challenge (${r}):
        ${JSON.stringify(i,null,2)}`};return{model:"gpt-4o",messages:[o,s],temperature:.4}}cacheResults(t,r,i){return C(this,null,function*(){try{let o=`${t}_${r}`,s=pe(V({},i),{userId:t,challengeId:r,timestamp:new Date().toISOString()});yield Vh(fo(this.firestore,this.RESULTS_COLLECTION,o),s)}catch(o){console.error("Error caching results:",o)}})}createDefaultEvaluation(t,r,i){return{metrics:{creativity:50,practicality:50,depth:50,humanEdge:50,overall:50},feedback:["No evaluation data available for this round.","Your response has been recorded, but we couldn't generate a detailed evaluation at this time."],strengths:["Your participation is appreciated."],improvements:["Try providing more detailed responses in the future.","Consider expanding on your thoughts with specific examples."],comparison:{userScore:50,rivalScore:50,advantage:"tie",advantageReason:"Evaluation could not be completed at this time."},badges:["Participant"]}}createDefaultFinalResults(t){let r=t.map(u=>u.metrics.overall),i=r.length>0?r.reduce((u,l)=>u+l,0)/r.length:50,o={name:"General Improvement",description:"Focus on developing a balanced approach to all aspects of your responses."},s={};t.forEach((u,l)=>{let h=`round${l+1}`;s[h]={score:u.metrics.overall,strengths:u.strengths,areas:u.improvements,comparison:{humanScore:u.comparison.userScore,aiScore:u.comparison.rivalScore,difference:u.comparison.userScore-u.comparison.rivalScore}}});let a=[{name:"Participant",icon:"\u{1F3C6}",description:"You completed the challenge!"}];return i>=80?a.push({name:"Excellence",icon:"\u{1F31F}",description:"Outstanding performance across all rounds!"}):i>=60&&a.push({name:"Proficiency",icon:"\u2B50",description:"Good performance with room for improvement."}),{overallScore:Math.round(i),focusArea:o,rounds:s,badges:a,insights:["Your performance shows potential for growth.","Consistency across rounds is important for improvement.","Consider the feedback from each round to enhance your approach."],recommendations:["Practice responding to similar challenges to build your skills.","Take time to reflect on your performance after each round.","Focus on the areas identified for improvement in future challenges."]}}static \u0275fac=function(r){return new(r||n)(F(xr),F($t),F(Yh))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d3(n,e){n&1&&(p(0,"div",5),de(1,"div",6),m())}function h3(n,e){n&1&&(p(0,"div",7)(1,"h2",8),y(2,"Unable to Load Results"),m(),p(3,"p",9),y(4,"We encountered an issue loading your results. Please try again later."),m(),p(5,"button",10),y(6," Return to Dashboard "),m()())}function f3(n,e){if(n&1&&(p(0,"li"),y(1),m()),n&2){let t=e.$implicit;D(),Q(t)}}function p3(n,e){if(n&1&&(p(0,"li"),y(1),m()),n&2){let t=e.$implicit;D(),Q(t)}}function m3(n,e){if(n&1&&(Kn(0),p(1,"div",32)(2,"h3",33),y(3),m(),p(4,"div",34),y(5),m(),p(6,"div",26)(7,"div")(8,"h4",35),y(9,"Strengths"),m(),p(10,"ul",36),Y(11,f3,2,1,"li",22),m()(),p(12,"div")(13,"h4",35),y(14,"Areas for Improvement"),m(),p(15,"ul",36),Y(16,p3,2,1,"li",22),m()(),p(17,"div",37)(18,"h4",35),y(19,"Human vs AI Comparison"),m(),p(20,"div",38)(21,"span",39),y(22,"You"),m(),p(23,"span",40),y(24),m()(),p(25,"div",38)(26,"span",39),y(27,"AI"),m(),p(28,"span",41),y(29),m()(),p(30,"div",42),y(31),m()()()(),Qn()),n&2){let t=e.$implicit,r=Se(2);D(3),G("Round ",t.slice(-1),""),D(2),G("",r.results.rounds[t].score,"%"),D(6),q("ngForOf",r.results.rounds[t].strengths),D(5),q("ngForOf",r.results.rounds[t].areas),D(8),G("",r.results.rounds[t].comparison.humanScore,"%"),D(5),G("",r.results.rounds[t].comparison.aiScore,"%"),D(2),Bi(" Difference: ",r.results.rounds[t].comparison.difference>0?"+":"","",r.results.rounds[t].comparison.difference,"% ")}}function g3(n,e){if(n&1&&(p(0,"div",43)(1,"div",44),y(2),m(),p(3,"h3",45),y(4),m(),p(5,"p",39),y(6),m()()),n&2){let t=e.$implicit;D(2),Q(t.icon),D(2),Q(t.name),D(2),Q(t.description)}}function y3(n,e){if(n&1&&(p(0,"li",46)(1,"span",47),y(2,"\u2022"),m(),p(3,"span",19),y(4),m()()),n&2){let t=e.$implicit;D(4),Q(t)}}function v3(n,e){if(n&1&&(p(0,"li",46)(1,"span",47),y(2,"\u2022"),m(),p(3,"span",19),y(4),m()()),n&2){let t=e.$implicit;D(4),Q(t)}}function _3(n,e){if(n&1&&(Kn(0),p(1,"div",11)(2,"div",12)(3,"h1",13),y(4,"Your AI Fight Club Performance"),m(),p(5,"div",14),y(6),m(),p(7,"p",15),y(8,"Overall Score"),m()()(),p(9,"div",11)(10,"h2",16),y(11,"Focus Area"),m(),p(12,"div",17)(13,"h3",18),y(14),m(),p(15,"p",19),y(16),m()()(),p(17,"div",11)(18,"h2",20),y(19,"Round Performance"),m(),p(20,"div",21),Y(21,m3,32,8,"ng-container",22),m()(),p(22,"div",11)(23,"h2",20),y(24,"Your Badges"),m(),p(25,"div",21),Y(26,g3,7,3,"div",23),m()(),p(27,"div",24)(28,"div",25)(29,"h2",16),y(30,"Key Insights"),m(),p(31,"ul",26),Y(32,y3,5,1,"li",27),m()(),p(33,"div",25)(34,"h2",16),y(35,"Recommendations"),m(),p(36,"ul",26),Y(37,v3,5,1,"li",27),m()()(),p(38,"div",28)(39,"button",29),y(40," Share Results "),m(),p(41,"button",30),y(42," View Dashboard "),m(),p(43,"button",31),y(44," Start New Challenge "),m()(),Qn()),n&2){let t=Se();D(6),G("",t.results.overallScore,"%"),D(8),Q(t.results.focusArea.name),D(2),Q(t.results.focusArea.description),D(5),q("ngForOf",t.rounds),D(5),q("ngForOf",t.results.badges),D(6),q("ngForOf",t.results.insights),D(5),q("ngForOf",t.results.recommendations)}}var Ex=(()=>{class n{resultsAnalysisService;route;results;rounds=["round1","round2","round3"];loading=!0;error=!1;constructor(t,r){this.resultsAnalysisService=t,this.route=r}ngOnInit(){let t=localStorage.getItem("mereka_user_id"),r=localStorage.getItem("currentChallengeId");console.log("userId",t),console.log("challengeId",r),localStorage.removeItem("currentChallengeId"),t&&r?this.loadResults(t,r):(console.log("No userId or challengeId found"),this.error=!0,this.loading=!1)}loadResults(t,r){this.loading=!0,this.error=!1,this.resultsAnalysisService.analyzeResults(t,r).subscribe({next:i=>{this.results=i,this.loading=!1},error:i=>{console.error("Error loading results:",i),this.error=!0,this.loading=!1}})}static \u0275fac=function(r){return new(r||n)(B(bx),B(ot))};static \u0275cmp=te({type:n,selectors:[["app-results"]],standalone:!0,features:[re],decls:5,vars:3,consts:[[1,"min-h-screen","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-7xl","mx-auto"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-lg p-8 text-center",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],[1,"animate-spin","rounded-full","h-16","w-16","border-t-2","border-b-2","border-indigo-600"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-8","text-center"],[1,"text-2xl","font-bold","text-red-800","mb-4"],[1,"text-red-600","mb-6"],["routerLink","/dashboard",1,"bg-red-600","text-white","px-6","py-3","rounded-lg","font-semibold","hover:bg-red-700","transition-colors"],[1,"bg-white","rounded-lg","shadow-lg","p-8","mb-8"],[1,"text-center"],[1,"text-4xl","font-bold","text-gray-900","mb-4"],[1,"text-6xl","font-bold","text-indigo-600","mb-4"],[1,"text-xl","text-gray-600"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"bg-indigo-50","rounded-lg","p-6"],[1,"text-xl","font-semibold","text-indigo-900","mb-2"],[1,"text-gray-700"],[1,"text-2xl","font-bold","text-gray-900","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[4,"ngFor","ngForOf"],["class","bg-gray-50 rounded-lg p-6 text-center",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","mb-8"],[1,"bg-white","rounded-lg","shadow-lg","p-8"],[1,"space-y-4"],["class","flex items-start",4,"ngFor","ngForOf"],[1,"flex","justify-center","space-x-4"],["routerLink","/share",1,"bg-indigo-600","text-white","px-6","py-3","rounded-lg","font-semibold","hover:bg-indigo-700","transition-colors"],["routerLink","/dashboard",1,"bg-gray-200","text-gray-900","px-6","py-3","rounded-lg","font-semibold","hover:bg-gray-300","transition-colors"],["routerLink","/challenges",1,"bg-green-600","text-white","px-6","py-3","rounded-lg","font-semibold","hover:bg-green-700","transition-colors"],[1,"bg-gray-50","rounded-lg","p-6"],[1,"text-xl","font-semibold","text-gray-900","mb-4"],[1,"text-3xl","font-bold","text-indigo-600","mb-4"],[1,"font-medium","text-gray-900","mb-2"],[1,"list-disc","list-inside","text-gray-600"],[1,"border-t","pt-4"],[1,"flex","justify-between","items-center"],[1,"text-gray-600"],[1,"text-lg","font-semibold","text-indigo-600"],[1,"text-lg","font-semibold","text-gray-600"],[1,"text-sm","text-gray-500","mt-2"],[1,"bg-gray-50","rounded-lg","p-6","text-center"],[1,"text-4xl","mb-4"],[1,"text-xl","font-semibold","text-gray-900","mb-2"],[1,"flex","items-start"],[1,"text-indigo-600","mr-2"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1),Y(2,d3,2,0,"div",2)(3,h3,7,0,"div",3)(4,_3,45,7,"ng-container",4),m()()),r&2&&(D(2),q("ngIf",i.loading),D(),q("ngIf",i.error),D(),q("ngIf",!i.loading&&!i.error&&i.results))},dependencies:[ae,Je,xt,$e,At],styles:["[_nghost-%COMP%]{display:block}.badge-icon[_ngcontent-%COMP%]{font-size:2.5rem;line-height:1}.insight-bullet[_ngcontent-%COMP%]{color:var(--ai-purple)}.recommendation-bullet[_ngcontent-%COMP%]{color:var(--ai-blue)}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}return n})();var Xh=(()=>{class n{http;roundData=new Map;profileId=null;apiUrl=sr.apiUrl;challenges={1:{id:"challenge-1",description:"Analyze the given scenario and identify potential patterns or trends that could impact decision-making."},2:{id:"challenge-2",description:"Based on the patterns identified in Round 1, propose innovative solutions that leverage both human insight and AI capabilities."},3:{id:"challenge-3",description:"Consider the ethical implications of your proposed solutions and how they balance efficiency with human values."}};responses={"challenge-1":"The AI analyzes the data and identifies several key patterns: increasing complexity in decision-making processes, growing importance of human intuition in uncertain scenarios, and the need for balanced human-AI collaboration.","challenge-2":"Based on the patterns, I recommend implementing a hybrid decision-making system that combines AI data analysis with human expertise. This approach ensures both efficiency and adaptability.","challenge-3":"While AI can process vast amounts of data quickly, human oversight remains crucial for ethical considerations and ensuring decisions align with societal values and cultural norms."};constructor(t){this.http=t}generateChallenge(t){return C(this,null,function*(){return this.challenges[t]||{id:`challenge-${t}`,description:"Default challenge description"}})}generateAIResponse(t){return C(this,null,function*(){return this.responses[t]||"AI response not available."})}getRoundData(t){return this.roundData.get(t)||{}}submitResponse(t){return C(this,null,function*(){this.roundData.set(t.round,{response:t.response});let r=yield this.evaluateResponse(t.round,t.response,t.challengeId,t.aiResponse);return this.roundData.set(t.round,pe(V({},this.roundData.get(t.round)),{evaluation:r})),r})}evaluateResponse(t,r,i,o){return C(this,null,function*(){let s=Math.floor(Math.random()*30)+70,a=Math.floor(Math.random()*30)+70,u=s>a?"user":s<a?"rival":"tie";return{metrics:{creativity:Math.floor(Math.random()*30)+70,practicality:Math.floor(Math.random()*30)+70,depth:Math.floor(Math.random()*30)+70,humanEdge:Math.floor(Math.random()*30)+70,overall:Math.floor(Math.random()*30)+70},feedback:["Excellent use of critical thinking","Strong consideration of multiple perspectives","Clear articulation of ideas"],strengths:["Creative problem-solving approach","Strong analytical skills","Clear communication"],improvements:["Consider more diverse scenarios","Expand on practical implementation details","Deepen analysis of long-term impacts"],comparison:{userScore:s,rivalScore:a,advantage:u,advantageReason:"Your response showed exceptional creativity and human insight."},badges:["Creative Thinker","Problem Solver","Strategic Mind"]}})}generateProfile(t){return C(this,null,function*(){return{id:"profile-"+Math.random().toString(36).substr(2,9),badges:["Strategic Thinker","Innovation Champion","Ethical Leader"],strengths:["Strong analytical capabilities","Creative problem-solving","Balanced decision-making"],weaknesses:["Could expand on implementation details","May need more diverse perspectives","Consider broader implications"],recommendations:["Focus on practical applications","Develop more comprehensive solutions","Strengthen ethical considerations"]}})}saveProfileId(t){return C(this,null,function*(){this.profileId=t})}getResults(){let t=this.getRoundData(1),r=this.getRoundData(2),i=this.getRoundData(3),o={overallScore:Math.floor(((t.evaluation?.metrics?.overall??0)+(r.evaluation?.metrics?.overall??0)+(i.evaluation?.metrics?.overall??0))/3),focusArea:{name:"Creative Problem Solving",description:"Your ability to approach problems with innovative and unique solutions"},rounds:{round1:{score:t.evaluation?.metrics.overall||0,strengths:t.evaluation?.strengths||[],areas:t.evaluation?.improvements||[],comparison:{humanScore:t.evaluation?.comparison.userScore||0,aiScore:t.evaluation?.comparison.rivalScore||0,difference:(t.evaluation?.comparison.userScore||0)-(t.evaluation?.comparison.rivalScore||0)}},round2:{score:r.evaluation?.metrics.overall||0,strengths:r.evaluation?.strengths||[],areas:r.evaluation?.improvements||[],comparison:{humanScore:r.evaluation?.comparison.userScore||0,aiScore:r.evaluation?.comparison.rivalScore||0,difference:(r.evaluation?.comparison.userScore||0)-(r.evaluation?.comparison.rivalScore||0)}},round3:{score:i.evaluation?.metrics.overall||0,strengths:i.evaluation?.strengths||[],areas:i.evaluation?.improvements||[],comparison:{humanScore:i.evaluation?.comparison.userScore||0,aiScore:i.evaluation?.comparison.rivalScore||0,difference:(i.evaluation?.comparison.userScore||0)-(i.evaluation?.comparison.rivalScore||0)}}},badges:[{id:"creative-master",name:"Creative Master",description:"Demonstrated exceptional creative problem-solving abilities",icon:"\u{1F3A8}"},{id:"analytical-genius",name:"Analytical Genius",description:"Showed outstanding analytical and logical thinking",icon:"\u{1F9E0}"},{id:"communication-pro",name:"Communication Pro",description:"Excellent communication and articulation skills",icon:"\u{1F4AC}"}],insights:["Your creative approach consistently outperformed AI solutions","You showed strong adaptability across different challenge types","Your communication skills helped convey complex ideas effectively"],recommendations:["Consider exploring more technical aspects in your solutions","Try incorporating more quantitative analysis in your approach","Continue developing your pattern recognition skills"]};return Z(o)}getDashboardData(){let t={level:3,overallProgress:75,challengesCompleted:12,totalBadges:5,streakDays:7,skillLevels:{"critical-thinking":4,"problem-solving":3,communication:5,creativity:4,analytical:3,strategic:4},recentChallenges:[{title:"AI vs Human Decision Making",score:85,focusArea:"Critical Thinking",date:"2023-05-15"},{title:"Ethical AI Implementation",score:92,focusArea:"Problem Solving",date:"2023-05-10"},{title:"Future of Work",score:78,focusArea:"Strategic",date:"2023-05-05"}],badges:[{name:"Critical Thinker",description:"Achieved high scores in critical thinking challenges",date:"2023-05-01"},{name:"Problem Solver",description:"Successfully completed 10 challenges",date:"2023-04-28"},{name:"Communication Pro",description:"Demonstrated excellent communication skills",date:"2023-04-25"},{name:"Creative Mind",description:"Showed exceptional creativity in solutions",date:"2023-04-20"},{name:"Strategic Planner",description:"Achieved high scores in strategic challenges",date:"2023-04-15"}]};return Promise.resolve(t)}static \u0275fac=function(r){return new(r||n)(F(xr))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Dx=(()=>{class n{gameService;results;shareUrl="";constructor(t){this.gameService=t}ngOnInit(){this.results=this.gameService.getResults(),this.shareUrl=window.location.href}shareOnTwitter(){let t=`I scored ${this.results?.overallScore}% in the AI Fight Club! Can you beat my score?`,r=`https://twitter.com/intent/tweet?text=${encodeURIComponent(t)}&url=${encodeURIComponent(this.shareUrl)}`;window.open(r,"_blank")}shareOnLinkedIn(){let t=`I scored ${this.results?.overallScore}% in the AI Fight Club! Can you beat my score?`,r=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(this.shareUrl)}`;window.open(r,"_blank")}copyToClipboard(){return C(this,null,function*(){try{yield navigator.clipboard.writeText(this.shareUrl),alert("Link copied to clipboard!")}catch(t){console.error("Failed to copy text: ",t)}})}static \u0275fac=function(r){return new(r||n)(B(Xh))};static \u0275cmp=te({type:n,selectors:[["app-share"]],standalone:!0,features:[re],decls:34,vars:2,consts:[[1,"min-h-screen","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-3xl","mx-auto"],[1,"bg-white","rounded-lg","shadow-lg","p-8","mb-8"],[1,"text-center"],[1,"text-3xl","font-bold","text-gray-900","mb-4"],[1,"text-lg","text-gray-600","mb-8"],[1,"bg-indigo-50","rounded-lg","p-6","mb-8"],[1,"text-5xl","font-bold","text-indigo-600","mb-2"],[1,"text-xl","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-8"],[1,"flex","items-center","justify-center","space-x-2","bg-[#1DA1F2]","text-white","px-6","py-3","rounded-lg","font-semibold","hover:bg-[#1a8cd8]","transition-colors",3,"click"],["fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["d","M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"],[1,"flex","items-center","justify-center","space-x-2","bg-[#0A66C2]","text-white","px-6","py-3","rounded-lg","font-semibold","hover:bg-[#094ea3]","transition-colors",3,"click"],["d","M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"],[1,"mb-8"],[1,"flex","items-center","space-x-2"],["type","text","readonly","",1,"flex-1","p-3","border","rounded-lg","bg-gray-50",3,"value"],[1,"bg-gray-200","text-gray-800","px-4","py-3","rounded-lg","font-semibold","hover:bg-gray-300","transition-colors",3,"click"],[1,"flex","justify-center","space-x-4"],["routerLink","/results",1,"bg-gray-200","text-gray-800","px-6","py-3","rounded-lg","font-semibold","hover:bg-gray-300","transition-colors"],["routerLink","/",1,"bg-indigo-600","text-white","px-6","py-3","rounded-lg","font-semibold","hover:bg-indigo-700","transition-colors"]],template:function(r,i){if(r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),y(5,"Share Your Results"),m(),p(6,"p",5),y(7,"Share your AI Fight Club performance with others!"),m(),p(8,"div",6)(9,"div",7),y(10),m(),p(11,"p",8),y(12,"Overall Score"),m()(),p(13,"div",9)(14,"button",10),ne("click",function(){return i.shareOnTwitter()}),Aa(),p(15,"svg",11),de(16,"path",12),m(),Ma(),p(17,"span"),y(18,"Share on Twitter"),m()(),p(19,"button",13),ne("click",function(){return i.shareOnLinkedIn()}),Aa(),p(20,"svg",11),de(21,"path",14),m(),Ma(),p(22,"span"),y(23,"Share on LinkedIn"),m()()(),p(24,"div",15)(25,"div",16),de(26,"input",17),p(27,"button",18),ne("click",function(){return i.copyToClipboard()}),y(28," Copy Link "),m()()(),p(29,"div",19)(30,"button",20),y(31," Back to Results "),m(),p(32,"button",21),y(33," Start New Challenge "),m()()()()()()),r&2){let o;D(10),G("",(o=i.results==null?null:i.results.overallScore)!==null&&o!==void 0?o:0,"%"),D(16),q("value",i.shareUrl)}},dependencies:[ae,$e,At],styles:["[_nghost-%COMP%]{display:block}"]})}return n})();function w3(n,e){if(n&1&&(p(0,"div",24)(1,"div",25)(2,"h3",26),y(3),m(),p(4,"span",27),y(5),m()(),p(6,"div",28),de(7,"div",29),m()()),n&2){let t=e.$implicit;D(3),Q(t.name),D(2),G("Level ",t.level,""),D(2),Ir("width",t.progress,"%")}}function I3(n,e){if(n&1&&(p(0,"div",24)(1,"div",30)(2,"h3",26),y(3),m(),p(4,"span",31),y(5),m()(),p(6,"div",32),y(7),m(),p(8,"div",33),y(9),m()()),n&2){let t=e.$implicit,r=Se();D(3),Q(t.title),D(2),G("",t.score,"%"),D(2),G("Focus: ",t.focusArea,""),D(2),Q(r.formatDate(t.date))}}function b3(n,e){if(n&1&&(p(0,"div",7)(1,"div",34),y(2,"\u{1F3C6}"),m(),p(3,"h3",35),y(4),m(),p(5,"p",32),y(6),m(),p(7,"div",33),y(8),m()()),n&2){let t=e.$implicit,r=Se();D(4),Q(t.name),D(2),Q(t.description),D(2),G("Earned ",r.formatDate(t.date),"")}}var Tx=(()=>{class n{gameService;dashboardData={level:1,overallProgress:0,challengesCompleted:0,totalBadges:0,streakDays:0,skillLevels:[],recentChallenges:[],badges:[]};constructor(t){this.gameService=t}ngOnInit(){this.loadDashboardData()}loadDashboardData(){return C(this,null,function*(){try{let t=yield this.gameService.getDashboardData();this.dashboardData=pe(V({},t),{skillLevels:this.transformSkillLevels(t.skillLevels),recentChallenges:t.recentChallenges.map(r=>pe(V({},r),{date:new Date(r.date)})),badges:t.badges.map(r=>pe(V({},r),{date:new Date(r.date)}))})}catch(t){console.error("Error loading dashboard data:",t)}})}transformSkillLevels(t){return Object.entries(t).map(([r,i])=>({name:this.formatSkillName(r),level:i,progress:this.calculateSkillProgress(i)}))}formatSkillName(t){return t.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}calculateSkillProgress(t){return t/10*100}formatDate(t){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(t)}static \u0275fac=function(r){return new(r||n)(B(Xh))};static \u0275cmp=te({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[re],decls:57,vars:9,consts:[[1,"min-h-screen","bg-gray-50","p-6"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"bg-gradient-to-r","from-indigo-600","to-indigo-500","text-white","px-6","py-3","rounded-full","font-semibold"],[1,"text-xl"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-8"],[1,"bg-white","rounded-xl","shadow-sm","p-6","text-center"],[1,"relative","w-32","h-32","mx-auto","mb-4"],["viewBox","0 0 36 36",1,"w-full","h-full"],["d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831","fill","none","stroke","#E5E7EB","stroke-width","3"],["d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831","fill","none","stroke","#4F46E5","stroke-width","3"],[1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"grid","grid-cols-2","gap-4"],[1,"block","text-3xl","font-bold","text-indigo-600","mb-2"],[1,"mb-8"],[1,"text-2xl","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["class","bg-white rounded-xl shadow-sm p-6",4,"ngFor","ngForOf"],["class","bg-white rounded-xl shadow-sm p-6 text-center",4,"ngFor","ngForOf"],[1,"flex","justify-center","gap-4"],["routerLink","/focus",1,"bg-indigo-600","text-white","px-6","py-3","rounded-lg","font-semibold","hover:bg-indigo-700","transition-colors"],["routerLink","/results",1,"bg-gray-200","text-gray-900","px-6","py-3","rounded-lg","font-semibold","hover:bg-gray-300","transition-colors"],[1,"bg-white","rounded-xl","shadow-sm","p-6"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-indigo-600","font-semibold"],[1,"h-2","bg-gray-200","rounded-full","overflow-hidden"],[1,"h-full","bg-gradient-to-r","from-indigo-600","to-indigo-500"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-green-600","font-semibold"],[1,"text-gray-600","text-sm","mb-2"],[1,"text-gray-500","text-sm"],[1,"text-4xl","mb-4"],[1,"text-lg","font-semibold","text-gray-900","mb-2"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),y(4,"Dashboard"),m(),p(5,"p",3),y(6,"Track your progress and achievements"),m()(),p(7,"div",4),y(8," Level "),p(9,"span",5),y(10),m()()(),p(11,"div",6)(12,"div",7)(13,"div",8),Aa(),p(14,"svg",9),de(15,"path",10)(16,"path",11),m(),Ma(),p(17,"div",12),y(18),m()(),p(19,"h3",13),y(20,"Overall Progress"),m()(),p(21,"div",14)(22,"div",7)(23,"span",15),y(24),m(),p(25,"span",13),y(26,"Challenges Completed"),m()(),p(27,"div",7)(28,"span",15),y(29),m(),p(30,"span",13),y(31,"Badges Earned"),m()(),p(32,"div",7)(33,"span",15),y(34),m(),p(35,"span",13),y(36,"Day Streak"),m()()()(),p(37,"div",16)(38,"h2",17),y(39,"Skills Development"),m(),p(40,"div",18),Y(41,w3,8,4,"div",19),m()(),p(42,"div",16)(43,"h2",17),y(44,"Recent Challenges"),m(),p(45,"div",18),Y(46,I3,10,4,"div",19),m()(),p(47,"div",16)(48,"h2",17),y(49,"Earned Badges"),m(),p(50,"div",18),Y(51,b3,9,3,"div",20),m()(),p(52,"div",21)(53,"button",22),y(54," Start New Challenge "),m(),p(55,"button",23),y(56," View Detailed Results "),m()()()),r&2&&(D(10),Q(i.dashboardData.level),D(6),ti("stroke-dasharray",i.dashboardData.overallProgress+", 100"),D(2),G(" ",i.dashboardData.overallProgress,"% "),D(6),Q(i.dashboardData.challengesCompleted),D(5),Q(i.dashboardData.totalBadges),D(5),Q(i.dashboardData.streakDays),D(7),q("ngForOf",i.dashboardData.skillLevels),D(5),q("ngForOf",i.dashboardData.recentChallenges),D(5),q("ngForOf",i.dashboardData.badges))},dependencies:[ae,Je,$e,At],styles:['.dashboard-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f9fafb;padding:2rem}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1rem}}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#111827;margin-bottom:.5rem}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:1.1rem}.dashboard-header[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4f46e5,#6366f1);padding:.75rem 1.5rem;border-radius:9999px;color:#fff;font-weight:600}.dashboard-header[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]   .level-number[_ngcontent-%COMP%]{font-size:1.1rem}.progress-overview[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:2rem;margin-bottom:2rem}@media (max-width: 768px){.progress-overview[_ngcontent-%COMP%]{grid-template-columns:1fr}}.progress-overview[_ngcontent-%COMP%]   .overall-progress[_ngcontent-%COMP%]{text-align:center}.progress-overview[_ngcontent-%COMP%]   .overall-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;background:conic-gradient(#4f46e5 calc(var(--progress) * 1%),#e5e7eb 0);display:flex;align-items:center;justify-content:center;margin:0 auto 1rem;position:relative}.progress-overview[_ngcontent-%COMP%]   .overall-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]:before{content:"";position:absolute;width:120px;height:120px;background:#fff;border-radius:50%}.progress-overview[_ngcontent-%COMP%]   .overall-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{position:relative;font-size:2rem;font-weight:700;color:#111827}.progress-overview[_ngcontent-%COMP%]   .overall-progress[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#6b7280;font-size:1.1rem}.progress-overview[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}@media (max-width: 768px){.progress-overview[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.progress-overview[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:.75rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;transition:transform .2s ease-in-out;text-align:center}.progress-overview[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.progress-overview[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;color:#4f46e5;margin-bottom:.5rem}.progress-overview[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#6b7280;font-size:.9rem}.skills-section[_ngcontent-%COMP%]{margin-bottom:2rem}.skills-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#111827;margin-bottom:1rem}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}@media (max-width: 768px){.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:.75rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;transition:transform .2s ease-in-out}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#111827}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]   .skill-level[_ngcontent-%COMP%]{color:#4f46e5;font-weight:600}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background:#e5e7eb;border-radius:9999px;overflow:hidden}.skills-section[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-card[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#4f46e5,#6366f1);transition:width .3s ease-in-out}.recent-challenges[_ngcontent-%COMP%]{margin-bottom:2rem}.recent-challenges[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#111827;margin-bottom:1rem}.recent-challenges[_ngcontent-%COMP%]   .challenges-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}@media (max-width: 768px){.recent-challenges[_ngcontent-%COMP%]   .challenges-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.recent-challenges[_ngcontent-%COMP%]   .challenges-grid[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:.75rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;transition:transform .2s ease-in-out}.recent-challenges[_ngcontent-%COMP%]   .challenges-grid[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.recent-challenges[_ngcontent-%COMP%]   .challenges-grid[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]   .challenge-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.recent-challenges[_ngcontent-%COMP%]   .challenges-grid[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]   .challenge-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#111827}.recent-challenges[_ngcontent-%COMP%]   .challenges-grid[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]   .challenge-header[_ngcontent-%COMP%]   .challenge-score[_ngcontent-%COMP%]{color:#10b981;font-weight:600}.recent-challenges[_ngcontent-%COMP%]   .challenges-grid[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]   .challenge-focus[_ngcontent-%COMP%]{color:#6b7280;font-size:.9rem;margin-bottom:.5rem}.recent-challenges[_ngcontent-%COMP%]   .challenges-grid[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]   .challenge-date[_ngcontent-%COMP%]{color:#6b7280;font-size:.8rem}.badges-section[_ngcontent-%COMP%]{margin-bottom:2rem}.badges-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#111827;margin-bottom:1rem}.badges-section[_ngcontent-%COMP%]   .badges-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}@media (max-width: 768px){.badges-section[_ngcontent-%COMP%]   .badges-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.badges-section[_ngcontent-%COMP%]   .badges-grid[_ngcontent-%COMP%]   .badge-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:.75rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;transition:transform .2s ease-in-out;text-align:center}.badges-section[_ngcontent-%COMP%]   .badges-grid[_ngcontent-%COMP%]   .badge-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.badges-section[_ngcontent-%COMP%]   .badges-grid[_ngcontent-%COMP%]   .badge-card[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.badges-section[_ngcontent-%COMP%]   .badges-grid[_ngcontent-%COMP%]   .badge-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#111827;margin-bottom:.5rem}.badges-section[_ngcontent-%COMP%]   .badges-grid[_ngcontent-%COMP%]   .badge-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.9rem;margin-bottom:.5rem}.badges-section[_ngcontent-%COMP%]   .badges-grid[_ngcontent-%COMP%]   .badge-card[_ngcontent-%COMP%]   .badge-date[_ngcontent-%COMP%]{color:#6b7280;font-size:.8rem}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:2rem}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:.5rem;font-weight:600;transition:all .2s ease-in-out}.action-buttons[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background:#4f46e5;color:#fff}.action-buttons[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover{background:#3a30e2}.action-buttons[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background:#e5e7eb;color:#111827}.action-buttons[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background:#d7dae0}']})}return n})();var Sx=(()=>{class n{email="";password="";rememberMe=!1;onSubmit(){console.log("Login submitted",{email:this.email,password:this.password,rememberMe:this.rememberMe})}loginWithGoogle(){console.log("Login with Google clicked")}loginWithGithub(){console.log("Login with GitHub clicked")}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["app-login"]],standalone:!0,features:[re],decls:46,vars:3,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50"],[1,"max-w-md","w-full","space-y-8","p-8","bg-white","rounded-xl","shadow-lg"],[1,"text-center"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"mt-8","space-y-6",3,"ngSubmit"],[1,"space-y-4"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","name","email","type","email","required","","placeholder","Enter your email",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","name","password","type","password","required","","placeholder","Enter your password",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["id","remember-me","name","remember-me","type","checkbox",1,"h-4","w-4","text-primary","focus:ring-primary","border-gray-300","rounded",3,"ngModelChange","ngModel"],["for","remember-me",1,"ml-2","block","text-sm","text-gray-900"],[1,"text-sm"],["routerLink","/auth/forgot-password",1,"font-medium","text-primary","hover:text-primary-dark"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-primary","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary"],[1,"mt-6"],[1,"relative"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-2","bg-white","text-gray-500"],[1,"mt-6","grid","grid-cols-2","gap-3"],["type","button",1,"w-full","flex","items-center","justify-center","px-4","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50",3,"click"],["src","assets/google-icon.svg","alt","Google logo",1,"h-5","w-5","mr-2"],["src","assets/github-icon.svg","alt","GitHub logo",1,"h-5","w-5","mr-2"],[1,"mt-6","text-center","text-sm","text-gray-600"],["routerLink","/auth/register",1,"font-medium","text-primary","hover:text-primary-dark"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4,"Welcome back"),m(),p(5,"p",4),y(6," Please sign in to your account "),m()(),p(7,"form",5),ne("ngSubmit",function(){return i.onSubmit()}),p(8,"div",6)(9,"div")(10,"label",7),y(11," Email address "),m(),p(12,"input",8),Be("ngModelChange",function(s){return He(i.email,s)||(i.email=s),s}),m()(),p(13,"div")(14,"label",9),y(15," Password "),m(),p(16,"input",10),Be("ngModelChange",function(s){return He(i.password,s)||(i.password=s),s}),m()()(),p(17,"div",11)(18,"div",12)(19,"input",13),Be("ngModelChange",function(s){return He(i.rememberMe,s)||(i.rememberMe=s),s}),m(),p(20,"label",14),y(21," Remember me "),m()(),p(22,"div",15)(23,"a",16),y(24," Forgot your password? "),m()()(),p(25,"div")(26,"button",17),y(27," Sign in "),m()()(),p(28,"div",18)(29,"div",19)(30,"div",20),de(31,"div",21),m(),p(32,"div",22)(33,"span",23),y(34," Or continue with "),m()()(),p(35,"div",24)(36,"button",25),ne("click",function(){return i.loginWithGoogle()}),de(37,"img",26),y(38," Google "),m(),p(39,"button",25),ne("click",function(){return i.loginWithGithub()}),de(40,"img",27),y(41," GitHub "),m()()(),p(42,"p",28),y(43," Don't have an account? "),p(44,"a",29),y(45," Sign up "),m()()()()),r&2&&(D(12),Ue("ngModel",i.email),D(4),Ue("ngModel",i.password),D(3),Ue("ngModel",i.rememberMe))},dependencies:[ae,Wt,_i,bn,po,En,vi,ar,cn,Fr,$e,At],encapsulation:2})}return n})();var xx=(()=>{class n{name="";email="";password="";confirmPassword="";acceptTerms=!1;isFormValid(){return this.name.trim()!==""&&this.email.trim()!==""&&this.password.length>=8&&this.password===this.confirmPassword&&this.acceptTerms}onSubmit(){this.isFormValid()&&console.log("Register submitted",{name:this.name,email:this.email,password:this.password,acceptTerms:this.acceptTerms})}registerWithGoogle(){console.log("Register with Google clicked")}registerWithGithub(){console.log("Register with GitHub clicked")}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["app-register"]],standalone:!0,features:[re],decls:55,vars:6,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50"],[1,"max-w-md","w-full","space-y-8","p-8","bg-white","rounded-xl","shadow-lg"],[1,"text-center"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"mt-8","space-y-6",3,"ngSubmit"],[1,"space-y-4"],["for","name",1,"block","text-sm","font-medium","text-gray-700"],["id","name","name","name","type","text","required","","placeholder","Enter your full name",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","name","email","type","email","required","","placeholder","Enter your email",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","name","password","type","password","required","","placeholder","Create a password",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","name","confirmPassword","type","password","required","","placeholder","Confirm your password",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary",3,"ngModelChange","ngModel"],[1,"flex","items-center"],["id","terms","name","terms","type","checkbox","required","",1,"h-4","w-4","text-primary","focus:ring-primary","border-gray-300","rounded",3,"ngModelChange","ngModel"],["for","terms",1,"ml-2","block","text-sm","text-gray-900"],["href","/terms",1,"text-primary","hover:text-primary-dark"],["href","/privacy",1,"text-primary","hover:text-primary-dark"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-primary","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"mt-6"],[1,"relative"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-2","bg-white","text-gray-500"],[1,"mt-6","grid","grid-cols-2","gap-3"],["type","button",1,"w-full","flex","items-center","justify-center","px-4","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50",3,"click"],["src","assets/google-icon.svg","alt","Google logo",1,"h-5","w-5","mr-2"],["src","assets/github-icon.svg","alt","GitHub logo",1,"h-5","w-5","mr-2"],[1,"mt-6","text-center","text-sm","text-gray-600"],["routerLink","/auth/login",1,"font-medium","text-primary","hover:text-primary-dark"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4,"Create your account"),m(),p(5,"p",4),y(6," Join AI Fight Club and start your journey "),m()(),p(7,"form",5),ne("ngSubmit",function(){return i.onSubmit()}),p(8,"div",6)(9,"div")(10,"label",7),y(11," Full Name "),m(),p(12,"input",8),Be("ngModelChange",function(s){return He(i.name,s)||(i.name=s),s}),m()(),p(13,"div")(14,"label",9),y(15," Email address "),m(),p(16,"input",10),Be("ngModelChange",function(s){return He(i.email,s)||(i.email=s),s}),m()(),p(17,"div")(18,"label",11),y(19," Password "),m(),p(20,"input",12),Be("ngModelChange",function(s){return He(i.password,s)||(i.password=s),s}),m()(),p(21,"div")(22,"label",13),y(23," Confirm Password "),m(),p(24,"input",14),Be("ngModelChange",function(s){return He(i.confirmPassword,s)||(i.confirmPassword=s),s}),m()()(),p(25,"div",15)(26,"input",16),Be("ngModelChange",function(s){return He(i.acceptTerms,s)||(i.acceptTerms=s),s}),m(),p(27,"label",17),y(28," I agree to the "),p(29,"a",18),y(30,"Terms of Service"),m(),y(31," and "),p(32,"a",19),y(33,"Privacy Policy"),m()()(),p(34,"div")(35,"button",20),y(36," Create Account "),m()()(),p(37,"div",21)(38,"div",22)(39,"div",23),de(40,"div",24),m(),p(41,"div",25)(42,"span",26),y(43," Or continue with "),m()()(),p(44,"div",27)(45,"button",28),ne("click",function(){return i.registerWithGoogle()}),de(46,"img",29),y(47," Google "),m(),p(48,"button",28),ne("click",function(){return i.registerWithGithub()}),de(49,"img",30),y(50," GitHub "),m()()(),p(51,"p",31),y(52," Already have an account? "),p(53,"a",32),y(54," Sign in "),m()()()()),r&2&&(D(12),Ue("ngModel",i.name),D(4),Ue("ngModel",i.email),D(4),Ue("ngModel",i.password),D(4),Ue("ngModel",i.confirmPassword),D(2),Ue("ngModel",i.acceptTerms),D(9),q("disabled",!i.isFormValid()))},dependencies:[ae,Wt,_i,bn,po,En,vi,ar,J0,cn,Fr,$e,At],encapsulation:2})}return n})();function E3(n,e){if(n&1&&(p(0,"div",12)(1,"p"),y(2),m()()),n&2){let t=Se();D(2),G("If an account exists for ",t.email,", you will receive password reset instructions.")}}var Ax=(()=>{class n{email="";submitted=!1;isEmailValid(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)}onSubmit(){this.isEmailValid()&&(console.log("Password reset requested for:",this.email),this.submitted=!0)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["app-forgot-password"]],standalone:!0,features:[re],decls:20,vars:3,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50"],[1,"max-w-md","w-full","space-y-8","p-8","bg-white","rounded-xl","shadow-lg"],[1,"text-center"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"mt-8","space-y-6",3,"ngSubmit"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","name","email","type","email","required","","placeholder","Enter your email",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-primary","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","mt-4 p-4 rounded-md bg-green-50 text-green-700",4,"ngIf"],[1,"mt-6","text-center","text-sm","text-gray-600"],["routerLink","/auth/login",1,"font-medium","text-primary","hover:text-primary-dark"],[1,"mt-4","p-4","rounded-md","bg-green-50","text-green-700"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4,"Reset your password"),m(),p(5,"p",4),y(6," Enter your email address and we'll send you a link to reset your password "),m()(),p(7,"form",5),ne("ngSubmit",function(){return i.onSubmit()}),p(8,"div")(9,"label",6),y(10," Email address "),m(),p(11,"input",7),Be("ngModelChange",function(s){return He(i.email,s)||(i.email=s),s}),m()(),p(12,"div")(13,"button",8),y(14," Send Reset Link "),m()()(),Y(15,E3,3,1,"div",9),p(16,"p",10),y(17," Remember your password? "),p(18,"a",11),y(19," Sign in "),m()()()()),r&2&&(D(11),Ue("ngModel",i.email),D(2),q("disabled",!i.isEmailValid()),D(2),q("ngIf",i.submitted))},dependencies:[ae,xt,Wt,_i,bn,En,vi,ar,cn,Fr,$e,At],encapsulation:2})}return n})();function C3(n,e){if(n&1&&(p(0,"div",10)(1,"div",11)(2,"div",16)(3,"div",17)(4,"span",18),y(5),m()(),p(6,"div")(7,"h3",19),y(8),m(),p(9,"p",20),y(10),m(),p(11,"p",21),y(12),m()()()()()),n&2){let t=e.$implicit;D(5),Q(t.icon),D(3),Q(t.title),D(2),Q(t.description),D(2),Q(t.date)}}var Mx=(()=>{class n{profileStats={totalChallenges:50,completedChallenges:35,winRate:75,averageScore:85,rank:"Master",experience:2500,level:5};achievements=[{id:"1",title:"Ethics Expert",description:"Completed 10 ethics challenges with perfect scores",date:"2024-03-15",icon:"\u{1F3C6}"},{id:"2",title:"Quick Thinker",description:"Solved a challenge in under 5 minutes",date:"2024-03-10",icon:"\u26A1"},{id:"3",title:"Tournament Champion",description:"Won first place in the AI Ethics Championship",date:"2024-02-28",icon:"\u{1F3AF}"}];static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["app-profile"]],standalone:!0,features:[re],decls:44,vars:8,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"flex","items-center","gap-6","mb-8"],[1,"w-24","h-24","rounded-full","bg-gray-200","flex","items-center","justify-center"],[1,"text-3xl"],[1,"text-3xl","font-bold"],[1,"text-gray-600"],[1,"flex","items-center","gap-2","mt-2"],[1,"badge","badge-primary"],[1,"text-gray-500"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"card"],[1,"card-body"],[1,"text-lg","font-semibold","mb-2"],[1,"text-2xl","font-bold","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","card",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-4"],[1,"w-12","h-12","rounded-full","bg-primary/10","flex","items-center","justify-center"],[1,"text-2xl"],[1,"font-semibold"],[1,"text-sm","text-gray-600"],[1,"text-xs","text-gray-500","mt-1"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),y(4,"\u{1F464}"),m()(),p(5,"div")(6,"h1",4),y(7,"John Doe"),m(),p(8,"p",5),y(9,"AI Ethics Expert"),m(),p(10,"div",6)(11,"span",7),y(12),m(),p(13,"span",8),y(14),m()()()(),p(15,"div",9)(16,"div",10)(17,"div",11)(18,"h3",12),y(19,"Challenges"),m(),p(20,"p",4),y(21),m()()(),p(22,"div",10)(23,"div",11)(24,"h3",12),y(25,"Win Rate"),m(),p(26,"p",4),y(27),m()()(),p(28,"div",10)(29,"div",11)(30,"h3",12),y(31,"Average Score"),m(),p(32,"p",4),y(33),m()()(),p(34,"div",10)(35,"div",11)(36,"h3",12),y(37,"Rank"),m(),p(38,"p",4),y(39),m()()()(),p(40,"h2",13),y(41,"Achievements"),m(),p(42,"div",14),Y(43,C3,13,4,"div",15),m()()),r&2&&(D(12),G("Level ",i.profileStats.level,""),D(2),G("",i.profileStats.experience," XP"),D(7),Bi("",i.profileStats.completedChallenges,"/",i.profileStats.totalChallenges,""),D(6),G("",i.profileStats.winRate,"%"),D(6),Q(i.profileStats.averageScore),D(6),Q(i.profileStats.rank),D(4),q("ngForOf",i.achievements))},dependencies:[ae,Je,$e],encapsulation:2})}return n})();function D3(n,e){if(n&1&&(p(0,"option",20),y(1),m()),n&2){let t=e.$implicit;q("value",t.value),D(),G(" ",t.title," ")}}function T3(n,e){if(n&1){let t=yn();p(0,"div",6)(1,"div")(2,"h3",7),y(3),m(),p(4,"p",8),y(5),m()(),p(6,"label",11)(7,"input",12),Be("ngModelChange",function(i){let o=Xt(t).$implicit;return He(o.enabled,i)||(o.enabled=i),Zt(i)}),m(),de(8,"span",13),m()()}if(n&2){let t=e.$implicit;D(3),Q(t.title),D(2),Q(t.description),D(2),Ue("ngModel",t.enabled)}}var Rx=(()=>{class n{themes=[{id:"1",title:"Light",value:"light"},{id:"2",title:"Dark",value:"dark"},{id:"3",title:"System",value:"system"}];selectedTheme="light";darkMode=!1;profileVisibility="public";showOnlineStatus=!0;notificationSettings=[{id:"1",title:"Challenge Invitations",description:"Get notified when you receive new challenge invitations",enabled:!0},{id:"2",title:"Tournament Updates",description:"Receive updates about tournaments you're participating in",enabled:!0},{id:"3",title:"Achievement Unlocked",description:"Get notified when you unlock new achievements",enabled:!0},{id:"4",title:"Friend Activity",description:"See when friends complete challenges or join tournaments",enabled:!1}];static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["app-settings"]],standalone:!0,features:[re],decls:61,vars:6,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"text-3xl","font-bold","mb-8"],[1,"card","mb-8"],[1,"card-body"],[1,"text-xl","font-semibold","mb-4"],[1,"space-y-4"],[1,"flex","items-center","justify-between"],[1,"font-medium"],[1,"text-sm","text-gray-600"],[1,"select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"switch"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"slider"],["class","flex items-center justify-between",4,"ngFor","ngForOf"],["value","public"],["value","friends"],["value","private"],[1,"flex","justify-end"],[1,"btn","btn-primary"],[3,"value"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"h1",1),y(2,"Settings"),m(),p(3,"div",2)(4,"div",3)(5,"h2",4),y(6,"Theme"),m(),p(7,"div",5)(8,"div",6)(9,"div")(10,"h3",7),y(11,"Color Theme"),m(),p(12,"p",8),y(13,"Choose your preferred color theme"),m()(),p(14,"select",9),Be("ngModelChange",function(s){return He(i.selectedTheme,s)||(i.selectedTheme=s),s}),Y(15,D3,2,2,"option",10),m()(),p(16,"div",6)(17,"div")(18,"h3",7),y(19,"Dark Mode"),m(),p(20,"p",8),y(21,"Toggle dark mode"),m()(),p(22,"label",11)(23,"input",12),Be("ngModelChange",function(s){return He(i.darkMode,s)||(i.darkMode=s),s}),m(),de(24,"span",13),m()()()()(),p(25,"div",2)(26,"div",3)(27,"h2",4),y(28,"Notifications"),m(),p(29,"div",5),Y(30,T3,9,3,"div",14),m()()(),p(31,"div",2)(32,"div",3)(33,"h2",4),y(34,"Privacy"),m(),p(35,"div",5)(36,"div",6)(37,"div")(38,"h3",7),y(39,"Profile Visibility"),m(),p(40,"p",8),y(41,"Control who can see your profile"),m()(),p(42,"select",9),Be("ngModelChange",function(s){return He(i.profileVisibility,s)||(i.profileVisibility=s),s}),p(43,"option",15),y(44,"Public"),m(),p(45,"option",16),y(46,"Friends Only"),m(),p(47,"option",17),y(48,"Private"),m()()(),p(49,"div",6)(50,"div")(51,"h3",7),y(52,"Show Online Status"),m(),p(53,"p",8),y(54,"Display when you're active"),m()(),p(55,"label",11)(56,"input",12),Be("ngModelChange",function(s){return He(i.showOnlineStatus,s)||(i.showOnlineStatus=s),s}),m(),de(57,"span",13),m()()()()(),p(58,"div",18)(59,"button",19),y(60,"Save Changes"),m()()()),r&2&&(D(14),Ue("ngModel",i.selectedTheme),D(),q("ngForOf",i.themes),D(8),Ue("ngModel",i.darkMode),D(7),q("ngForOf",i.notificationSettings),D(12),Ue("ngModel",i.profileVisibility),D(14),Ue("ngModel",i.showOnlineStatus))},dependencies:[ae,Je,Wt,lx,hx,po,Kh,En,cn],styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.select[_ngcontent-%COMP%]{border-radius:.375rem;border-width:1px;padding:.5rem .75rem}']})}return n})();function S3(n,e){if(n&1&&(p(0,"div",15)(1,"div",8)(2,"h3",18),y(3),m(),p(4,"p",10),y(5),m()()()),n&2){let t=e.$implicit;D(3),Q(t.question),D(2),Q(t.answer)}}function x3(n,e){if(n&1&&(p(0,"span",21),y(1),m()),n&2){let t=e.$implicit;D(),G(" ",t," ")}}function A3(n,e){if(n&1&&(p(0,"div",15)(1,"div",8)(2,"div",19),Y(3,x3,2,1,"span",20),m(),p(4,"p",10),y(5),m()()()),n&2){let t=e.$implicit;D(3),q("ngForOf",t.keys),D(2),Q(t.description)}}var Px=(()=>{class n{faqs=[{id:"1",question:"How do I start a challenge?",answer:"To start a challenge, navigate to the Challenges page and click on any available challenge. Follow the instructions provided to complete the challenge."},{id:"2",question:"How are scores calculated?",answer:"Scores are based on your performance in various aspects of the challenge, including accuracy, speed, and adherence to best practices."},{id:"3",question:"Can I participate in multiple tournaments?",answer:"Yes, you can participate in multiple tournaments simultaneously, as long as they don't have overlapping schedules."}];keyboardShortcuts=[{id:"1",keys:["\u2318","H"],description:"Navigate to home page"},{id:"2",keys:["\u2318","D"],description:"Navigate to dashboard"},{id:"3",keys:["\u2318","C"],description:"Navigate to challenges"},{id:"4",keys:["\u2318","T"],description:"Navigate to tournaments"},{id:"5",keys:["\u2318","R"],description:"Navigate to results"},{id:"6",keys:["\u2318","?"],description:"Open help center"}];static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["app-help"]],standalone:!0,features:[re],decls:45,vars:2,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"text-3xl","font-bold","mb-8"],[1,"mb-8"],[1,"relative"],["type","text","placeholder","Search for help...",1,"w-full","px-4","py-2","border","rounded-lg"],[1,"absolute","right-2","top-2"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-8"],[1,"card","cursor-pointer","hover:shadow-lg","transition-shadow"],[1,"card-body"],[1,"text-xl","font-semibold","mb-2"],[1,"text-gray-600"],[1,"text-2xl","font-bold","mb-4"],[1,"space-y-4"],["class","card",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"card"],[1,"text-gray-600","mb-4"],[1,"btn","btn-primary"],[1,"text-lg","font-semibold","mb-2"],[1,"flex","items-center","gap-2","mb-2"],["class","px-2 py-1 bg-gray-100 rounded",4,"ngFor","ngForOf"],[1,"px-2","py-1","bg-gray-100","rounded"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"h1",1),y(2,"Help Center"),m(),p(3,"div",2)(4,"div",3),de(5,"input",4),p(6,"button",5),y(7," \u{1F50D} "),m()()(),p(8,"div",6)(9,"div",7)(10,"div",8)(11,"h3",9),y(12,"Getting Started"),m(),p(13,"p",10),y(14,"Learn the basics of AI Fight Club"),m()()(),p(15,"div",7)(16,"div",8)(17,"h3",9),y(18,"Challenges"),m(),p(19,"p",10),y(20,"Understand how challenges work"),m()()(),p(21,"div",7)(22,"div",8)(23,"h3",9),y(24,"Tournaments"),m(),p(25,"p",10),y(26,"Learn about tournament rules"),m()()()(),p(27,"div",2)(28,"h2",11),y(29,"Frequently Asked Questions"),m(),p(30,"div",12),Y(31,S3,6,2,"div",13),m()(),p(32,"div",2)(33,"h2",11),y(34,"Keyboard Shortcuts"),m(),p(35,"div",14),Y(36,A3,6,2,"div",13),m()(),p(37,"div",15)(38,"div",8)(39,"h2",11),y(40,"Still Need Help?"),m(),p(41,"p",16),y(42," Our support team is here to help you with any questions or issues you might have. "),m(),p(43,"button",17),y(44,"Contact Support"),m()()()()),r&2&&(D(31),q("ngForOf",i.faqs),D(5),q("ngForOf",i.keyboardShortcuts))},dependencies:[ae,Je,$e],encapsulation:2})}return n})();function M3(n,e){if(n&1&&(p(0,"div",9)(1,"div",10)(2,"div",11)(3,"h3",12),y(4),m(),p(5,"span"),y(6),m()(),p(7,"p",13),y(8),m(),p(9,"div",14)(10,"div",15)(11,"span",16),y(12,"Category:"),m(),p(13,"span",17),y(14),m()(),p(15,"div",15)(16,"span",16),y(17,"Prize:"),m(),p(18,"span",17),y(19),m()(),p(20,"div",15)(21,"span",16),y(22,"Participants:"),m(),p(23,"span",17),y(24),m()(),p(25,"div",15)(26,"span",16),y(27,"Duration:"),m(),p(28,"span",17),y(29),m()()(),p(30,"div",18)(31,"button",3),y(32,"Join Tournament"),m()()()()),n&2){let t=e.$implicit,r=Se();D(4),Q(t.title),D(),Er("badge "+r.getStatusClass(t.status)),D(),G(" ",t.status," "),D(2),Q(t.description),D(6),Q(t.category),D(5),Q(t.prize),D(5),Q(t.participants),D(5),Bi("",t.startDate," - ",t.endDate,"")}}var Nx=(()=>{class n{tournaments=[{id:"1",title:"AI Ethics Championship",description:"Compete in challenging scenarios focused on AI ethics and responsible AI development.",startDate:"2024-04-01",endDate:"2024-04-15",participants:128,status:"upcoming",prize:"$5,000",category:"Ethics"},{id:"2",title:"Machine Learning Masters",description:"Showcase your ML expertise in this competitive tournament.",startDate:"2024-03-15",endDate:"2024-03-30",participants:256,status:"active",prize:"$10,000",category:"Machine Learning"},{id:"3",title:"AI Safety Challenge",description:"Test your knowledge of AI safety principles and best practices.",startDate:"2024-02-01",endDate:"2024-02-15",participants:64,status:"completed",prize:"$3,000",category:"Safety"}];getStatusClass(t){switch(t){case"upcoming":return"badge upcoming";case"active":return"badge active";case"completed":return"badge completed";default:return"badge"}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["app-tournaments"]],standalone:!0,features:[re],decls:17,vars:1,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold"],[1,"btn","btn-primary"],[1,"flex","gap-4","mb-6"],[1,"btn","btn-outline","active"],[1,"btn","btn-outline"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-body"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-xl","font-semibold"],[1,"text-gray-600","mb-4"],[1,"space-y-2","mb-4"],[1,"flex","justify-between"],[1,"text-gray-500"],[1,"font-medium"],[1,"flex","justify-end"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"h1",2),y(3,"Tournaments"),m(),p(4,"button",3),y(5,"Create Tournament"),m()(),p(6,"div",4)(7,"button",5),y(8,"All"),m(),p(9,"button",6),y(10,"Upcoming"),m(),p(11,"button",6),y(12,"Active"),m(),p(13,"button",6),y(14,"Completed"),m()(),p(15,"div",7),Y(16,M3,33,10,"div",8),m()()),r&2&&(D(16),q("ngForOf",i.tournaments))},dependencies:[ae,Je,$e],styles:[".badge[_ngcontent-%COMP%]{border-radius:9999px;padding:.25rem .5rem;font-size:.875rem;line-height:1.25rem;font-weight:500}.badge.upcoming[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.badge.active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.badge.completed[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}"]})}return n})();function R3(n,e){if(n&1&&(p(0,"span",25),y(1),m()),n&2){let t=e.$implicit;D(),G(" ",t," ")}}function P3(n,e){if(n&1&&(p(0,"tr",15)(1,"td",16)(2,"div",17),y(3),m()(),p(4,"td",16)(5,"div",18)(6,"div",19)(7,"div",20),y(8),m()(),p(9,"div",21)(10,"div",17),y(11),m()()()(),p(12,"td",16)(13,"div",22),y(14),m()(),p(15,"td",16)(16,"div",22),y(17),m()(),p(18,"td",16)(19,"div",23),Y(20,R3,2,1,"span",24),m()()()),n&2){let t=e.$implicit;D(3),Q(t.rank),D(5),G(" ",t.name.charAt(0)," "),D(3),Q(t.name),D(3),Q(t.score),D(3),Q(t.challenges),D(3),q("ngForOf",t.badges)}}var Ox=(()=>{class n{leaderboardData=[{rank:1,name:"John Doe",score:9850,challenges:42,badges:["Speed Demon","Perfect Score"]},{rank:2,name:"Jane Smith",score:9720,challenges:38,badges:["Innovator","Quick Thinker"]},{rank:3,name:"Mike Johnson",score:9650,challenges:40,badges:["Precision","Problem Solver"]},{rank:4,name:"Sarah Wilson",score:9580,challenges:35,badges:["Ethics Master","Team Player"]},{rank:5,name:"Alex Brown",score:9450,challenges:36,badges:["Empathy","Communication"]},{rank:6,name:"Emily Davis",score:9320,challenges:33,badges:["Strategy","Adaptability"]},{rank:7,name:"David Lee",score:9250,challenges:31,badges:["Innovation","Creativity"]},{rank:8,name:"Lisa Chen",score:9180,challenges:30,badges:["Logic","Analysis"]},{rank:9,name:"Tom Wilson",score:9050,challenges:28,badges:["Ethics","Judgment"]},{rank:10,name:"Amy Taylor",score:8920,challenges:27,badges:["Empathy","Understanding"]}];constructor(){}ngOnInit(){}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["app-leaderboard"]],standalone:!0,features:[re],decls:30,vars:1,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"flex","space-x-4"],[1,"border","rounded-md","px-3","py-2"],["value","all"],["value","month"],["value","week"],["value","day"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-gray-900"],[1,"flex","items-center"],[1,"flex-shrink-0","h-10","w-10"],[1,"h-10","w-10","rounded-full","bg-gray-200","flex","items-center","justify-center"],[1,"ml-4"],[1,"text-sm","text-gray-900"],[1,"flex","space-x-1"],["class","px-2 py-1 text-xs font-medium rounded-full bg-indigo-100 text-indigo-800",4,"ngFor","ngForOf"],[1,"px-2","py-1","text-xs","font-medium","rounded-full","bg-indigo-100","text-indigo-800"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"h1",2),y(3,"Leaderboard"),m(),p(4,"div",3)(5,"select",4)(6,"option",5),y(7,"All Time"),m(),p(8,"option",6),y(9,"This Month"),m(),p(10,"option",7),y(11,"This Week"),m(),p(12,"option",8),y(13,"Today"),m()()()(),p(14,"div",9)(15,"table",10)(16,"thead",11)(17,"tr")(18,"th",12),y(19," Rank "),m(),p(20,"th",12),y(21," Player "),m(),p(22,"th",12),y(23," Score "),m(),p(24,"th",12),y(25," Challenges "),m(),p(26,"th",12),y(27," Badges "),m()()(),p(28,"tbody",13),Y(29,P3,21,6,"tr",14),m()()()()),r&2&&(D(29),q("ngForOf",i.leaderboardData))},dependencies:[ae,Je,$e],encapsulation:2})}return n})();function N3(n,e){if(n&1){let t=yn();p(0,"button",25),ne("click",function(){Xt(t);let i=Se().$implicit,o=Se();return Zt(o.startChallenge(i))}),y(1," Start Challenge "),m()}}function O3(n,e){if(n&1&&(p(0,"div",26)(1,"span",27),y(2,"Completed"),m(),p(3,"span",28),y(4),m()()),n&2){let t=Se().$implicit;D(4),G("Score: ",t.score,"")}}function k3(n,e){if(n&1&&(p(0,"div",15)(1,"div",16)(2,"div",17)(3,"h3",18),y(4),m(),p(5,"span",19),y(6),m()(),p(7,"p",20),y(8),m(),p(9,"div",21)(10,"span"),y(11),m(),p(12,"span"),y(13),m(),p(14,"span"),y(15),m()(),p(16,"div",22),Y(17,N3,2,0,"button",23)(18,O3,5,1,"div",24),m()()()),n&2){let t=e.$implicit,r=Se();D(4),Q(t.title),D(),Er(r.getDifficultyClass(t.difficulty)),D(),G(" ",t.difficulty," "),D(2),Q(t.description),D(3),Q(t.category),D(2),G("",t.timeLimit," minutes"),D(2),G("",t.points," points"),D(2),q("ngIf",!t.completed),D(),q("ngIf",t.completed)}}var kx=(()=>{class n{challenges=[{id:"1",title:"Ethical Decision Making",description:"Navigate complex ethical scenarios and make decisions that balance multiple stakeholders.",difficulty:"Hard",category:"Ethics",points:100,timeLimit:30,completed:!1},{id:"2",title:"Creative Problem Solving",description:"Generate innovative solutions to open-ended problems using creative thinking techniques.",difficulty:"Medium",category:"Creativity",points:75,timeLimit:20,completed:!0,score:85},{id:"3",title:"Data Analysis Challenge",description:"Analyze complex datasets and draw meaningful insights to solve business problems.",difficulty:"Hard",category:"Analysis",points:100,timeLimit:45,completed:!1},{id:"4",title:"Communication Strategy",description:"Develop effective communication strategies for different audiences and contexts.",difficulty:"Medium",category:"Communication",points:75,timeLimit:25,completed:!1},{id:"5",title:"Quick Ethics Quiz",description:"Test your knowledge of ethical principles and decision-making frameworks.",difficulty:"Easy",category:"Ethics",points:50,timeLimit:15,completed:!0,score:90},{id:"6",title:"Innovation Workshop",description:"Practice creative thinking techniques to generate innovative ideas and solutions.",difficulty:"Easy",category:"Creativity",points:50,timeLimit:20,completed:!1}];constructor(){}ngOnInit(){}getDifficultyClass(t){switch(t){case"Easy":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}startChallenge(t){console.log("Starting challenge:",t.id)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["app-challenges"]],standalone:!0,features:[re],decls:27,vars:1,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"flex","space-x-4"],[1,"border","rounded-md","px-3","py-2"],["value","all"],["value","ethics"],["value","creativity"],["value","analysis"],["value","communication"],["value","easy"],["value","medium"],["value","hard"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-md","overflow-hidden","hover:shadow-lg","transition-shadow","duration-200"],[1,"p-6"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-xl","font-semibold","text-gray-900"],[1,"px-2","py-1","text-xs","font-medium","rounded-full"],[1,"text-gray-600","mb-4"],[1,"flex","items-center","justify-between","text-sm","text-gray-500","mb-4"],[1,"flex","justify-between","items-center"],["class","bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors duration-200",3,"click",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],[1,"bg-indigo-600","text-white","px-4","py-2","rounded-md","hover:bg-indigo-700","transition-colors","duration-200",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-green-600","font-medium"],[1,"text-gray-600"]],template:function(r,i){r&1&&(p(0,"div",0)(1,"div",1)(2,"h1",2),y(3,"Challenges"),m(),p(4,"div",3)(5,"select",4)(6,"option",5),y(7,"All Categories"),m(),p(8,"option",6),y(9,"Ethics"),m(),p(10,"option",7),y(11,"Creativity"),m(),p(12,"option",8),y(13,"Analysis"),m(),p(14,"option",9),y(15,"Communication"),m()(),p(16,"select",4)(17,"option",5),y(18,"All Difficulties"),m(),p(19,"option",10),y(20,"Easy"),m(),p(21,"option",11),y(22,"Medium"),m(),p(23,"option",12),y(24,"Hard"),m()()()(),p(25,"div",13),Y(26,k3,19,10,"div",14),m()()),r&2&&(D(26),q("ngForOf",i.challenges))},dependencies:[ae,Je,xt,$e],encapsulation:2})}return n})();var un=(()=>{class n{userService;router;loadingService;constructor(t,r,i){this.userService=t,this.router=r,this.loadingService=i}canActivate(t,r){return C(this,null,function*(){this.loadingService.show();let i=this.userService.getCurrentUserId();console.log("RouteGuard - User ID:",i);let o=r.url.split("?")[0];if(console.log("RouteGuard - Target path:",o),!i)return console.log("RouteGuard - No user ID, redirecting to welcome"),this.router.navigate(["/welcome"]),this.loadingService.hide(),!1;try{let s=yield this.userService.getUser(i);if(console.log("RouteGuard - User data:",s),!s)return console.log("User not found, redirecting to context"),this.router.navigate(["/context"]),this.loadingService.hide(),!1;if(s&&s.currentRoute===void 0&&(console.log("RouteGuard - Setting empty currentRoute"),yield this.userService.updateUserRoute(i,"")),o==="/challenges")return console.log("RouteGuard - Handling challenges page"),this.loadingService.hide(),!0;if(s?.currentRoute==="/results"&&!o.includes("/round/"))return console.log("RouteGuard - Resetting from results page"),yield this.userService.updateUserRoute(i,""),this.loadingService.hide(),!0;if(o.includes("/round/")){let a=parseInt(o.split("/").pop()||"0");if(console.log("RouteGuard - Round number:",a),s?.currentRoute&&!s.currentRoute.includes("/round/"))return console.log("RouteGuard - Redirecting to current route:",s.currentRoute),this.router.navigate([s.currentRoute]),this.loadingService.hide(),!1;if(s?.currentRoute){let u=s.currentRoute.match(/\/round\/(\d+)/);if(u){let l=parseInt(u[1]);if(a!==l)return console.log("RouteGuard - Redirecting to current round:",l),this.router.navigate([s.currentRoute]),this.loadingService.hide(),!1}}}return s?.traits&&s?.attitudes&&["/context","/traits","/attitudes"].includes(o)?(console.log("RouteGuard - Redirecting to focus page"),this.router.navigate(["/focus"]),this.loadingService.hide(),!1):s?.currentRoute&&o!==s.currentRoute?(console.log("RouteGuard - Redirecting to current route:",s.currentRoute),this.router.navigate([s.currentRoute]),this.loadingService.hide(),!1):(console.log("RouteGuard - Allowing navigation to:",o),this.loadingService.hide(),!0)}catch(s){return console.error("RouteGuard - Error:",s),this.router.navigate(["/welcome"]),this.loadingService.hide(),!1}})}isChallengeFlowRoute(t){let r=["focus","results"];return t.startsWith("round/")?!0:r.includes(t)}static \u0275fac=function(r){return new(r||n)(F(Ze),F(je),F(cr))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fx=[{path:"",component:BS},{path:"auth",children:[{path:"login",component:Sx},{path:"register",component:xx},{path:"forgot-password",component:Ax}]},{path:"context",component:fx,data:{next:"traits"}},{path:"traits",component:mx,data:{next:"attitudes"},canActivate:[un]},{path:"attitudes",component:gx,data:{next:"focus"},canActivate:[un]},{path:"focus",component:wx,data:{previous:"attitudes",next:"round/1"},canActivate:[un]},{path:"round/:round",component:Ix,canActivate:[un],data:{title:"Round"}},{path:"results",component:Ex,data:{next:"dashboard"},canActivate:[un]},{path:"dashboard",component:Tx,canActivate:[un]},{path:"share",component:Dx,canActivate:[un]},{path:"profile",component:Mx,canActivate:[un]},{path:"settings",component:Rx,canActivate:[un]},{path:"help",component:Px},{path:"tournaments",component:Nx,canActivate:[un]},{path:"leaderboard",component:Ox,canActivate:[un]},{path:"challenges",component:kx,canActivate:[un]}];var Lx={providers:[Bm({eventCoalescing:!0}),$C(Fx),GE(),im(ID(()=>bD(sr.firebase)),VS(()=>jS()))]};function F3(n,e){n&1&&(Kn(0),p(1,"a",14),y(2," Login "),m(),p(3,"a",15),y(4," Register "),m(),Qn())}function L3(n,e){if(n&1){let t=yn();Kn(0),p(1,"a",16),y(2," Profile "),m(),p(3,"a",17),y(4," Settings "),m(),p(5,"button",18),ne("click",function(){Xt(t);let i=Se();return Zt(i.logout())}),y(6," Logout "),m(),Qn()}}var Vx=(()=>{class n{router;isAuthenticated=!0;constructor(t){this.router=t}logout(){this.isAuthenticated=!1,this.router.navigate(["/"])}resetGame(){confirm("Are you sure you want to reset the game? All progress will be lost.")&&(console.log("Game reset requested by user"),this.router.navigate(["/"]))}static \u0275fac=function(r){return new(r||n)(B(je))};static \u0275cmp=te({type:n,selectors:[["app-app-header"]],standalone:!0,features:[re],decls:22,vars:2,consts:[[1,"bg-white","dark:bg-gray-800","border-b","border-gray-200","dark:border-gray-700"],[1,"container","mx-auto","px-4","py-3"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["routerLink","/",1,"text-xl","font-bold","text-gray-800","dark:text-white"],[1,"hidden","md:flex","items-center","space-x-6"],["routerLink","/dashboard",1,"text-gray-600","dark:text-gray-300","hover:text-gray-900","dark:hover:text-white"],["routerLink","/challenges",1,"text-gray-600","dark:text-gray-300","hover:text-gray-900","dark:hover:text-white"],["routerLink","/leaderboard",1,"text-gray-600","dark:text-gray-300","hover:text-gray-900","dark:hover:text-white"],["routerLink","/tournaments",1,"text-gray-600","dark:text-gray-300","hover:text-gray-900","dark:hover:text-white"],["routerLink","/help",1,"text-gray-600","dark:text-gray-300","hover:text-gray-900","dark:hover:text-white"],[1,"flex","items-center","space-x-4"],[1,"text-gray-600","dark:text-gray-300","hover:text-gray-900","dark:hover:text-white","border","border-gray-300","dark:border-gray-600","px-3","py-1","rounded-md",3,"click"],[4,"ngIf"],["routerLink","/auth/login",1,"text-gray-600","dark:text-gray-300","hover:text-gray-900","dark:hover:text-white"],["routerLink","/auth/register",1,"bg-blue-600","text-white","px-4","py-2","rounded-md","hover:bg-blue-700","transition-colors"],["routerLink","/profile",1,"text-gray-600","dark:text-gray-300","hover:text-gray-900","dark:hover:text-white"],["routerLink","/settings",1,"text-gray-600","dark:text-gray-300","hover:text-gray-900","dark:hover:text-white"],[1,"text-gray-600","dark:text-gray-300","hover:text-gray-900","dark:hover:text-white",3,"click"]],template:function(r,i){r&1&&(p(0,"header",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"a",4),y(5," AI Fight Club "),m()(),p(6,"div",5)(7,"a",6),y(8," Dashboard "),m(),p(9,"a",7),y(10," Challenges "),m(),p(11,"a",8),y(12," Leaderboard "),m(),p(13,"a",9),y(14," Tournaments "),m(),p(15,"a",10),y(16," Help "),m()(),p(17,"div",11)(18,"button",12),ne("click",function(){return i.resetGame()}),y(19," Reset Game "),m(),Y(20,F3,5,0,"ng-container",13)(21,L3,7,0,"ng-container",13),m()()()()),r&2&&(D(20),q("ngIf",!i.isAuthenticated),D(),q("ngIf",i.isAuthenticated))},dependencies:[ae,xt,$e,At]})}return n})();var jx=(()=>{class n{currentYear=new Date().getFullYear();static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["app-app-layout"]],standalone:!0,features:[re],decls:7,vars:1,consts:[[1,"min-h-screen","flex","flex-col","bg-gray-50","dark:bg-gray-900"],[1,"flex-grow","container","mx-auto","p-4"],[1,"bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700"],[1,"container","mx-auto","p-4","text-center","text-sm","text-gray-600","dark:text-gray-400"]],template:function(r,i){r&1&&(p(0,"div",0),de(1,"app-app-header"),p(2,"main",1),de(3,"router-outlet"),m(),p(4,"footer",2)(5,"div",3),y(6),m()()()),r&2&&(D(6),G(" \xA9 ",i.currentYear," AI Fight Club - Human Edge Competitive Analysis "))},dependencies:[ae,rc,Vx]})}return n})();function V3(n,e){n&1&&(p(0,"div",1)(1,"div",2),de(2,"div",3),p(3,"p",4),y(4,"Loading..."),m()()())}var Ux=(()=>{class n{loadingService;isLoading=!1;constructor(t){this.loadingService=t}ngOnInit(){this.loadingService.loading$.subscribe(t=>{this.isLoading=t})}static \u0275fac=function(r){return new(r||n)(B(cr))};static \u0275cmp=te({type:n,selectors:[["app-loading"]],standalone:!0,features:[re],decls:1,vars:1,consts:[["class","fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",4,"ngIf"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","justify-center","items-center","z-50"],[1,"bg-white","p-6","rounded-lg","shadow-lg","text-center"],[1,"w-12","h-12","border-4","border-gray-200","border-t-blue-500","rounded-full","animate-spin","mx-auto","mb-4"],[1,"text-gray-700","font-medium"]],template:function(r,i){r&1&&Y(0,V3,5,0,"div",0),r&2&&q("ngIf",i.isLoading)},dependencies:[ae,xt],encapsulation:2})}return n})();var Bx=(()=>{class n{userService;router;loadingService;title="mereka-ai-game";constructor(t,r,i){this.userService=t,this.router=r,this.loadingService=i}ngOnInit(){return C(this,null,function*(){this.loadingService.show();let t=this.userService.getCurrentUserId();if(t)try{let r=yield this.userService.getUser(t);if(r){let i=window.location.pathname;i==="/"||i==="/welcome"?(console.log("Redirecting registered user to dashboard"),this.router.navigate(["/dashboard"])):r.currentRoute==="/results"?(console.log("Resetting results route on app load"),yield this.userService.updateUserRoute(t,""),i==="/results"&&this.router.navigate(["/dashboard"])):i!==r.currentRoute&&i!=="/results"&&this.router.navigate([r.currentRoute])}}catch(r){console.error("Error checking user route:",r)}this.loadingService.hide()})}static \u0275fac=function(r){return new(r||n)(B(Ze),B(je),B(cr))};static \u0275cmp=te({type:n,selectors:[["app-root"]],standalone:!0,features:[re],decls:3,vars:0,template:function(r,i){r&1&&(de(0,"app-loading"),p(1,"app-app-layout"),de(2,"router-outlet"),m())},dependencies:[rc,jx,Ux]})}return n})();eC(Bx,Lx).catch(n=>console.error(n));
